{"mappings":"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kpC,WAAY,EAC5BslB,GAAMxuD,UAAUq7B,oBAAAA,CAAuB,0BAChBmzB,cACLxzC,gBAAgBwzC,GAAO,SAAU,EAAA/0C,EAAAG,gCACjCoB,gBAAgBwzC,GAAO,QAAS,EAAA/0C,EAAAG,gCAChCoB,gBAAgBwzC,GAAO,aAAa,aACpCjyC,WAAWiyC,GAAAA,CACzB5vD,SAAU,QACV6vD,YAAa,WACbC,YAAa,0BAECttD,WAAWotD,cC5D7BxyD,OAAOK,eAAAA,GAAwB,aAAA,CAAgBC,OAAO,kBAKtD,SAAAqyD,KACI5tD,KAAK8D,EAAI,EACT9D,KAAK0Q,EAAI,EACT1Q,KAAKsD,EAAI,EACTtD,KAAKxF,EAAI,EACTwF,KAAK6tD,KAAO,QATRC,KAAAA,OAWJC,GAAAA,CACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEAC,GAAAA,CACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OAwKO,SAAcr+B,OACjB4kB,EAASx4C,KAAKmU,MAAMlQ,KAAKyoC,cACzB8L,EAAS,GAxKjB,SAA6B5kB,EAAW4kB,OAEhCpzC,EAAGC,EAAGlG,EAAGka,EAAGmmC,EAAI0S,EAAIC,EAAIC,EAAOC,EAAOC,EAAOC,EAAOC,EAAWC,EAAWC,EAAWC,EAAWC,EAAUC,EAAUC,EAAUC,EAAU13C,EAAI23C,EAAIC,EAAIC,EAAIC,EADxJC,EAASx/B,EAAUsK,KAAMnnB,EAAQ6c,EAAU7c,MAAOC,EAAS4c,EAAU5c,OAErEq8C,EAAM7a,EAASA,EAAS,EAAG8a,EAAcv8C,EAAQ,EAAGw8C,EAAev8C,EAAS,EAAGw8C,EAAchb,EAAS,EAAGib,EAAaD,GAAeA,EAAc,GAAM,EAAGE,EAAAA,IAAiB7B,GAAa8B,EAAW,KAAMC,EAAQF,EAAYG,EAAU,KAAMC,EAAW,KAAMC,EAAU/B,GAAUxZ,GAASwb,EAAU/B,GAAUzZ,OAChTr5C,EAAI,EAAGA,EAAIk0D,EAAKl0D,IACjBy0D,EAAQA,EAAM9B,KAAAA,IAAWD,GACr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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/@parcel/runtime-js/lib/bundle-manifest.js","./node_modules/@parcel/runtime-js/lib/JSRuntime.js","./node_modules/konva/lib/_FullInternals.js","./node_modules/konva/lib/_CoreInternals.js","./node_modules/konva/lib/Global.js","./node_modules/konva/lib/Util.js","./node_modules/konva/lib/Node.js","./node_modules/konva/lib/Factory.js","./node_modules/konva/lib/Validators.js","./node_modules/konva/lib/Canvas.js","./node_modules/konva/lib/Context.js","./node_modules/konva/lib/DragAndDrop.js","./node_modules/konva/lib/Container.js","./node_modules/konva/lib/Stage.js","./node_modules/konva/lib/PointerEvents.js","./node_modules/konva/lib/Layer.js","./node_modules/konva/lib/Shape.js","./node_modules/konva/lib/FastLayer.js","./node_modules/konva/lib/Group.js","./node_modules/konva/lib/Animation.js","./node_modules/konva/lib/Tween.js","./node_modules/konva/lib/shapes/Arc.js","./node_modules/konva/lib/shapes/Arrow.js","./node_modules/konva/lib/shapes/Line.js","./node_modules/konva/lib/shapes/Circle.js","./node_modules/konva/lib/shapes/Ellipse.js","./node_modules/konva/lib/shapes/Image.js","./node_modules/konva/lib/shapes/Label.js","./node_modules/konva/lib/shapes/Path.js","./node_modules/konva/lib/shapes/Rect.js","./node_modules/konva/lib/shapes/RegularPolygon.js","./node_modules/konva/lib/shapes/Ring.js","./node_modules/konva/lib/shapes/Sprite.js","./node_modules/konva/lib/shapes/Star.js","./node_modules/konva/lib/shapes/Text.js","./node_modules/konva/lib/shapes/TextPath.js","./node_modules/konva/lib/shapes/Transformer.js","./node_modules/konva/lib/shapes/Wedge.js","./node_modules/konva/lib/filters/Blur.js","./node_modules/konva/lib/filters/Brighten.js","./node_modules/konva/lib/filters/Contrast.js","./node_modules/konva/lib/filters/Emboss.js","./node_modules/konva/lib/filters/Enhance.js","./node_modules/konva/lib/filters/Grayscale.js","./node_modules/konva/lib/filters/HSL.js","./node_modules/konva/lib/filters/HSV.js","./node_modules/konva/lib/filters/Invert.js","./node_modules/konva/lib/filters/Kaleidoscope.js","./node_modules/konva/lib/filters/Mask.js","./node_modules/konva/lib/filters/Noise.js","./node_modules/konva/lib/filters/Pixelate.js","./node_modules/konva/lib/filters/Posterize.js","./node_modules/konva/lib/filters/RGB.js","./node_modules/konva/lib/filters/RGBA.js","./node_modules/konva/lib/filters/Sepia.js","./node_modules/konva/lib/filters/Solarize.js","./node_modules/konva/lib/filters/Threshold.js","./node_modules/konva/lib/index.js","./js/utils.ts","./server/src/shared/Tiles.ts","./server/src/utils.ts","./js/TilesUI.ts","./js/menu.ts","./js/Discard.ts","./node_modules/@parcel/runtime-js/lib/bundle-url.js","./node_modules/@parcel/runtime-js/lib/relative-path.js","./js/TileImages.ts","./js/Wildcard.ts","./js/UI.ts","./server/src/events.ts","./js/main.ts","./js/socket.ts"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _plugin() {\n  const data = require(\"@parcel/plugin\");\n\n  _plugin = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _utils() {\n  const data = require(\"@parcel/utils\");\n\n  _utils = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nullthrows() {\n  const data = _interopRequireDefault(require(\"nullthrows\"));\n\n  _nullthrows = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// List of browsers that support dynamic import natively\n// https://caniuse.com/#feat=es6-module-dynamic-import\nconst DYNAMIC_IMPORT_BROWSERS = {\n  edge: '76',\n  firefox: '67',\n  chrome: '63',\n  safari: '11.1',\n  opera: '50'\n}; // Used for as=\"\" in preload/prefetch\n\nconst TYPE_TO_RESOURCE_PRIORITY = {\n  css: 'style',\n  js: 'script'\n};\nconst BROWSER_PRELOAD_LOADER = './loaders/browser/preload-loader';\nconst BROWSER_PREFETCH_LOADER = './loaders/browser/prefetch-loader';\nconst LOADERS = {\n  browser: {\n    css: './loaders/browser/css-loader',\n    html: './loaders/browser/html-loader',\n    js: './loaders/browser/js-loader',\n    wasm: './loaders/browser/wasm-loader',\n    IMPORT_POLYFILL: './loaders/browser/import-polyfill'\n  },\n  worker: {\n    js: './loaders/worker/js-loader',\n    wasm: './loaders/worker/wasm-loader',\n    IMPORT_POLYFILL: false\n  },\n  node: {\n    css: './loaders/node/css-loader',\n    html: './loaders/node/html-loader',\n    js: './loaders/node/js-loader',\n    wasm: './loaders/node/wasm-loader',\n    IMPORT_POLYFILL: null\n  }\n};\n\nfunction getLoaders(ctx) {\n  if (ctx.isWorker()) return LOADERS.worker;\n  if (ctx.isBrowser()) return LOADERS.browser;\n  if (ctx.isNode()) return LOADERS.node;\n  return null;\n} // This cache should be invalidated if new dependencies get added to the bundle without the bundle objects changing\n// This can happen when we reuse the BundleGraph between subsequent builds\n\n\nlet bundleDependencies = new WeakMap();\n\nvar _default = new (_plugin().Runtime)({\n  apply({\n    bundle,\n    bundleGraph,\n    options\n  }) {\n    // Dependency ids in code replaced with referenced bundle names\n    // Loader runtime added for bundle groups that don't have a native loader (e.g. HTML/CSS/Worker - isURL?),\n    // and which are not loaded by a parent bundle.\n    // Loaders also added for modules that were moved to a separate bundle because they are a different type\n    // (e.g. WASM, HTML). These should be preloaded prior to the bundle being executed. Replace the entry asset(s)\n    // with the preload module.\n    if (bundle.type !== 'js') {\n      return;\n    }\n\n    let {\n      asyncDependencies,\n      otherDependencies\n    } = getDependencies(bundle);\n    let assets = [];\n\n    for (let dependency of asyncDependencies) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (resolved == null) {\n        continue;\n      }\n\n      if (resolved.type === 'asset') {\n        if (!bundle.env.shouldScopeHoist) {\n          // If this bundle already has the asset this dependency references,\n          // return a simple runtime of `Promise.resolve(internalRequire(assetId))`.\n          // The linker handles this for scope-hoisting.\n          assets.push({\n            filePath: __filename,\n            code: `module.exports = Promise.resolve(module.bundle.root(${JSON.stringify(bundleGraph.getAssetPublicId(resolved.value))}))`,\n            dependency\n          });\n        }\n      } else {\n        let loaderRuntime = getLoaderRuntime({\n          bundle,\n          dependency,\n          bundleGraph,\n          bundleGroup: resolved.value,\n          options\n        });\n\n        if (loaderRuntime != null) {\n          assets.push(loaderRuntime);\n        }\n      }\n    }\n\n    for (let dependency of otherDependencies) {\n      // Resolve the dependency to a bundle. If inline, export the dependency id,\n      // which will be replaced with the contents of that bundle later.\n      let referencedBundle = bundleGraph.getReferencedBundle(dependency, bundle);\n\n      if (referencedBundle !== null && referencedBundle !== void 0 && referencedBundle.isInline) {\n        assets.push({\n          filePath: _path().default.join(__dirname, `/bundles/${referencedBundle.id}.js`),\n          code: `module.exports = ${JSON.stringify(dependency.id)};`,\n          dependency\n        });\n        continue;\n      } // Otherwise, try to resolve the dependency to an external bundle group\n      // and insert a URL to that bundle.\n\n\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (dependency.isURL && resolved == null) {\n        // If a URL dependency was not able to be resolved, add a runtime that\n        // exports the original moduleSpecifier.\n        assets.push({\n          filePath: __filename,\n          code: `module.exports = ${JSON.stringify(dependency.moduleSpecifier)}`,\n          dependency\n        });\n        continue;\n      }\n\n      if (resolved == null || resolved.type !== 'bundle_group') {\n        continue;\n      }\n\n      let bundleGroup = resolved.value;\n      let mainBundle = (0, _nullthrows().default)(bundleGraph.getBundlesInBundleGroup(bundleGroup).find(b => {\n        let entries = b.getEntryAssets();\n        return entries.some(e => bundleGroup.entryAssetId === e.id);\n      }));\n\n      if (bundle.env.outputFormat === 'commonjs' && mainBundle.type === 'js') {\n        assets.push({\n          filePath: __filename,\n          dependency,\n          code: `module.exports = require(\"./\" + ${getRelativePathExpr(bundle, mainBundle, options)})`\n        });\n        continue;\n      } // URL dependency or not, fall back to including a runtime that exports the url\n\n\n      assets.push(getURLRuntime(dependency, bundle, mainBundle, options));\n    } // In development, bundles can be created lazily. This means that the parent bundle may not\n    // know about all of the sibling bundles of a child when it is written for the first time.\n    // Therefore, we need to also ensure that the siblings are loaded when the child loads.\n\n\n    if (options.shouldBuildLazily && bundle.env.outputFormat === 'global') {\n      let referenced = bundleGraph.getReferencedBundles(bundle).filter(b => !b.isInline);\n\n      for (let referencedBundle of referenced) {\n        let loaders = getLoaders(bundle.env);\n\n        if (!loaders) {\n          continue;\n        }\n\n        let loader = loaders[referencedBundle.type];\n\n        if (!loader) {\n          continue;\n        }\n\n        let relativePathExpr = getRelativePathExpr(bundle, referencedBundle, options);\n        let loaderCode = `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`;\n        assets.push({\n          filePath: __filename,\n          code: loaderCode,\n          isEntry: true\n        });\n      }\n    }\n\n    if (shouldUseRuntimeManifest(bundle, options) && bundleGraph.getChildBundles(bundle).length > 0 && isNewContext(bundle, bundleGraph)) {\n      assets.push({\n        filePath: __filename,\n        code: getRegisterCode(bundle, bundleGraph),\n        isEntry: true\n      });\n    }\n\n    return assets;\n  }\n\n});\n\nexports.default = _default;\n\nfunction getDependencies(bundle) {\n  let cachedDependencies = bundleDependencies.get(bundle);\n\n  if (cachedDependencies) {\n    return cachedDependencies;\n  } else {\n    let asyncDependencies = [];\n    let otherDependencies = [];\n    bundle.traverse(node => {\n      if (node.type !== 'dependency') {\n        return;\n      }\n\n      let dependency = node.value;\n\n      if (dependency.isAsync && !dependency.isURL) {\n        asyncDependencies.push(dependency);\n      } else {\n        otherDependencies.push(dependency);\n      }\n    });\n    bundleDependencies.set(bundle, {\n      asyncDependencies,\n      otherDependencies\n    });\n    return {\n      asyncDependencies,\n      otherDependencies\n    };\n  }\n}\n\nfunction getLoaderRuntime({\n  bundle,\n  dependency,\n  bundleGroup,\n  bundleGraph,\n  options\n}) {\n  let loaders = getLoaders(bundle.env);\n\n  if (loaders == null) {\n    return;\n  }\n\n  let externalBundles = bundleGraph.getBundlesInBundleGroup(bundleGroup).filter(bundle => !bundle.isInline);\n  let mainBundle = (0, _nullthrows().default)(externalBundles.find(bundle => {\n    var _bundle$getMainEntry;\n\n    return ((_bundle$getMainEntry = bundle.getMainEntry()) === null || _bundle$getMainEntry === void 0 ? void 0 : _bundle$getMainEntry.id) === bundleGroup.entryAssetId;\n  })); // CommonJS is a synchronous module system, so there is no need to load bundles in parallel.\n  // Importing of the other bundles will be handled by the bundle group entry.\n  // Do the same thing in library mode for ES modules, as we are building for another bundler\n  // and the imports for sibling bundles will be in the target bundle.\n  // Also do this when building lazily or the runtime itself could get deduplicated and only\n  // exist in the parent. This causes errors if an old version of the parent without the runtime\n  // is already loaded.\n\n  if (bundle.env.outputFormat === 'commonjs' || bundle.env.isLibrary || options.shouldBuildLazily) {\n    externalBundles = [mainBundle];\n  } else {\n    // Otherwise, load the bundle group entry after the others.\n    externalBundles.splice(externalBundles.indexOf(mainBundle), 1);\n    externalBundles.reverse().push(mainBundle);\n  } // Determine if we need to add a dynamic import() polyfill, or if all target browsers support it natively.\n\n\n  let needsDynamicImportPolyfill = false;\n\n  if (bundle.env.isBrowser() && bundle.env.outputFormat === 'esmodule') {\n    needsDynamicImportPolyfill = !bundle.env.matchesEngines(DYNAMIC_IMPORT_BROWSERS);\n  }\n\n  let loaderModules = externalBundles.map(to => {\n    let loader = loaders[to.type];\n\n    if (!loader) {\n      return;\n    }\n\n    let relativePathExpr = getRelativePathExpr(bundle, to, options); // Use esmodule loader if possible\n\n    if (to.type === 'js' && to.env.outputFormat === 'esmodule') {\n      if (!needsDynamicImportPolyfill) {\n        return `import(\"./\" + ${relativePathExpr})`;\n      }\n\n      loader = (0, _nullthrows().default)(loaders.IMPORT_POLYFILL, `No import() polyfill available for context '${bundle.env.context}'`);\n    } else if (to.type === 'js' && to.env.outputFormat === 'commonjs') {\n      return `Promise.resolve(require(\"./\" + ${relativePathExpr}))`;\n    }\n\n    let code = `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`; // In development, clear the require cache when an error occurs so the\n    // user can try again (e.g. after fixing a build error).\n\n    if (options.mode === 'development' && bundle.env.outputFormat === 'global') {\n      code += '.catch(err => {delete module.bundle.cache[module.id]; throw err;})';\n    }\n\n    return code;\n  }).filter(Boolean);\n\n  if (bundle.env.context === 'browser' && !options.shouldBuildLazily) {\n    loaderModules.push(...externalBundles // TODO: Allow css to preload resources as well\n    .filter(to => to.type === 'js').flatMap(from => {\n      let {\n        preload,\n        prefetch\n      } = getHintedBundleGroups(bundleGraph, from);\n      return [...getHintLoaders(bundleGraph, bundle, preload, BROWSER_PRELOAD_LOADER, options), ...getHintLoaders(bundleGraph, bundle, prefetch, BROWSER_PREFETCH_LOADER, options)];\n    }));\n  }\n\n  if (loaderModules.length === 0) {\n    return;\n  }\n\n  let loaderCode = loaderModules.join(', ');\n\n  if (loaderModules.length > 1 && (bundle.env.outputFormat === 'global' || !externalBundles.every(b => b.type === 'js'))) {\n    loaderCode = `Promise.all([${loaderCode}])`;\n\n    if (bundle.env.outputFormat !== 'global') {\n      loaderCode += `.then(r => r[r.length - 1])`;\n    }\n  } else {\n    loaderCode = `(${loaderCode})`;\n  }\n\n  if (bundle.env.outputFormat === 'global' && mainBundle.type === 'js') {\n    loaderCode += `.then(() => module.bundle.root('${bundleGraph.getAssetPublicId(bundleGraph.getAssetById(bundleGroup.entryAssetId))}')${// In global output with scope hoisting, functions return exports are\n    // always returned. Otherwise, the exports are returned.\n    bundle.env.shouldScopeHoist ? '()' : ''})`;\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = ${loaderCode};`,\n    dependency\n  };\n}\n\nfunction getHintedBundleGroups(bundleGraph, bundle) {\n  let preload = [];\n  let prefetch = [];\n  let {\n    asyncDependencies\n  } = getDependencies(bundle);\n\n  for (let dependency of asyncDependencies) {\n    var _dependency$meta;\n\n    let attributes = (_dependency$meta = dependency.meta) === null || _dependency$meta === void 0 ? void 0 : _dependency$meta.importAttributes;\n\n    if (typeof attributes === 'object' && attributes != null && ( // $FlowFixMe\n    attributes.preload || attributes.prefetch)) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if ((resolved === null || resolved === void 0 ? void 0 : resolved.type) === 'bundle_group') {\n        // === true for flow\n        if (attributes.preload === true) {\n          preload.push(resolved.value);\n        }\n\n        if (attributes.prefetch === true) {\n          prefetch.push(resolved.value);\n        }\n      }\n    }\n  }\n\n  return {\n    preload,\n    prefetch\n  };\n}\n\nfunction getHintLoaders(bundleGraph, from, bundleGroups, loader, options) {\n  let hintLoaders = [];\n\n  for (let bundleGroupToPreload of bundleGroups) {\n    let bundlesToPreload = bundleGraph.getBundlesInBundleGroup(bundleGroupToPreload);\n\n    for (let bundleToPreload of bundlesToPreload) {\n      let relativePathExpr = getRelativePathExpr(from, bundleToPreload, options);\n      let priority = TYPE_TO_RESOURCE_PRIORITY[bundleToPreload.type];\n      hintLoaders.push(`require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr}, ${priority ? JSON.stringify(priority) : 'null'}, ${JSON.stringify(bundleToPreload.target.env.outputFormat === 'esmodule')})`);\n    }\n  }\n\n  return hintLoaders;\n}\n\nfunction isNewContext(bundle, bundleGraph) {\n  let parents = bundleGraph.getParentBundles(bundle);\n  return bundle.isEntry || parents.length === 0 || parents.some(parent => parent.env.context !== bundle.env.context || parent.type !== 'js');\n}\n\nfunction getURLRuntime(dependency, from, to, options) {\n  let relativePathExpr = getRelativePathExpr(from, to, options);\n\n  if (dependency.meta.webworker === true) {\n    return {\n      filePath: __filename,\n      code: `module.exports = require('./get-worker-url')(${relativePathExpr});`,\n      dependency\n    };\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = require('./bundle-url').getBundleURL() + ${relativePathExpr}`,\n    dependency\n  };\n}\n\nfunction getRegisterCode(entryBundle, bundleGraph) {\n  let idToName = {};\n  bundleGraph.traverseBundles((bundle, _, actions) => {\n    if (bundle.isInline) {\n      return;\n    }\n\n    idToName[bundle.publicId] = (0, _nullthrows().default)(bundle.name);\n\n    if (bundle !== entryBundle && isNewContext(bundle, bundleGraph)) {\n      // New contexts have their own manifests, so there's no need to continue.\n      actions.skipChildren();\n    }\n  }, entryBundle);\n  return \"require('./bundle-manifest').register(JSON.parse(\" + JSON.stringify(JSON.stringify(idToName)) + '));';\n}\n\nfunction getRelativePathExpr(from, to, options) {\n  if (shouldUseRuntimeManifest(from, options)) {\n    return `require('./relative-path')(${JSON.stringify(from.publicId)}, ${JSON.stringify(to.publicId)})`;\n  }\n\n  return JSON.stringify((0, _utils().relativeBundlePath)(from, to, {\n    leadingDotSlash: false\n  }));\n}\n\nfunction shouldUseRuntimeManifest(bundle, options) {\n  let env = bundle.env;\n  return !env.isLibrary && env.outputFormat === 'global' && env.isBrowser() && options.mode === 'production';\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nvar _CoreInternals_1 = require(\"./_CoreInternals\");\nvar Arc_1 = require(\"./shapes/Arc\");\nvar Arrow_1 = require(\"./shapes/Arrow\");\nvar Circle_1 = require(\"./shapes/Circle\");\nvar Ellipse_1 = require(\"./shapes/Ellipse\");\nvar Image_1 = require(\"./shapes/Image\");\nvar Label_1 = require(\"./shapes/Label\");\nvar Line_1 = require(\"./shapes/Line\");\nvar Path_1 = require(\"./shapes/Path\");\nvar Rect_1 = require(\"./shapes/Rect\");\nvar RegularPolygon_1 = require(\"./shapes/RegularPolygon\");\nvar Ring_1 = require(\"./shapes/Ring\");\nvar Sprite_1 = require(\"./shapes/Sprite\");\nvar Star_1 = require(\"./shapes/Star\");\nvar Text_1 = require(\"./shapes/Text\");\nvar TextPath_1 = require(\"./shapes/TextPath\");\nvar Transformer_1 = require(\"./shapes/Transformer\");\nvar Wedge_1 = require(\"./shapes/Wedge\");\nvar Blur_1 = require(\"./filters/Blur\");\nvar Brighten_1 = require(\"./filters/Brighten\");\nvar Contrast_1 = require(\"./filters/Contrast\");\nvar Emboss_1 = require(\"./filters/Emboss\");\nvar Enhance_1 = require(\"./filters/Enhance\");\nvar Grayscale_1 = require(\"./filters/Grayscale\");\nvar HSL_1 = require(\"./filters/HSL\");\nvar HSV_1 = require(\"./filters/HSV\");\nvar Invert_1 = require(\"./filters/Invert\");\nvar Kaleidoscope_1 = require(\"./filters/Kaleidoscope\");\nvar Mask_1 = require(\"./filters/Mask\");\nvar Noise_1 = require(\"./filters/Noise\");\nvar Pixelate_1 = require(\"./filters/Pixelate\");\nvar Posterize_1 = require(\"./filters/Posterize\");\nvar RGB_1 = require(\"./filters/RGB\");\nvar RGBA_1 = require(\"./filters/RGBA\");\nvar Sepia_1 = require(\"./filters/Sepia\");\nvar Solarize_1 = require(\"./filters/Solarize\");\nvar Threshold_1 = require(\"./filters/Threshold\");\nexports.Konva = _CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva, {\n    Arc: Arc_1.Arc,\n    Arrow: Arrow_1.Arrow,\n    Circle: Circle_1.Circle,\n    Ellipse: Ellipse_1.Ellipse,\n    Image: Image_1.Image,\n    Label: Label_1.Label,\n    Tag: Label_1.Tag,\n    Line: Line_1.Line,\n    Path: Path_1.Path,\n    Rect: Rect_1.Rect,\n    RegularPolygon: RegularPolygon_1.RegularPolygon,\n    Ring: Ring_1.Ring,\n    Sprite: Sprite_1.Sprite,\n    Star: Star_1.Star,\n    Text: Text_1.Text,\n    TextPath: TextPath_1.TextPath,\n    Transformer: Transformer_1.Transformer,\n    Wedge: Wedge_1.Wedge,\n    Filters: {\n        Blur: Blur_1.Blur,\n        Brighten: Brighten_1.Brighten,\n        Contrast: Contrast_1.Contrast,\n        Emboss: Emboss_1.Emboss,\n        Enhance: Enhance_1.Enhance,\n        Grayscale: Grayscale_1.Grayscale,\n        HSL: HSL_1.HSL,\n        HSV: HSV_1.HSV,\n        Invert: Invert_1.Invert,\n        Kaleidoscope: Kaleidoscope_1.Kaleidoscope,\n        Mask: Mask_1.Mask,\n        Noise: Noise_1.Noise,\n        Pixelate: Pixelate_1.Pixelate,\n        Posterize: Posterize_1.Posterize,\n        RGB: RGB_1.RGB,\n        RGBA: RGBA_1.RGBA,\n        Sepia: Sepia_1.Sepia,\n        Solarize: Solarize_1.Solarize,\n        Threshold: Threshold_1.Threshold,\n    },\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nvar Global_1 = require(\"./Global\");\nvar Util_1 = require(\"./Util\");\nvar Node_1 = require(\"./Node\");\nvar Container_1 = require(\"./Container\");\nvar Stage_1 = require(\"./Stage\");\nvar Layer_1 = require(\"./Layer\");\nvar FastLayer_1 = require(\"./FastLayer\");\nvar Group_1 = require(\"./Group\");\nvar DragAndDrop_1 = require(\"./DragAndDrop\");\nvar Shape_1 = require(\"./Shape\");\nvar Animation_1 = require(\"./Animation\");\nvar Tween_1 = require(\"./Tween\");\nvar Context_1 = require(\"./Context\");\nvar Canvas_1 = require(\"./Canvas\");\nexports.Konva = Util_1.Util._assign(Global_1.Konva, {\n    Collection: Util_1.Collection,\n    Util: Util_1.Util,\n    Transform: Util_1.Transform,\n    Node: Node_1.Node,\n    ids: Node_1.ids,\n    names: Node_1.names,\n    Container: Container_1.Container,\n    Stage: Stage_1.Stage,\n    stages: Stage_1.stages,\n    Layer: Layer_1.Layer,\n    FastLayer: FastLayer_1.FastLayer,\n    Group: Group_1.Group,\n    DD: DragAndDrop_1.DD,\n    Shape: Shape_1.Shape,\n    shapes: Shape_1.shapes,\n    Animation: Animation_1.Animation,\n    Tween: Tween_1.Tween,\n    Easings: Tween_1.Easings,\n    Context: Context_1.Context,\n    Canvas: Canvas_1.Canvas\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._registerNode = exports._NODES_REGISTRY = exports.Konva = exports.glob = exports._parseUA = void 0;\nvar PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nvar _detectIE = function (ua) {\n    var msie = ua.indexOf('msie ');\n    if (msie > 0) {\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n    }\n    var trident = ua.indexOf('trident/');\n    if (trident > 0) {\n        var rv = ua.indexOf('rv:');\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n    }\n    var edge = ua.indexOf('edge/');\n    if (edge > 0) {\n        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n    }\n    return false;\n};\nvar _parseUA = function (userAgent) {\n    var ua = userAgent.toLowerCase(), match = /(chrome)[ /]([\\w.]+)/.exec(ua) ||\n        /(webkit)[ /]([\\w.]+)/.exec(ua) ||\n        /(opera)(?:.*version|)[ /]([\\w.]+)/.exec(ua) ||\n        /(msie) ([\\w.]+)/.exec(ua) ||\n        (ua.indexOf('compatible') < 0 &&\n            /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua)) ||\n        [], mobile = !!userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i), ieMobile = !!userAgent.match(/IEMobile/i);\n    return {\n        browser: match[1] || '',\n        version: match[2] || '0',\n        isIE: _detectIE(ua),\n        mobile: mobile,\n        ieMobile: ieMobile\n    };\n};\nexports._parseUA = _parseUA;\nexports.glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexports.Konva = {\n    _global: exports.glob,\n    version: '7.2.5',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle: function (angle) {\n        return exports.Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    _pointerEventsEnabled: false,\n    hitOnDragEnabled: false,\n    captureTouchEventsEnabled: false,\n    listenClickTap: false,\n    inDblClickWindow: false,\n    pixelRatio: undefined,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging: function () {\n        return exports.Konva['DD'].isDragging;\n    },\n    isDragReady: function () {\n        return !!exports.Konva['DD'].node;\n    },\n    UA: exports._parseUA((exports.glob.navigator && exports.glob.navigator.userAgent) || ''),\n    document: exports.glob.document,\n    _injectGlobal: function (Konva) {\n        exports.glob.Konva = Konva;\n    },\n    _parseUA: exports._parseUA\n};\nexports._NODES_REGISTRY = {};\nvar _registerNode = function (NodeClass) {\n    exports._NODES_REGISTRY[NodeClass.prototype.getClassName()] = NodeClass;\n    exports.Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nexports._registerNode = _registerNode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.Transform = exports.Collection = void 0;\nvar Global_1 = require(\"./Global\");\nvar Collection = (function () {\n    function Collection() {\n    }\n    Collection.toCollection = function (arr) {\n        var collection = new Collection(), len = arr.length, n;\n        for (n = 0; n < len; n++) {\n            collection.push(arr[n]);\n        }\n        return collection;\n    };\n    Collection._mapMethod = function (methodName) {\n        Collection.prototype[methodName] = function () {\n            var len = this.length, i;\n            var args = [].slice.call(arguments);\n            for (i = 0; i < len; i++) {\n                this[i][methodName].apply(this[i], args);\n            }\n            return this;\n        };\n    };\n    Collection.mapMethods = function (constructor) {\n        var prot = constructor.prototype;\n        for (var methodName in prot) {\n            Collection._mapMethod(methodName);\n        }\n    };\n    return Collection;\n}());\nexports.Collection = Collection;\nCollection.prototype = [];\nCollection.prototype.each = function (func) {\n    for (var n = 0; n < this.length; n++) {\n        func(this[n], n);\n    }\n};\nCollection.prototype.toArray = function () {\n    var arr = [], len = this.length, n;\n    for (n = 0; n < len; n++) {\n        arr.push(this[n]);\n    }\n    return arr;\n};\nvar Transform = (function () {\n    function Transform(m) {\n        if (m === void 0) { m = [1, 0, 0, 1, 0, 0]; }\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    Transform.prototype.reset = function () {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    };\n    Transform.prototype.copy = function () {\n        return new Transform(this.m);\n    };\n    Transform.prototype.copyInto = function (tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    };\n    Transform.prototype.point = function (point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    };\n    Transform.prototype.translate = function (x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    };\n    Transform.prototype.scale = function (sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    };\n    Transform.prototype.rotate = function (rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    };\n    Transform.prototype.getTranslation = function () {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    };\n    Transform.prototype.skew = function (sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    };\n    Transform.prototype.multiply = function (matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    };\n    Transform.prototype.invert = function () {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    };\n    Transform.prototype.getMatrix = function () {\n        return this.m;\n    };\n    Transform.prototype.setAbsolutePosition = function (x, y) {\n        var m0 = this.m[0], m1 = this.m[1], m2 = this.m[2], m3 = this.m[3], m4 = this.m[4], m5 = this.m[5], yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2), xt = (x - m4 - m2 * yt) / m0;\n        return this.translate(xt, yt);\n    };\n    Transform.prototype.decompose = function () {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        var result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = exports.Util._getRotation(result.rotation);\n        return result;\n    };\n    return Transform;\n}());\nexports.Transform = Transform;\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nexports.Util = {\n    _isElement: function (obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction: function (obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject: function (obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray: function (obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber: function (obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString: function (obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean: function (obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject: function (val) {\n        return val instanceof Object;\n    },\n    isValidSelector: function (selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign: function (number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame: function (callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            requestAnimationFrame(function () {\n                var queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement: function () {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement: function () {\n        return document.createElement('img');\n    },\n    _isInDocument: function (el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _simplifyArray: function (arr) {\n        var retArr = [], len = arr.length, util = exports.Util, n, val;\n        for (n = 0; n < len; n++) {\n            val = arr[n];\n            if (util._isNumber(val)) {\n                val = Math.round(val * 1000) / 1000;\n            }\n            else if (!util._isString(val)) {\n                val = val.toString();\n            }\n            retArr.push(val);\n        }\n        return retArr;\n    },\n    _urlToImage: function (url, callback) {\n        var imageObj = new Global_1.glob.Image();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex: function (r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb: function (hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor: function () {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    get: function (val, def) {\n        if (val === undefined) {\n            return def;\n        }\n        else {\n            return val;\n        }\n    },\n    getRGB: function (color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA: function (str) {\n        str = str || 'black';\n        return (exports.Util._namedColorToRBA(str) ||\n            exports.Util._hex3ColorToRGBA(str) ||\n            exports.Util._hex6ColorToRGBA(str) ||\n            exports.Util._rgbColorToRGBA(str) ||\n            exports.Util._rgbaColorToRGBA(str) ||\n            exports.Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA: function (str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA: function (str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA: function (str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA: function (str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA: function (str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA: function (str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            var _a = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str), _ = _a[0], hsl = _a.slice(1);\n            var h = Number(hsl[0]) / 360;\n            var s = Number(hsl[1]) / 100;\n            var l = Number(hsl[2]) / 100;\n            var t2 = void 0;\n            var t3 = void 0;\n            var val = void 0;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            var t1 = 2 * l - t2;\n            var rgb = [0, 0, 0];\n            for (var i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection: function (r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject: function (obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray: function (arr) {\n        return arr.slice(0);\n    },\n    _degToRad: function (deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    _radToDeg: function (rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _getRotation: function (radians) {\n        return Global_1.Konva.angleDeg ? exports.Util._radToDeg(radians) : radians;\n    },\n    _capitalize: function (str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw: function (str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error: function (str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn: function (str) {\n        if (!Global_1.Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    extend: function (child, parent) {\n        function Ctor() {\n            this.constructor = child;\n        }\n        Ctor.prototype = parent.prototype;\n        var oldProto = child.prototype;\n        child.prototype = new Ctor();\n        for (var key in oldProto) {\n            if (oldProto.hasOwnProperty(key)) {\n                child.prototype[key] = oldProto[key];\n            }\n        }\n        child.__super__ = parent.prototype;\n        child.super = parent;\n    },\n    _getControlPoints: function (x0, y0, x1, y1, x2, y2, t) {\n        var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n        return [p1x, p1y, p2x, p2y];\n    },\n    _expandPoints: function (p, tension) {\n        var len = p.length, allPoints = [], n, cp;\n        for (n = 2; n < len - 2; n += 2) {\n            cp = exports.Util._getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n            if (isNaN(cp[0])) {\n                continue;\n            }\n            allPoints.push(cp[0]);\n            allPoints.push(cp[1]);\n            allPoints.push(p[n]);\n            allPoints.push(p[n + 1]);\n            allPoints.push(cp[2]);\n            allPoints.push(cp[3]);\n        }\n        return allPoints;\n    },\n    each: function (obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange: function (val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment: function (x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine: function (pt, line, isClosed) {\n        var pc = exports.Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween: function (startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = exports.Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify: function (obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                exports.Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (exports.Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign: function (target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId: function (evt) {\n        if (!evt.touches) {\n            return 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Node = exports._removeName = exports._addName = exports._removeId = exports.names = exports.ids = void 0;\nvar Util_1 = require(\"./Util\");\nvar Factory_1 = require(\"./Factory\");\nvar Canvas_1 = require(\"./Canvas\");\nvar Global_1 = require(\"./Global\");\nvar DragAndDrop_1 = require(\"./DragAndDrop\");\nvar Validators_1 = require(\"./Validators\");\nexports.ids = {};\nexports.names = {};\nvar _addId = function (node, id) {\n    if (!id) {\n        return;\n    }\n    exports.ids[id] = node;\n};\nvar _removeId = function (id, node) {\n    if (!id) {\n        return;\n    }\n    if (exports.ids[id] !== node) {\n        return;\n    }\n    delete exports.ids[id];\n};\nexports._removeId = _removeId;\nvar _addName = function (node, name) {\n    if (name) {\n        if (!exports.names[name]) {\n            exports.names[name] = [];\n        }\n        exports.names[name].push(node);\n    }\n};\nexports._addName = _addName;\nvar _removeName = function (name, _id) {\n    if (!name) {\n        return;\n    }\n    var nodes = exports.names[name];\n    if (!nodes) {\n        return;\n    }\n    for (var n = 0; n < nodes.length; n++) {\n        var no = nodes[n];\n        if (no._id === _id) {\n            nodes.splice(n, 1);\n        }\n    }\n    if (nodes.length === 0) {\n        delete exports.names[name];\n    }\n};\nexports._removeName = _removeName;\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE), SCALE_CHANGE_STR = ['scaleXChange.konva', 'scaleYChange.konva'].join(SPACE);\nvar emptyChildren = new Util_1.Collection();\nvar idCounter = 1;\nvar Node = (function () {\n    function Node(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this.children = emptyChildren;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    Node.prototype.hasChildren = function () {\n        return false;\n    };\n    Node.prototype.getChildren = function () {\n        return emptyChildren;\n    };\n    Node.prototype._clearCache = function (attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    };\n    Node.prototype._getCache = function (attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    };\n    Node.prototype._calculate = function (name, deps, getter) {\n        var _this = this;\n        if (!this._attachedDepsListeners.get(name)) {\n            var depsString = deps.map(function (dep) { return dep + 'Change.konva'; }).join(SPACE);\n            this.on(depsString, function () {\n                _this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    };\n    Node.prototype._getCanvasCache = function () {\n        return this._cache.get(CANVAS);\n    };\n    Node.prototype._clearSelfAndDescendantCache = function (attr, forceEvent) {\n        this._clearCache(attr);\n        if (forceEvent && attr === ABSOLUTE_TRANSFORM) {\n            this.fire('_clearTransformCache');\n        }\n        if (this.isCached()) {\n            return;\n        }\n        if (this.children) {\n            this.children.each(function (node) {\n                node._clearSelfAndDescendantCache(attr, true);\n            });\n        }\n    };\n    Node.prototype.clearCache = function () {\n        this._cache.delete(CANVAS);\n        this._clearSelfAndDescendantCache();\n        return this;\n    };\n    Node.prototype.cache = function (config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? rect.x : conf.x, y = conf.y === undefined ? rect.y : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false;\n        if (!width || !height) {\n            Util_1.Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2;\n        height += offset * 2;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n        }), cachedHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete('canvas');\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        return this;\n    };\n    Node.prototype.isCached = function () {\n        return this._cache.has('canvas');\n    };\n    Node.prototype.getClientRect = function (config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    };\n    Node.prototype._transformedRect = function (rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    Node.prototype._drawCachedSceneCanvas = function (context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        var canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    };\n    Node.prototype._drawCachedHitCanvas = function (context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0);\n        context.restore();\n    };\n    Node.prototype._getCachedSceneCanvas = function () {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util_1.Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util_1.Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    };\n    Node.prototype.on = function (evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    };\n    Node.prototype.off = function (evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    };\n    Node.prototype.dispatchEvent = function (evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    };\n    Node.prototype.addEventListener = function (type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    };\n    Node.prototype.removeEventListener = function (type) {\n        this.off(type);\n        return this;\n    };\n    Node.prototype._delegate = function (event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util_1.Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    };\n    Node.prototype.remove = function () {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DragAndDrop_1.DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    };\n    Node.prototype._clearCaches = function () {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    };\n    Node.prototype._remove = function () {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    };\n    Node.prototype.destroy = function () {\n        exports._removeId(this.id(), this);\n        var names = (this.name() || '').split(/\\s/g);\n        for (var i = 0; i < names.length; i++) {\n            var subname = names[i];\n            exports._removeName(subname, this._id);\n        }\n        this.remove();\n        return this;\n    };\n    Node.prototype.getAttr = function (attr) {\n        var method = 'get' + Util_1.Util._capitalize(attr);\n        if (Util_1.Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    };\n    Node.prototype.getAncestors = function () {\n        var parent = this.getParent(), ancestors = new Util_1.Collection();\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    };\n    Node.prototype.getAttrs = function () {\n        return this.attrs || {};\n    };\n    Node.prototype.setAttrs = function (config) {\n        var _this = this;\n        this._batchTransformChanges(function () {\n            var key, method;\n            if (!config) {\n                return _this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util_1.Util._capitalize(key);\n                if (Util_1.Util._isFunction(_this[method])) {\n                    _this[method](config[key]);\n                }\n                else {\n                    _this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    };\n    Node.prototype.isListening = function () {\n        return this._getCache(LISTENING, this._isListening);\n    };\n    Node.prototype._isListening = function (relativeTo) {\n        var listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        var parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    };\n    Node.prototype.isVisible = function () {\n        return this._getCache(VISIBLE, this._isVisible);\n    };\n    Node.prototype._isVisible = function (relativeTo) {\n        var visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        var parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    };\n    Node.prototype.shouldDrawHit = function (top, skipDragCheck) {\n        if (skipDragCheck === void 0) { skipDragCheck = false; }\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DragAndDrop_1.DD._dragElements.forEach(function (elem) {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Global_1.Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    };\n    Node.prototype.show = function () {\n        this.visible(true);\n        return this;\n    };\n    Node.prototype.hide = function () {\n        this.visible(false);\n        return this;\n    };\n    Node.prototype.getZIndex = function () {\n        return this.index || 0;\n    };\n    Node.prototype.getAbsoluteZIndex = function () {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().toArray());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    };\n    Node.prototype.getDepth = function () {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    };\n    Node.prototype._batchTransformChanges = function (func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM, true);\n        }\n        this._needClearTransformCache = false;\n    };\n    Node.prototype.setPosition = function (pos) {\n        var _this = this;\n        this._batchTransformChanges(function () {\n            _this.x(pos.x);\n            _this.y(pos.y);\n        });\n        return this;\n    };\n    Node.prototype.getPosition = function () {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    };\n    Node.prototype.getAbsolutePosition = function (top) {\n        var haveCachedParent = false;\n        var parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Util_1.Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    };\n    Node.prototype.setAbsolutePosition = function (pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    };\n    Node.prototype._setTransform = function (trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    };\n    Node.prototype._clearTransform = function () {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    };\n    Node.prototype.move = function (change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    };\n    Node.prototype._eachAncestorReverse = function (func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    };\n    Node.prototype.rotate = function (theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    };\n    Node.prototype.moveToTop = function () {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.push(this);\n        this.parent._setChildrenIndices();\n        return true;\n    };\n    Node.prototype.moveUp = function () {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.moveDown = function () {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.moveToBottom = function () {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.setZIndex = function (zIndex) {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util_1.Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    };\n    Node.prototype.getAbsoluteOpacity = function () {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    };\n    Node.prototype._getAbsoluteOpacity = function () {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    };\n    Node.prototype.moveTo = function (newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    };\n    Node.prototype.toObject = function () {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util_1.Util.isObject(val) && !Util_1.Util._isPlainObject(val) && !Util_1.Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util_1.Util._prepareToStringify(obj);\n    };\n    Node.prototype.toJSON = function () {\n        return JSON.stringify(this.toObject());\n    };\n    Node.prototype.getParent = function () {\n        return this.parent;\n    };\n    Node.prototype.findAncestors = function (selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    };\n    Node.prototype.isAncestorOf = function (node) {\n        return false;\n    };\n    Node.prototype.findAncestor = function (selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    };\n    Node.prototype._isMatch = function (selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util_1.Util.isValidSelector(sel)) {\n                Util_1.Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util_1.Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Node.prototype.getLayer = function () {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    };\n    Node.prototype.getStage = function () {\n        return this._getCache(STAGE, this._getStage);\n    };\n    Node.prototype._getStage = function () {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    };\n    Node.prototype.fire = function (eventType, evt, bubble) {\n        if (evt === void 0) { evt = {}; }\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    };\n    Node.prototype.getAbsoluteTransform = function (top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    };\n    Node.prototype._getAbsoluteTransform = function (top) {\n        var at;\n        if (top) {\n            at = new Util_1.Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Util_1.Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                var x = this.attrs.x || 0;\n                var y = this.attrs.y || 0;\n                var offsetX = this.attrs.offsetX || 0;\n                var offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    };\n    Node.prototype.getAbsoluteScale = function (top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        var transform = this.getAbsoluteTransform(top);\n        var attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    };\n    Node.prototype.getAbsoluteRotation = function () {\n        return this.getAbsoluteTransform().decompose().rotation;\n    };\n    Node.prototype.getTransform = function () {\n        return this._getCache(TRANSFORM, this._getTransform);\n    };\n    Node.prototype._getTransform = function () {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Util_1.Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Global_1.Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    };\n    Node.prototype.clone = function (obj) {\n        var attrs = Util_1.Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    };\n    Node.prototype._toKonvaCanvas = function (config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : box.x, y = config.y !== undefined ? config.y : box.y, pixelRatio = config.pixelRatio || 1, canvas = new Canvas_1.SceneCanvas({\n            width: config.width || box.width || (stage ? stage.width() : 0),\n            height: config.height || box.height || (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    };\n    Node.prototype.toCanvas = function (config) {\n        return this._toKonvaCanvas(config)._canvas;\n    };\n    Node.prototype.toDataURL = function (config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    };\n    Node.prototype.toImage = function (config) {\n        if (!config || !config.callback) {\n            throw 'callback required for toImage method config argument';\n        }\n        var callback = config.callback;\n        delete config.callback;\n        Util_1.Util._urlToImage(this.toDataURL(config), function (img) {\n            callback(img);\n        });\n    };\n    Node.prototype.setSize = function (size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    };\n    Node.prototype.getSize = function () {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    };\n    Node.prototype.getClassName = function () {\n        return this.className || this.nodeType;\n    };\n    Node.prototype.getType = function () {\n        return this.nodeType;\n    };\n    Node.prototype.getDragDistance = function () {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Global_1.Konva.dragDistance;\n        }\n    };\n    Node.prototype._off = function (type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    };\n    Node.prototype._fireChangeEvent = function (attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    };\n    Node.prototype.setId = function (id) {\n        var oldId = this.id();\n        exports._removeId(oldId, this);\n        _addId(this, id);\n        this._setAttr('id', id);\n        return this;\n    };\n    Node.prototype.setName = function (name) {\n        var oldNames = (this.name() || '').split(/\\s/g);\n        var newNames = (name || '').split(/\\s/g);\n        var subname, i;\n        for (i = 0; i < oldNames.length; i++) {\n            subname = oldNames[i];\n            if (newNames.indexOf(subname) === -1 && subname) {\n                exports._removeName(subname, this._id);\n            }\n        }\n        for (i = 0; i < newNames.length; i++) {\n            subname = newNames[i];\n            if (oldNames.indexOf(subname) === -1 && subname) {\n                exports._addName(this, subname);\n            }\n        }\n        this._setAttr(NAME, name);\n        return this;\n    };\n    Node.prototype.addName = function (name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.setName(newName);\n        }\n        return this;\n    };\n    Node.prototype.hasName = function (name) {\n        if (!name) {\n            return false;\n        }\n        var fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    };\n    Node.prototype.removeName = function (name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.setName(names.join(' '));\n        }\n        return this;\n    };\n    Node.prototype.setAttr = function (attr, val) {\n        var func = this[SET + Util_1.Util._capitalize(attr)];\n        if (Util_1.Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    };\n    Node.prototype._setAttr = function (key, val, skipFire) {\n        if (skipFire === void 0) { skipFire = false; }\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util_1.Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    };\n    Node.prototype._setComponentAttr = function (key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    };\n    Node.prototype._fireAndBubble = function (eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    };\n    Node.prototype._getProtoListeners = function (eventType) {\n        var listeners = this._cache.get(ALL_LISTENERS);\n        if (!listeners) {\n            listeners = {};\n            var obj = Object.getPrototypeOf(this);\n            while (obj) {\n                if (!obj.eventListeners) {\n                    obj = Object.getPrototypeOf(obj);\n                    continue;\n                }\n                for (var event in obj.eventListeners) {\n                    var newEvents = obj.eventListeners[event];\n                    var oldEvents = listeners[event] || [];\n                    listeners[event] = newEvents.concat(oldEvents);\n                }\n                obj = Object.getPrototypeOf(obj);\n            }\n            this._cache.set(ALL_LISTENERS, listeners);\n        }\n        return listeners[eventType];\n    };\n    Node.prototype._fire = function (eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        var topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        var selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    };\n    Node.prototype.draw = function () {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    };\n    Node.prototype._createDragElement = function (evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DragAndDrop_1.DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId: pointerId,\n        });\n    };\n    Node.prototype.startDrag = function (evt, bubbleEvent) {\n        if (bubbleEvent === void 0) { bubbleEvent = true; }\n        if (!DragAndDrop_1.DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        var elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    };\n    Node.prototype._setDragPosition = function (evt, elem) {\n        var pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            var bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util_1.Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            if (this.getLayer()) {\n                this.getLayer().batchDraw();\n            }\n            else if (this.getStage()) {\n                this.getStage().batchDraw();\n            }\n        }\n        this._lastPos = newNodePos;\n    };\n    Node.prototype.stopDrag = function (evt) {\n        var elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DragAndDrop_1.DD._endDragBefore(evt);\n        DragAndDrop_1.DD._endDragAfter(evt);\n    };\n    Node.prototype.setDraggable = function (draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    };\n    Node.prototype.isDragging = function () {\n        var elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    };\n    Node.prototype._listenDrag = function () {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var _this = this;\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Global_1.Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DragAndDrop_1.DD._dragElements.forEach(function (elem) {\n                if (_this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    };\n    Node.prototype._dragChange = function () {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            var dragElement = DragAndDrop_1.DD._dragElements.get(this._id);\n            var isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            var isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DragAndDrop_1.DD._dragElements.delete(this._id);\n            }\n        }\n    };\n    Node.prototype._dragCleanup = function () {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    };\n    Node.create = function (data, container) {\n        if (Util_1.Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    };\n    Node._createNode = function (obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Global_1._NODES_REGISTRY[className]) {\n            Util_1.Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        var Class = Global_1._NODES_REGISTRY[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    };\n    return Node;\n}());\nexports.Node = Node;\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nvar addGetterSetter = Factory_1.Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'y', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', Validators_1.getStringValidator());\naddGetterSetter(Node, 'opacity', 1, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'name', '', Validators_1.getStringValidator());\naddGetterSetter(Node, 'id', '', Validators_1.getStringValidator());\naddGetterSetter(Node, 'rotation', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'width', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'height', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'listening', true, Validators_1.getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, Validators_1.getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, Validators_1.getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', Validators_1.getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, Validators_1.getBooleanValidator());\nFactory_1.Factory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\nUtil_1.Collection.mapMethods(Node);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Factory = void 0;\nvar Util_1 = require(\"./Util\");\nvar Validators_1 = require(\"./Validators\");\nvar GET = 'get', SET = 'set';\nexports.Factory = {\n    addGetterSetter: function (constructor, attr, def, validator, after) {\n        exports.Factory.addGetter(constructor, attr, def);\n        exports.Factory.addSetter(constructor, attr, validator, after);\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter: function (constructor, attr, def) {\n        var method = GET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter: function (constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            exports.Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter: function (constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter: function (constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util_1.Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = Validators_1.getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter: function (constructor, attr) {\n        var capitalizedAttr = Util_1.Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter: function (constructor, attr, def, validator) {\n        Util_1.Util.error('Adding deprecated ' + attr);\n        var method = GET + Util_1.Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util_1.Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        exports.Factory.addSetter(constructor, attr, validator, function () {\n            Util_1.Util.error(message);\n        });\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat: function (constructor, methods) {\n        Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util_1.Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter: function () {\n        this._filterUpToDate = false;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getComponentValidator = exports.getBooleanValidator = exports.getNumberArrayValidator = exports.getFunctionValidator = exports.getStringOrGradientValidator = exports.getStringValidator = exports.getNumberOrAutoValidator = exports.getNumberOrArrayOfNumbersValidator = exports.getNumberValidator = exports.alphaComponent = exports.RGBComponent = void 0;\nvar Global_1 = require(\"./Global\");\nvar Util_1 = require(\"./Util\");\nfunction _formatValue(val) {\n    if (Util_1.Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util_1.Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nfunction RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexports.RGBComponent = RGBComponent;\nfunction alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexports.alphaComponent = alphaComponent;\nfunction getNumberValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isNumber(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberValidator = getNumberValidator;\nfunction getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util_1.Util._isNumber(val);\n            var isValidArray = Util_1.Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' + noOfElements + ')');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberOrArrayOfNumbersValidator = getNumberOrArrayOfNumbersValidator;\nfunction getNumberOrAutoValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util_1.Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberOrAutoValidator = getNumberOrAutoValidator;\nfunction getStringValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isString(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexports.getStringValidator = getStringValidator;\nfunction getStringOrGradientValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isString = Util_1.Util._isString(val);\n            var isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]';\n            if (!(isString || isGradient)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexports.getStringOrGradientValidator = getStringOrGradientValidator;\nfunction getFunctionValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isFunction(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexports.getFunctionValidator = getFunctionValidator;\nfunction getNumberArrayValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isArray(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util_1.Util._isNumber(item)) {\n                        Util_1.Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberArrayValidator = getNumberArrayValidator;\nfunction getBooleanValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexports.getBooleanValidator = getBooleanValidator;\nfunction getComponentValidator(components) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util.isObject(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\nexports.getComponentValidator = getComponentValidator;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nvar Util_1 = require(\"./Util\");\nvar Context_1 = require(\"./Context\");\nvar Global_1 = require(\"./Global\");\nvar Factory_1 = require(\"./Factory\");\nvar Validators_1 = require(\"./Validators\");\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util_1.Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    return _pixelRatio;\n}\nvar Canvas = (function () {\n    function Canvas(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util_1.Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    Canvas.prototype.getContext = function () {\n        return this.context;\n    };\n    Canvas.prototype.getPixelRatio = function () {\n        return this.pixelRatio;\n    };\n    Canvas.prototype.setPixelRatio = function (pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    };\n    Canvas.prototype.setWidth = function (width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    };\n    Canvas.prototype.setHeight = function (height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    };\n    Canvas.prototype.getWidth = function () {\n        return this.width;\n    };\n    Canvas.prototype.getHeight = function () {\n        return this.height;\n    };\n    Canvas.prototype.setSize = function (width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    };\n    Canvas.prototype.toDataURL = function (mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util_1.Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    };\n    return Canvas;\n}());\nexports.Canvas = Canvas;\nFactory_1.Factory.addGetterSetter(Canvas, 'pixelRatio', undefined, Validators_1.getNumberValidator());\nvar SceneCanvas = (function (_super) {\n    __extends(SceneCanvas, _super);\n    function SceneCanvas(config) {\n        if (config === void 0) { config = { width: 0, height: 0 }; }\n        var _this = _super.call(this, config) || this;\n        _this.context = new Context_1.SceneContext(_this);\n        _this.setSize(config.width, config.height);\n        return _this;\n    }\n    return SceneCanvas;\n}(Canvas));\nexports.SceneCanvas = SceneCanvas;\nvar HitCanvas = (function (_super) {\n    __extends(HitCanvas, _super);\n    function HitCanvas(config) {\n        if (config === void 0) { config = { width: 0, height: 0 }; }\n        var _this = _super.call(this, config) || this;\n        _this.hitCanvas = true;\n        _this.context = new Context_1.HitContext(_this);\n        _this.setSize(config.width, config.height);\n        return _this;\n    }\n    return HitCanvas;\n}(Canvas));\nexports.HitCanvas = HitCanvas;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitContext = exports.SceneContext = exports.Context = void 0;\nvar Util_1 = require(\"./Util\");\nvar Global_1 = require(\"./Global\");\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nvar traceArrMax = 100;\nvar Context = (function () {\n    function Context(canvas) {\n        this.canvas = canvas;\n        this._context = canvas._canvas.getContext('2d');\n        if (Global_1.Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    Context.prototype.fillShape = function (shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    };\n    Context.prototype._fill = function (shape) {\n    };\n    Context.prototype.strokeShape = function (shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    };\n    Context.prototype._stroke = function (shape) {\n    };\n    Context.prototype.fillStrokeShape = function (shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    };\n    Context.prototype.getTrace = function (relaxed) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util_1.Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    };\n    Context.prototype.clearTrace = function () {\n        this.traceArr = [];\n    };\n    Context.prototype._trace = function (str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    };\n    Context.prototype.reset = function () {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    };\n    Context.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    Context.prototype.clear = function (bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    };\n    Context.prototype._applyLineCap = function (shape) {\n        var lineCap = shape.getLineCap();\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    };\n    Context.prototype._applyOpacity = function (shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    };\n    Context.prototype._applyLineJoin = function (shape) {\n        var lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    };\n    Context.prototype.setAttr = function (attr, val) {\n        this._context[attr] = val;\n    };\n    Context.prototype.arc = function (a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    };\n    Context.prototype.arcTo = function (a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    };\n    Context.prototype.beginPath = function () {\n        this._context.beginPath();\n    };\n    Context.prototype.bezierCurveTo = function (a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    };\n    Context.prototype.clearRect = function (a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    };\n    Context.prototype.clip = function () {\n        this._context.clip();\n    };\n    Context.prototype.closePath = function () {\n        this._context.closePath();\n    };\n    Context.prototype.createImageData = function (a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    };\n    Context.prototype.createLinearGradient = function (a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    };\n    Context.prototype.createPattern = function (a0, a1) {\n        return this._context.createPattern(a0, a1);\n    };\n    Context.prototype.createRadialGradient = function (a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    };\n    Context.prototype.drawImage = function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    };\n    Context.prototype.ellipse = function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    };\n    Context.prototype.isPointInPath = function (x, y) {\n        return this._context.isPointInPath(x, y);\n    };\n    Context.prototype.fill = function () {\n        this._context.fill();\n    };\n    Context.prototype.fillRect = function (x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    };\n    Context.prototype.strokeRect = function (x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    };\n    Context.prototype.fillText = function (a0, a1, a2) {\n        this._context.fillText(a0, a1, a2);\n    };\n    Context.prototype.measureText = function (text) {\n        return this._context.measureText(text);\n    };\n    Context.prototype.getImageData = function (a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    };\n    Context.prototype.lineTo = function (a0, a1) {\n        this._context.lineTo(a0, a1);\n    };\n    Context.prototype.moveTo = function (a0, a1) {\n        this._context.moveTo(a0, a1);\n    };\n    Context.prototype.rect = function (a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    };\n    Context.prototype.putImageData = function (a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    };\n    Context.prototype.quadraticCurveTo = function (a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    };\n    Context.prototype.restore = function () {\n        this._context.restore();\n    };\n    Context.prototype.rotate = function (a0) {\n        this._context.rotate(a0);\n    };\n    Context.prototype.save = function () {\n        this._context.save();\n    };\n    Context.prototype.scale = function (a0, a1) {\n        this._context.scale(a0, a1);\n    };\n    Context.prototype.setLineDash = function (a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    };\n    Context.prototype.getLineDash = function () {\n        return this._context.getLineDash();\n    };\n    Context.prototype.setTransform = function (a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    };\n    Context.prototype.stroke = function () {\n        this._context.stroke();\n    };\n    Context.prototype.strokeText = function (a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    };\n    Context.prototype.transform = function (a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    };\n    Context.prototype.translate = function (a0, a1) {\n        this._context.translate(a0, a1);\n    };\n    Context.prototype._enableTrace = function () {\n        var that = this, len = CONTEXT_METHODS.length, _simplifyArray = Util_1.Util._simplifyArray, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = _simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    };\n    Context.prototype._applyGlobalCompositeOperation = function (node) {\n        var globalCompositeOperation = node.getGlobalCompositeOperation();\n        if (globalCompositeOperation !== 'source-over') {\n            this.setAttr('globalCompositeOperation', globalCompositeOperation);\n        }\n    };\n    return Context;\n}());\nexports.Context = Context;\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get: function () {\n            return this._context[prop];\n        },\n        set: function (val) {\n            this._context[prop] = val;\n        },\n    });\n});\nvar SceneContext = (function (_super) {\n    __extends(SceneContext, _super);\n    function SceneContext() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SceneContext.prototype._fillColor = function (shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    };\n    SceneContext.prototype._fillPattern = function (shape) {\n        var fillPatternX = shape.getFillPatternX(), fillPatternY = shape.getFillPatternY(), fillPatternRotation = Global_1.Konva.getAngle(shape.getFillPatternRotation()), fillPatternOffsetX = shape.getFillPatternOffsetX(), fillPatternOffsetY = shape.getFillPatternOffsetY(), fillPatternScaleX = shape.getFillPatternScaleX(), fillPatternScaleY = shape.getFillPatternScaleY();\n        if (fillPatternX || fillPatternY) {\n            this.translate(fillPatternX || 0, fillPatternY || 0);\n        }\n        if (fillPatternRotation) {\n            this.rotate(fillPatternRotation);\n        }\n        if (fillPatternScaleX || fillPatternScaleY) {\n        }\n        if (fillPatternOffsetX || fillPatternOffsetY) {\n            this.translate(-1 * fillPatternOffsetX, -1 * fillPatternOffsetY);\n        }\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    };\n    SceneContext.prototype._fillLinearGradient = function (shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    };\n    SceneContext.prototype._fillRadialGradient = function (shape) {\n        var grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    };\n    SceneContext.prototype._fill = function (shape) {\n        var hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        var hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        var hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        var hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    };\n    SceneContext.prototype._strokeLinearGradient = function (shape) {\n        var start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    };\n    SceneContext.prototype._stroke = function (shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    };\n    SceneContext.prototype._applyShadow = function (shape) {\n        var util = Util_1.Util, color = util.get(shape.getShadowRGBA(), 'black'), blur = util.get(shape.getShadowBlur(), 5), offset = util.get(shape.getShadowOffset(), {\n            x: 0,\n            y: 0,\n        }), scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    };\n    return SceneContext;\n}(Context));\nexports.SceneContext = SceneContext;\nvar HitContext = (function (_super) {\n    __extends(HitContext, _super);\n    function HitContext() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HitContext.prototype._fill = function (shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    };\n    HitContext.prototype.strokeShape = function (shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    };\n    HitContext.prototype._stroke = function (shape) {\n        if (shape.hasHitStroke()) {\n            var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    };\n    return HitContext;\n}(Context));\nexports.HitContext = HitContext;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DD = void 0;\nvar Global_1 = require(\"./Global\");\nvar Util_1 = require(\"./Util\");\nexports.DD = {\n    get isDragging() {\n        var flag = false;\n        exports.DD._dragElements.forEach(function (elem) {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        exports.DD._dragElements.forEach(function (elem) {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag: function (evt) {\n        var nodesToFireEvents = [];\n        exports.DD._dragElements.forEach(function (elem, key) {\n            var node = elem.node;\n            var stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util_1.Util._getFirstPointerId(evt);\n            }\n            var pos = stage._changedPointerPositions.find(function (pos) { return pos.id === elem.pointerId; });\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt: evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach(function (node) {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore: function (evt) {\n        exports.DD._dragElements.forEach(function (elem, key) {\n            var node = elem.node;\n            var stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            var pos = stage._changedPointerPositions.find(function (pos) { return pos.id === elem.pointerId; });\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                exports.DD.justDragged = true;\n                Global_1.Konva.listenClickTap = false;\n                elem.dragStatus = 'stopped';\n            }\n            var drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Global_1.Konva['Stage'] && elem.node);\n            if (drawNode) {\n                drawNode.batchDraw();\n            }\n        });\n    },\n    _endDragAfter: function (evt) {\n        exports.DD._dragElements.forEach(function (elem, key) {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                exports.DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Global_1.Konva.isBrowser) {\n    window.addEventListener('mouseup', exports.DD._endDragBefore, true);\n    window.addEventListener('touchend', exports.DD._endDragBefore, true);\n    window.addEventListener('mousemove', exports.DD._drag);\n    window.addEventListener('touchmove', exports.DD._drag);\n    window.addEventListener('mouseup', exports.DD._endDragAfter, false);\n    window.addEventListener('touchend', exports.DD._endDragAfter, false);\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nvar Util_1 = require(\"./Util\");\nvar Factory_1 = require(\"./Factory\");\nvar Node_1 = require(\"./Node\");\nvar Validators_1 = require(\"./Validators\");\nvar Container = (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.children = new Util_1.Collection();\n        return _this;\n    }\n    Container.prototype.getChildren = function (filterFunc) {\n        if (!filterFunc) {\n            return this.children;\n        }\n        var results = new Util_1.Collection();\n        this.children.each(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    };\n    Container.prototype.hasChildren = function () {\n        return this.getChildren().length > 0;\n    };\n    Container.prototype.removeChildren = function () {\n        var child;\n        for (var i = 0; i < this.children.length; i++) {\n            child = this.children[i];\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        }\n        this.children = new Util_1.Collection();\n        return this;\n    };\n    Container.prototype.destroyChildren = function () {\n        var child;\n        for (var i = 0; i < this.children.length; i++) {\n            child = this.children[i];\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        }\n        this.children = new Util_1.Collection();\n        return this;\n    };\n    Container.prototype.add = function () {\n        var children = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            children[_i] = arguments[_i];\n        }\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        var child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        var _children = this.children;\n        this._validateAdd(child);\n        child._clearCaches();\n        child.index = _children.length;\n        child.parent = this;\n        _children.push(child);\n        this._fire('add', {\n            child: child,\n        });\n        return this;\n    };\n    Container.prototype.destroy = function () {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        _super.prototype.destroy.call(this);\n        return this;\n    };\n    Container.prototype.find = function (selector) {\n        return this._generalFind(selector, false);\n    };\n    Container.prototype.get = function (selector) {\n        Util_1.Util.warn('collection.get() method is deprecated. Please use collection.find() instead.');\n        return this.find(selector);\n    };\n    Container.prototype.findOne = function (selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    };\n    Container.prototype._generalFind = function (selector, findOne) {\n        var retArr = [];\n        this._descendants(function (node) {\n            var valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return Util_1.Collection.toCollection(retArr);\n    };\n    Container.prototype._descendants = function (fn) {\n        var shouldStop = false;\n        for (var i = 0; i < this.children.length; i++) {\n            var child = this.children[i];\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Container.prototype.toObject = function () {\n        var obj = Node_1.Node.prototype.toObject.call(this);\n        obj.children = [];\n        var children = this.getChildren();\n        var len = children.length;\n        for (var n = 0; n < len; n++) {\n            var child = children[n];\n            obj.children.push(child.toObject());\n        }\n        return obj;\n    };\n    Container.prototype.isAncestorOf = function (node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    };\n    Container.prototype.clone = function (obj) {\n        var node = Node_1.Node.prototype.clone.call(this, obj);\n        this.getChildren().each(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    };\n    Container.prototype.getAllIntersections = function (pos) {\n        var arr = [];\n        this.find('Shape').each(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    };\n    Container.prototype._setChildrenIndices = function () {\n        this.children.each(function (child, n) {\n            child.index = n;\n        });\n    };\n    Container.prototype.drawScene = function (can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    };\n    Container.prototype.drawHit = function (can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    };\n    Container.prototype._drawChildren = function (drawMethod, canvas, top) {\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        var selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            if (clipFunc) {\n                clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip();\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        this.children.each(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    };\n    Container.prototype.getClientRect = function (config) {\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        this.children.each(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    };\n    return Container;\n}(Node_1.Node));\nexports.Container = Container;\nFactory_1.Factory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory_1.Factory.addGetterSetter(Container, 'clipX', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipY', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipWidth', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipHeight', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipFunc');\nUtil_1.Collection.mapMethods(Container);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stage = exports.stages = void 0;\nvar Util_1 = require(\"./Util\");\nvar Factory_1 = require(\"./Factory\");\nvar Container_1 = require(\"./Container\");\nvar Global_1 = require(\"./Global\");\nvar Canvas_1 = require(\"./Canvas\");\nvar DragAndDrop_1 = require(\"./DragAndDrop\");\nvar Global_2 = require(\"./Global\");\nvar PointerEvents = require(\"./PointerEvents\");\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', CONTEXTMENU = 'contextmenu', CLICK = 'click', DBL_CLICK = 'dblclick', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TAP = 'tap', DBL_TAP = 'dbltap', TOUCHMOVE = 'touchmove', WHEEL = 'wheel', CONTENT_MOUSEOUT = 'contentMouseout', CONTENT_MOUSEOVER = 'contentMouseover', CONTENT_MOUSEMOVE = 'contentMousemove', CONTENT_MOUSEDOWN = 'contentMousedown', CONTENT_MOUSEUP = 'contentMouseup', CONTENT_CONTEXTMENU = 'contentContextmenu', CONTENT_CLICK = 'contentClick', CONTENT_DBL_CLICK = 'contentDblclick', CONTENT_TOUCHSTART = 'contentTouchstart', CONTENT_TOUCHEND = 'contentTouchend', CONTENT_DBL_TAP = 'contentDbltap', CONTENT_TAP = 'contentTap', CONTENT_TOUCHMOVE = 'contentTouchmove', CONTENT_POINTERMOVE = 'contentPointermove', CONTENT_POINTERDOWN = 'contentPointerdown', CONTENT_POINTERUP = 'contentPointerup', CONTENT_WHEEL = 'contentWheel', RELATIVE = 'relative', KONVA_CONTENT = 'konvajs-content', SPACE = ' ', UNDERSCORE = '_', CONTAINER = 'container', MAX_LAYERS_NUMBER = 5, EMPTY_STRING = '', EVENTS = [\n    MOUSEENTER,\n    MOUSEDOWN,\n    MOUSEMOVE,\n    MOUSEUP,\n    MOUSELEAVE,\n    TOUCHSTART,\n    TOUCHMOVE,\n    TOUCHEND,\n    MOUSEOVER,\n    WHEEL,\n    CONTEXTMENU,\n    POINTERDOWN,\n    POINTERMOVE,\n    POINTERUP,\n    POINTERCANCEL,\n    LOSTPOINTERCAPTURE,\n], eventsLength = EVENTS.length;\nfunction addEvent(ctx, eventName) {\n    ctx.content.addEventListener(eventName, function (evt) {\n        ctx[UNDERSCORE + eventName](evt);\n    }, false);\n}\nvar NO_POINTERS_MESSAGE = \"Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);\";\nexports.stages = [];\nfunction checkNoClip(attrs) {\n    if (attrs === void 0) { attrs = {}; }\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util_1.Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nvar Stage = (function (_super) {\n    __extends(Stage, _super);\n    function Stage(config) {\n        var _this = _super.call(this, checkNoClip(config)) || this;\n        _this._pointerPositions = [];\n        _this._changedPointerPositions = [];\n        _this._buildDOM();\n        _this._bindContentEvents();\n        exports.stages.push(_this);\n        _this.on('widthChange.konva heightChange.konva', _this._resizeDOM);\n        _this.on('visibleChange.konva', _this._checkVisibility);\n        _this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', function () {\n            checkNoClip(_this.attrs);\n        });\n        _this._checkVisibility();\n        return _this;\n    }\n    Stage.prototype._validateAdd = function (child) {\n        var isLayer = child.getType() === 'Layer';\n        var isFastLayer = child.getType() === 'FastLayer';\n        var valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util_1.Util.throw('You may only add layers to the stage.');\n        }\n    };\n    Stage.prototype._checkVisibility = function () {\n        if (!this.content) {\n            return;\n        }\n        var style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    };\n    Stage.prototype.setContainer = function (container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr(CONTAINER, container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    };\n    Stage.prototype.shouldDrawHit = function () {\n        return true;\n    };\n    Stage.prototype.clear = function () {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    };\n    Stage.prototype.clone = function (obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container = document.createElement('div');\n        return Container_1.Container.prototype.clone.call(this, obj);\n    };\n    Stage.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var content = this.content;\n        if (content && Util_1.Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = exports.stages.indexOf(this);\n        if (index > -1) {\n            exports.stages.splice(index, 1);\n        }\n        return this;\n    };\n    Stage.prototype.getPointerPosition = function () {\n        var pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util_1.Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    };\n    Stage.prototype._getPointerById = function (id) {\n        return this._pointerPositions.find(function (p) { return p.id === id; });\n    };\n    Stage.prototype.getPointersPositions = function () {\n        return this._pointerPositions;\n    };\n    Stage.prototype.getStage = function () {\n        return this;\n    };\n    Stage.prototype.getContent = function () {\n        return this.content;\n    };\n    Stage.prototype._toKonvaCanvas = function (config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new Canvas_1.SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.each(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    };\n    Stage.prototype.getIntersection = function (pos, selector) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n, shape;\n        for (n = end; n >= 0; n--) {\n            shape = layers[n].getIntersection(pos, selector);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    };\n    Stage.prototype._resizeDOM = function () {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.each(function (layer) {\n            layer.setSize({ width: width, height: height });\n            layer.draw();\n        });\n    };\n    Stage.prototype.add = function (layer) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        _super.prototype.add.call(this, layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util_1.Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Global_1.Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    };\n    Stage.prototype.getParent = function () {\n        return null;\n    };\n    Stage.prototype.getLayer = function () {\n        return null;\n    };\n    Stage.prototype.hasPointerCapture = function (pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    };\n    Stage.prototype.setPointerCapture = function (pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    };\n    Stage.prototype.releaseCapture = function (pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    };\n    Stage.prototype.getLayers = function () {\n        return this.getChildren();\n    };\n    Stage.prototype._bindContentEvents = function () {\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        for (var n = 0; n < eventsLength; n++) {\n            addEvent(this, EVENTS[n]);\n        }\n    };\n    Stage.prototype._mouseenter = function (evt) {\n        this.setPointersPositions(evt);\n        this._fire(MOUSEENTER, { evt: evt, target: this, currentTarget: this });\n    };\n    Stage.prototype._mouseover = function (evt) {\n        this.setPointersPositions(evt);\n        this._fire(CONTENT_MOUSEOVER, { evt: evt });\n        this._fire(MOUSEOVER, { evt: evt, target: this, currentTarget: this });\n    };\n    Stage.prototype._mouseleave = function (evt) {\n        var _a;\n        this.setPointersPositions(evt);\n        var targetShape = ((_a = this.targetShape) === null || _a === void 0 ? void 0 : _a.getStage()) ? this.targetShape : null;\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(MOUSEOUT, { evt: evt });\n            targetShape._fireAndBubble(MOUSELEAVE, { evt: evt });\n            this._fire(MOUSELEAVE, { evt: evt, target: this, currentTarget: this });\n            this.targetShape = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(MOUSELEAVE, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(MOUSEOUT, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n        this._fire(CONTENT_MOUSEOUT, { evt: evt });\n    };\n    Stage.prototype._mousemove = function (evt) {\n        var _a;\n        if (Global_1.Konva.UA.ieMobile) {\n            return this._touchmove(evt);\n        }\n        this.setPointersPositions(evt);\n        var pointerId = Util_1.Util._getFirstPointerId(evt);\n        var shape;\n        var targetShape = ((_a = this.targetShape) === null || _a === void 0 ? void 0 : _a.getStage()) ? this.targetShape : null;\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (eventsEnabled) {\n            shape = this.getIntersection(this.getPointerPosition());\n            if (shape && shape.isListening()) {\n                var differentTarget = targetShape !== shape;\n                if (eventsEnabled && differentTarget) {\n                    if (targetShape) {\n                        targetShape._fireAndBubble(MOUSEOUT, { evt: evt, pointerId: pointerId }, shape);\n                        targetShape._fireAndBubble(MOUSELEAVE, { evt: evt, pointerId: pointerId }, shape);\n                    }\n                    shape._fireAndBubble(MOUSEOVER, { evt: evt, pointerId: pointerId }, targetShape);\n                    shape._fireAndBubble(MOUSEENTER, { evt: evt, pointerId: pointerId }, targetShape);\n                    shape._fireAndBubble(MOUSEMOVE, { evt: evt, pointerId: pointerId });\n                    this.targetShape = shape;\n                }\n                else {\n                    shape._fireAndBubble(MOUSEMOVE, { evt: evt, pointerId: pointerId });\n                }\n            }\n            else {\n                if (targetShape && eventsEnabled) {\n                    targetShape._fireAndBubble(MOUSEOUT, { evt: evt, pointerId: pointerId });\n                    targetShape._fireAndBubble(MOUSELEAVE, { evt: evt, pointerId: pointerId });\n                    this._fire(MOUSEOVER, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId: pointerId,\n                    });\n                    this.targetShape = null;\n                }\n                this._fire(MOUSEMOVE, {\n                    evt: evt,\n                    target: this,\n                    currentTarget: this,\n                    pointerId: pointerId,\n                });\n            }\n            this._fire(CONTENT_MOUSEMOVE, { evt: evt });\n        }\n        if (evt.cancelable) {\n            evt.preventDefault();\n        }\n    };\n    Stage.prototype._mousedown = function (evt) {\n        if (Global_1.Konva.UA.ieMobile) {\n            return this._touchstart(evt);\n        }\n        this.setPointersPositions(evt);\n        var pointerId = Util_1.Util._getFirstPointerId(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        DragAndDrop_1.DD.justDragged = false;\n        Global_1.Konva.listenClickTap = true;\n        if (shape && shape.isListening()) {\n            this.clickStartShape = shape;\n            shape._fireAndBubble(MOUSEDOWN, { evt: evt, pointerId: pointerId });\n        }\n        else {\n            this._fire(MOUSEDOWN, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: pointerId,\n            });\n        }\n        this._fire(CONTENT_MOUSEDOWN, { evt: evt });\n    };\n    Stage.prototype._mouseup = function (evt) {\n        if (Global_1.Konva.UA.ieMobile) {\n            return this._touchend(evt);\n        }\n        this.setPointersPositions(evt);\n        var pointerId = Util_1.Util._getFirstPointerId(evt);\n        var shape = this.getIntersection(this.getPointerPosition()), clickStartShape = this.clickStartShape, clickEndShape = this.clickEndShape, fireDblClick = false;\n        if (Global_1.Konva.inDblClickWindow) {\n            fireDblClick = true;\n            clearTimeout(this.dblTimeout);\n        }\n        else if (!DragAndDrop_1.DD.justDragged) {\n            Global_1.Konva.inDblClickWindow = true;\n            clearTimeout(this.dblTimeout);\n        }\n        this.dblTimeout = setTimeout(function () {\n            Global_1.Konva.inDblClickWindow = false;\n        }, Global_1.Konva.dblClickWindow);\n        if (shape && shape.isListening()) {\n            this.clickEndShape = shape;\n            shape._fireAndBubble(MOUSEUP, { evt: evt, pointerId: pointerId });\n            if (Global_1.Konva.listenClickTap &&\n                clickStartShape &&\n                clickStartShape._id === shape._id) {\n                shape._fireAndBubble(CLICK, { evt: evt, pointerId: pointerId });\n                if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                    shape._fireAndBubble(DBL_CLICK, { evt: evt, pointerId: pointerId });\n                }\n            }\n        }\n        else {\n            this.clickEndShape = null;\n            this._fire(MOUSEUP, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: pointerId,\n            });\n            if (Global_1.Konva.listenClickTap) {\n                this._fire(CLICK, {\n                    evt: evt,\n                    target: this,\n                    currentTarget: this,\n                    pointerId: pointerId,\n                });\n            }\n            if (fireDblClick) {\n                this._fire(DBL_CLICK, {\n                    evt: evt,\n                    target: this,\n                    currentTarget: this,\n                    pointerId: pointerId,\n                });\n            }\n        }\n        this._fire(CONTENT_MOUSEUP, { evt: evt });\n        if (Global_1.Konva.listenClickTap) {\n            this._fire(CONTENT_CLICK, { evt: evt });\n            if (fireDblClick) {\n                this._fire(CONTENT_DBL_CLICK, { evt: evt });\n            }\n        }\n        Global_1.Konva.listenClickTap = false;\n        if (evt.cancelable) {\n            evt.preventDefault();\n        }\n    };\n    Stage.prototype._contextmenu = function (evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this._fire(CONTENT_CONTEXTMENU, { evt: evt });\n    };\n    Stage.prototype._touchstart = function (evt) {\n        var _this = this;\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach(function (pos) {\n            var shape = _this.getIntersection(pos);\n            Global_1.Konva.listenClickTap = true;\n            DragAndDrop_1.DD.justDragged = false;\n            var hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Global_1.Konva.captureTouchEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            _this.tapStartShape = shape;\n            shape._fireAndBubble(TOUCHSTART, { evt: evt, pointerId: pos.id }, _this);\n            triggeredOnShape = true;\n            if (shape.isListening() && shape.preventDefault() && evt.cancelable) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(TOUCHSTART, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        this._fire(CONTENT_TOUCHSTART, { evt: evt });\n    };\n    Stage.prototype._touchmove = function (evt) {\n        var _this = this;\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (eventsEnabled) {\n            var triggeredOnShape = false;\n            var processedShapesIds = {};\n            this._changedPointerPositions.forEach(function (pos) {\n                var shape = PointerEvents.getCapturedShape(pos.id) || _this.getIntersection(pos);\n                var hasShape = shape && shape.isListening();\n                if (!hasShape) {\n                    return;\n                }\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n                shape._fireAndBubble(TOUCHMOVE, { evt: evt, pointerId: pos.id });\n                triggeredOnShape = true;\n                if (shape.isListening() && shape.preventDefault() && evt.cancelable) {\n                    evt.preventDefault();\n                }\n            });\n            if (!triggeredOnShape) {\n                this._fire(TOUCHMOVE, {\n                    evt: evt,\n                    target: this,\n                    currentTarget: this,\n                    pointerId: this._changedPointerPositions[0].id,\n                });\n            }\n            this._fire(CONTENT_TOUCHMOVE, { evt: evt });\n        }\n        if (DragAndDrop_1.DD.isDragging && DragAndDrop_1.DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n    };\n    Stage.prototype._touchend = function (evt) {\n        var _this = this;\n        this.setPointersPositions(evt);\n        var tapEndShape = this.tapEndShape, fireDblClick = false;\n        if (Global_1.Konva.inDblClickWindow) {\n            fireDblClick = true;\n            clearTimeout(this.dblTimeout);\n        }\n        else if (!DragAndDrop_1.DD.justDragged) {\n            Global_1.Konva.inDblClickWindow = true;\n            clearTimeout(this.dblTimeout);\n        }\n        this.dblTimeout = setTimeout(function () {\n            Global_1.Konva.inDblClickWindow = false;\n        }, Global_1.Konva.dblClickWindow);\n        var triggeredOnShape = false;\n        var processedShapesIds = {};\n        var tapTriggered = false;\n        var dblTapTriggered = false;\n        this._changedPointerPositions.forEach(function (pos) {\n            var shape = PointerEvents.getCapturedShape(pos.id) ||\n                _this.getIntersection(pos);\n            if (shape) {\n                shape.releaseCapture(pos.id);\n            }\n            var hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (processedShapesIds[shape._id]) {\n                return;\n            }\n            processedShapesIds[shape._id] = true;\n            _this.tapEndShape = shape;\n            shape._fireAndBubble(TOUCHEND, { evt: evt, pointerId: pos.id });\n            triggeredOnShape = true;\n            if (Global_1.Konva.listenClickTap && shape === _this.tapStartShape) {\n                tapTriggered = true;\n                shape._fireAndBubble(TAP, { evt: evt, pointerId: pos.id });\n                if (fireDblClick && tapEndShape && tapEndShape === shape) {\n                    dblTapTriggered = true;\n                    shape._fireAndBubble(DBL_TAP, { evt: evt, pointerId: pos.id });\n                }\n            }\n            if (shape.isListening() && shape.preventDefault() && evt.cancelable) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(TOUCHEND, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        if (Global_1.Konva.listenClickTap && !tapTriggered) {\n            this.tapEndShape = null;\n            this._fire(TAP, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        if (fireDblClick && !dblTapTriggered) {\n            this._fire(DBL_TAP, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        this._fire(CONTENT_TOUCHEND, { evt: evt });\n        if (Global_1.Konva.listenClickTap) {\n            this._fire(CONTENT_TAP, { evt: evt });\n            if (fireDblClick) {\n                this._fire(CONTENT_DBL_TAP, { evt: evt });\n            }\n        }\n        if (this.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        Global_1.Konva.listenClickTap = false;\n    };\n    Stage.prototype._wheel = function (evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this._fire(CONTENT_WHEEL, { evt: evt });\n    };\n    Stage.prototype._pointerdown = function (evt) {\n        if (!Global_1.Konva._pointerEventsEnabled) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERDOWN, PointerEvents.createEvent(evt));\n        }\n    };\n    Stage.prototype._pointermove = function (evt) {\n        if (!Global_1.Konva._pointerEventsEnabled) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERMOVE, PointerEvents.createEvent(evt));\n        }\n    };\n    Stage.prototype._pointerup = function (evt) {\n        if (!Global_1.Konva._pointerEventsEnabled) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    };\n    Stage.prototype._pointercancel = function (evt) {\n        if (!Global_1.Konva._pointerEventsEnabled) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    };\n    Stage.prototype._lostpointercapture = function (evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    };\n    Stage.prototype.setPointersPositions = function (evt) {\n        var _this = this;\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Util_1.Collection.prototype.each.call(evt.touches, function (touch) {\n                _this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Util_1.Collection.prototype.each.call(evt.changedTouches || evt.touches, function (touch) {\n                _this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x: x, y: y, id: Util_1.Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x: x, y: y, id: Util_1.Util._getFirstPointerId(evt) },\n            ];\n        }\n    };\n    Stage.prototype._setPointerPosition = function (evt) {\n        Util_1.Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    };\n    Stage.prototype._getContentPosition = function () {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    };\n    Stage.prototype._buildDOM = function () {\n        this.bufferCanvas = new Canvas_1.SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = EMPTY_STRING;\n        this.content = document.createElement('div');\n        this.content.style.position = RELATIVE;\n        this.content.style.userSelect = 'none';\n        this.content.className = KONVA_CONTENT;\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    };\n    Stage.prototype.cache = function () {\n        Util_1.Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    };\n    Stage.prototype.clearCache = function () {\n        return this;\n    };\n    Stage.prototype.batchDraw = function () {\n        this.children.each(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    };\n    return Stage;\n}(Container_1.Container));\nexports.Stage = Stage;\nStage.prototype.nodeType = STAGE;\nGlobal_2._registerNode(Stage);\nFactory_1.Factory.addGetterSetter(Stage, 'container');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.releaseCapture = exports.setPointerCapture = exports.hasPointerCapture = exports.createEvent = exports.getCapturedShape = void 0;\nvar Global_1 = require(\"./Global\");\nvar Captures = new Map();\nvar SUPPORT_POINTER_EVENTS = Global_1.Konva._global['PointerEvent'] !== undefined;\nfunction getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexports.getCapturedShape = getCapturedShape;\nfunction createEvent(evt) {\n    return {\n        evt: evt,\n        pointerId: evt.pointerId\n    };\n}\nexports.createEvent = createEvent;\nfunction hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexports.hasPointerCapture = hasPointerCapture;\nfunction setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    var stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexports.setPointerCapture = setPointerCapture;\nfunction releaseCapture(pointerId, target) {\n    var shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    var stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\nexports.releaseCapture = releaseCapture;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nvar Util_1 = require(\"./Util\");\nvar Container_1 = require(\"./Container\");\nvar Node_1 = require(\"./Node\");\nvar Factory_1 = require(\"./Factory\");\nvar Canvas_1 = require(\"./Canvas\");\nvar Validators_1 = require(\"./Validators\");\nvar Shape_1 = require(\"./Shape\");\nvar Global_1 = require(\"./Global\");\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(config) {\n        var _this = _super.call(this, config) || this;\n        _this.canvas = new Canvas_1.SceneCanvas();\n        _this.hitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n        });\n        _this._waitingForDraw = false;\n        _this.on('visibleChange.konva', _this._checkVisibility);\n        _this._checkVisibility();\n        _this.on('imageSmoothingEnabledChange.konva', _this._setSmoothEnabled);\n        _this._setSmoothEnabled();\n        return _this;\n    }\n    Layer.prototype.createPNGStream = function () {\n        var c = this.canvas._canvas;\n        return c.createPNGStream();\n    };\n    Layer.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    Layer.prototype.getHitCanvas = function () {\n        return this.hitCanvas;\n    };\n    Layer.prototype.getContext = function () {\n        return this.getCanvas().getContext();\n    };\n    Layer.prototype.clear = function (bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    };\n    Layer.prototype.setZIndex = function (index) {\n        _super.prototype.setZIndex.call(this, index);\n        var stage = this.getStage();\n        if (stage) {\n            stage.content.removeChild(this.getCanvas()._canvas);\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getCanvas()._canvas, stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getCanvas()._canvas);\n            }\n        }\n        return this;\n    };\n    Layer.prototype.moveToTop = function () {\n        Node_1.Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage) {\n            stage.content.removeChild(this.getCanvas()._canvas);\n            stage.content.appendChild(this.getCanvas()._canvas);\n        }\n        return true;\n    };\n    Layer.prototype.moveUp = function () {\n        var moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        stage.content.removeChild(this.getCanvas()._canvas);\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getCanvas()._canvas, stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getCanvas()._canvas);\n        }\n        return true;\n    };\n    Layer.prototype.moveDown = function () {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                stage.content.removeChild(this.getCanvas()._canvas);\n                stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);\n            }\n            return true;\n        }\n        return false;\n    };\n    Layer.prototype.moveToBottom = function () {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                stage.content.removeChild(this.getCanvas()._canvas);\n                stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);\n            }\n            return true;\n        }\n        return false;\n    };\n    Layer.prototype.getLayer = function () {\n        return this;\n    };\n    Layer.prototype.remove = function () {\n        var _canvas = this.getCanvas()._canvas;\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    };\n    Layer.prototype.getStage = function () {\n        return this.parent;\n    };\n    Layer.prototype.setSize = function (_a) {\n        var width = _a.width, height = _a.height;\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    };\n    Layer.prototype._validateAdd = function (child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to a layer.');\n        }\n    };\n    Layer.prototype._toKonvaCanvas = function (config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    };\n    Layer.prototype._checkVisibility = function () {\n        var visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    };\n    Layer.prototype._setSmoothEnabled = function () {\n        this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n    };\n    Layer.prototype.getWidth = function () {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    };\n    Layer.prototype.setWidth = function () {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    };\n    Layer.prototype.getHeight = function () {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    };\n    Layer.prototype.setHeight = function () {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    };\n    Layer.prototype.batchDraw = function () {\n        var _this = this;\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(function () {\n                _this.draw();\n                _this._waitingForDraw = false;\n            });\n        }\n        return this;\n    };\n    Layer.prototype.getIntersection = function (pos, selector) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (var i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                var intersectionOffset = INTERSECTION_OFFSETS[i];\n                var obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                var shape = obj.shape;\n                if (shape && selector) {\n                    return shape.findAncestor(selector, true);\n                }\n                else if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    };\n    Layer.prototype._getIntersection = function (pos) {\n        var ratio = this.hitCanvas.pixelRatio;\n        var p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        var p3 = p[3];\n        if (p3 === 255) {\n            var colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n            var shape = Shape_1.shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    };\n    Layer.prototype.drawScene = function (can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container_1.Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    };\n    Layer.prototype.drawHit = function (can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container_1.Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    };\n    Layer.prototype.enableHitGraph = function () {\n        this.hitGraphEnabled(true);\n        return this;\n    };\n    Layer.prototype.disableHitGraph = function () {\n        this.hitGraphEnabled(false);\n        return this;\n    };\n    Layer.prototype.setHitGraphEnabled = function (val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    };\n    Layer.prototype.getHitGraphEnabled = function (val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    };\n    Layer.prototype.toggleHitCanvas = function () {\n        if (!this.parent) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    };\n    return Layer;\n}(Container_1.Container));\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\nGlobal_1._registerNode(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, Validators_1.getBooleanValidator());\nUtil_1.Collection.mapMethods(Layer);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Shape = exports.shapes = void 0;\nvar Util_1 = require(\"./Util\");\nvar Factory_1 = require(\"./Factory\");\nvar Node_1 = require(\"./Node\");\nvar Validators_1 = require(\"./Validators\");\nvar Global_1 = require(\"./Global\");\nvar PointerEvents = require(\"./PointerEvents\");\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexports.shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nvar Shape = (function (_super) {\n    __extends(Shape, _super);\n    function Shape(config) {\n        var _this = _super.call(this, config) || this;\n        var key;\n        while (true) {\n            key = Util_1.Util.getRandomColor();\n            if (key && !(key in exports.shapes)) {\n                break;\n            }\n        }\n        _this.colorKey = key;\n        exports.shapes[key] = _this;\n        return _this;\n    }\n    Shape.prototype.getContext = function () {\n        return this.getLayer().getContext();\n    };\n    Shape.prototype.getCanvas = function () {\n        return this.getLayer().getCanvas();\n    };\n    Shape.prototype.getSceneFunc = function () {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    };\n    Shape.prototype.getHitFunc = function () {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    };\n    Shape.prototype.hasShadow = function () {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    };\n    Shape.prototype._hasShadow = function () {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    };\n    Shape.prototype._getFillPattern = function () {\n        return this._getCache(patternImage, this.__getFillPattern);\n    };\n    Shape.prototype.__getFillPattern = function () {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            var pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                pattern.setTransform({\n                    a: this.fillPatternScaleX(),\n                    b: 0,\n                    c: 0,\n                    d: this.fillPatternScaleY(),\n                    e: 0,\n                    f: 0,\n                });\n            }\n            return pattern;\n        }\n    };\n    Shape.prototype._getLinearGradient = function () {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    };\n    Shape.prototype.__getLinearGradient = function () {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    };\n    Shape.prototype._getRadialGradient = function () {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    };\n    Shape.prototype.__getRadialGradient = function () {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    };\n    Shape.prototype.getShadowRGBA = function () {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    };\n    Shape.prototype._getShadowRGBA = function () {\n        if (this.hasShadow()) {\n            var rgba = Util_1.Util.colorToRGBA(this.shadowColor());\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    };\n    Shape.prototype.hasFill = function () {\n        var _this = this;\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], function () {\n            return (_this.fillEnabled() &&\n                !!(_this.fill() ||\n                    _this.fillPatternImage() ||\n                    _this.fillLinearGradientColorStops() ||\n                    _this.fillRadialGradientColorStops()));\n        });\n    };\n    Shape.prototype.hasStroke = function () {\n        var _this = this;\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], function () {\n            return (_this.strokeEnabled() &&\n                _this.strokeWidth() &&\n                !!(_this.stroke() || _this.strokeLinearGradientColorStops()));\n        });\n    };\n    Shape.prototype.hasHitStroke = function () {\n        var width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    };\n    Shape.prototype.intersects = function (point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    };\n    Shape.prototype.destroy = function () {\n        Node_1.Node.prototype.destroy.call(this);\n        delete exports.shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    };\n    Shape.prototype._useBufferCanvas = function (forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        var perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        var hasFill = forceFill || this.hasFill();\n        var hasStroke = this.hasStroke();\n        var isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        var hasShadow = this.hasShadow();\n        var strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    };\n    Shape.prototype.setStrokeHitEnabled = function (val) {\n        Util_1.Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    };\n    Shape.prototype.getStrokeHitEnabled = function () {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    Shape.prototype.getSelfRect = function () {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    };\n    Shape.prototype.getClientRect = function (config) {\n        if (config === void 0) { config = {}; }\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var fillRect = this.getSelfRect();\n        var applyStroke = !config.skipStroke && this.hasStroke();\n        var strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        var fillAndStrokeWidth = fillRect.width + strokeWidth;\n        var fillAndStrokeHeight = fillRect.height + strokeWidth;\n        var applyShadow = !config.skipShadow && this.hasShadow();\n        var shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        var shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        var preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        var preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        var blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        var width = preWidth + blurRadius * 2;\n        var height = preHeight + blurRadius * 2;\n        var roundingOffset = 0;\n        if (Math.round(strokeWidth / 2) !== strokeWidth / 2) {\n            roundingOffset = 1;\n        }\n        var rect = {\n            width: width + roundingOffset,\n            height: height + roundingOffset,\n            x: -Math.round(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -Math.round(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    };\n    Shape.prototype.drawScene = function (can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var caching = canvas.isCache;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    };\n    Shape.prototype.drawHit = function (can, top, skipDragCheck) {\n        if (skipDragCheck === void 0) { skipDragCheck = false; }\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            console.log(this);\n            Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        var selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    };\n    Shape.prototype.drawHitFromCache = function (alphaThreshold) {\n        if (alphaThreshold === void 0) { alphaThreshold = 0; }\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    };\n    Shape.prototype.hasPointerCapture = function (pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    };\n    Shape.prototype.setPointerCapture = function (pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    };\n    Shape.prototype.releaseCapture = function (pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    };\n    return Shape;\n}(Node_1.Node));\nexports.Shape = Shape;\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\nGlobal_1._registerNode(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, Validators_1.getStringOrGradientValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, Validators_1.getStringOrGradientValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory_1.Factory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\nUtil_1.Collection.mapMethods(Shape);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FastLayer = void 0;\nvar Util_1 = require(\"./Util\");\nvar Layer_1 = require(\"./Layer\");\nvar Global_1 = require(\"./Global\");\nvar FastLayer = (function (_super) {\n    __extends(FastLayer, _super);\n    function FastLayer(attrs) {\n        var _this = _super.call(this, attrs) || this;\n        _this.listening(false);\n        Util_1.Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n        return _this;\n    }\n    return FastLayer;\n}(Layer_1.Layer));\nexports.FastLayer = FastLayer;\nFastLayer.prototype.nodeType = 'FastLayer';\nGlobal_1._registerNode(FastLayer);\nUtil_1.Collection.mapMethods(FastLayer);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Group = void 0;\nvar Util_1 = require(\"./Util\");\nvar Container_1 = require(\"./Container\");\nvar Global_1 = require(\"./Global\");\nvar Group = (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Group.prototype._validateAdd = function (child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to groups.');\n        }\n    };\n    return Group;\n}(Container_1.Container));\nexports.Group = Group;\nGroup.prototype.nodeType = 'Group';\nGlobal_1._registerNode(Group);\nUtil_1.Collection.mapMethods(Group);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Animation = void 0;\nvar Global_1 = require(\"./Global\");\nvar now = (function () {\n    if (Global_1.glob.performance && Global_1.glob.performance.now) {\n        return function () {\n            return Global_1.glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nvar Animation = (function () {\n    function Animation(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    Animation.prototype.setLayers = function (layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    };\n    Animation.prototype.getLayers = function () {\n        return this.layers;\n    };\n    Animation.prototype.addLayer = function (layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    };\n    Animation.prototype.isRunning = function () {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Animation.prototype.start = function () {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    };\n    Animation.prototype.stop = function () {\n        Animation._removeAnimation(this);\n        return this;\n    };\n    Animation.prototype._updateFrameObject = function (time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    };\n    Animation._addAnimation = function (anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    };\n    Animation._removeAnimation = function (anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    };\n    Animation._runFrames = function () {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].draw();\n        }\n    };\n    Animation._animationLoop = function () {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            requestAnimationFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    };\n    Animation._handleAnimation = function () {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            requestAnimationFrame(this._animationLoop);\n        }\n    };\n    Animation.animations = [];\n    Animation.animIdCounter = 0;\n    Animation.animRunning = false;\n    return Animation;\n}());\nexports.Animation = Animation;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Easings = exports.Tween = void 0;\nvar Util_1 = require(\"./Util\");\nvar Animation_1 = require(\"./Animation\");\nvar Node_1 = require(\"./Node\");\nvar Global_1 = require(\"./Global\");\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nvar TweenEngine = (function () {\n    function TweenEngine(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    TweenEngine.prototype.fire = function (str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    };\n    TweenEngine.prototype.setTime = function (t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    };\n    TweenEngine.prototype.getTime = function () {\n        return this._time;\n    };\n    TweenEngine.prototype.setPosition = function (p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    };\n    TweenEngine.prototype.getPosition = function (t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    };\n    TweenEngine.prototype.play = function () {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    };\n    TweenEngine.prototype.reverse = function () {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    };\n    TweenEngine.prototype.seek = function (t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    };\n    TweenEngine.prototype.reset = function () {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    };\n    TweenEngine.prototype.finish = function () {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    };\n    TweenEngine.prototype.update = function () {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    };\n    TweenEngine.prototype.onEnterFrame = function () {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    };\n    TweenEngine.prototype.pause = function () {\n        this.state = PAUSED;\n        this.fire('onPause');\n    };\n    TweenEngine.prototype.getTimer = function () {\n        return new Date().getTime();\n    };\n    return TweenEngine;\n}());\nvar Tween = (function () {\n    function Tween(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || exports.Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Global_1.Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util_1.Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation_1.Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    Tween.prototype._addAttr = function (key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util_1.Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util_1.Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util_1.Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util_1.Util.colorToRGBA(start[n]);\n                        endRGBA = Util_1.Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util_1.Util.colorToRGBA(start);\n            endRGBA = Util_1.Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    };\n    Tween.prototype._tweenFunc = function (i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util_1.Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    };\n    Tween.prototype._addListeners = function () {\n        var _this = this;\n        this.tween.onPlay = function () {\n            _this.anim.start();\n        };\n        this.tween.onReverse = function () {\n            _this.anim.start();\n        };\n        this.tween.onPause = function () {\n            _this.anim.stop();\n        };\n        this.tween.onFinish = function () {\n            var node = _this.node;\n            var attrs = Tween.attrs[node._id][_this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (_this.onFinish) {\n                _this.onFinish.call(_this);\n            }\n        };\n        this.tween.onReset = function () {\n            var node = _this.node;\n            var attrs = Tween.attrs[node._id][_this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (_this.onReset) {\n                _this.onReset();\n            }\n        };\n        this.tween.onUpdate = function () {\n            if (_this.onUpdate) {\n                _this.onUpdate.call(_this);\n            }\n        };\n    };\n    Tween.prototype.play = function () {\n        this.tween.play();\n        return this;\n    };\n    Tween.prototype.reverse = function () {\n        this.tween.reverse();\n        return this;\n    };\n    Tween.prototype.reset = function () {\n        this.tween.reset();\n        return this;\n    };\n    Tween.prototype.seek = function (t) {\n        this.tween.seek(t * 1000);\n        return this;\n    };\n    Tween.prototype.pause = function () {\n        this.tween.pause();\n        return this;\n    };\n    Tween.prototype.finish = function () {\n        this.tween.finish();\n        return this;\n    };\n    Tween.prototype.destroy = function () {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    };\n    Tween.attrs = {};\n    Tween.tweens = {};\n    return Tween;\n}());\nexports.Tween = Tween;\nNode_1.Node.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexports.Easings = {\n    BackEaseIn: function (t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut: function (t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut: function (t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn: function (t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut: function (t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut: function (t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut: function (t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn: function (t, b, c, d) {\n        return c - exports.Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut: function (t, b, c, d) {\n        if (t < d / 2) {\n            return exports.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return exports.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn: function (t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut: function (t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut: function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn: function (t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut: function (t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut: function (t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear: function (t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Arc = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Global_1 = require(\"../Global\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_2 = require(\"../Global\");\nvar Arc = (function (_super) {\n    __extends(Arc, _super);\n    function Arc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Arc.prototype._sceneFunc = function (context) {\n        var angle = Global_1.Konva.getAngle(this.angle()), clockwise = this.clockwise();\n        context.beginPath();\n        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Arc.prototype.getWidth = function () {\n        return this.outerRadius() * 2;\n    };\n    Arc.prototype.getHeight = function () {\n        return this.outerRadius() * 2;\n    };\n    Arc.prototype.setWidth = function (width) {\n        this.outerRadius(width / 2);\n    };\n    Arc.prototype.setHeight = function (height) {\n        this.outerRadius(height / 2);\n    };\n    return Arc;\n}(Shape_1.Shape));\nexports.Arc = Arc;\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\nGlobal_2._registerNode(Arc);\nFactory_1.Factory.addGetterSetter(Arc, 'innerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arc, 'outerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arc, 'angle', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arc, 'clockwise', false, Validators_1.getBooleanValidator());\nUtil_1.Collection.mapMethods(Arc);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Arrow = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Line_1 = require(\"./Line\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Arrow = (function (_super) {\n    __extends(Arrow, _super);\n    function Arrow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Arrow.prototype._sceneFunc = function (ctx) {\n        _super.prototype._sceneFunc.call(this, ctx);\n        var PI2 = Math.PI * 2;\n        var points = this.points();\n        var tp = points;\n        var fromTension = this.tension() !== 0 && points.length > 4;\n        if (fromTension) {\n            tp = this.getTensionPoints();\n        }\n        var n = points.length;\n        var dx, dy;\n        if (fromTension) {\n            dx = points[n - 2] - (tp[tp.length - 2] + tp[tp.length - 4]) / 2;\n            dy = points[n - 1] - (tp[tp.length - 1] + tp[tp.length - 3]) / 2;\n        }\n        else {\n            dx = points[n - 2] - points[n - 4];\n            dy = points[n - 1] - points[n - 3];\n        }\n        var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n        var length = this.pointerLength();\n        var width = this.pointerWidth();\n        ctx.save();\n        ctx.beginPath();\n        ctx.translate(points[n - 2], points[n - 1]);\n        ctx.rotate(radians);\n        ctx.moveTo(0, 0);\n        ctx.lineTo(-length, width / 2);\n        ctx.lineTo(-length, -width / 2);\n        ctx.closePath();\n        ctx.restore();\n        if (this.pointerAtBeginning()) {\n            ctx.save();\n            ctx.translate(points[0], points[1]);\n            if (fromTension) {\n                dx = (tp[0] + tp[2]) / 2 - points[0];\n                dy = (tp[1] + tp[3]) / 2 - points[1];\n            }\n            else {\n                dx = points[2] - points[0];\n                dy = points[3] - points[1];\n            }\n            ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n        }\n        var isDashEnabled = this.dashEnabled();\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = false;\n            ctx.setLineDash([]);\n        }\n        ctx.fillStrokeShape(this);\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = true;\n        }\n    };\n    Arrow.prototype.getSelfRect = function () {\n        var lineRect = _super.prototype.getSelfRect.call(this);\n        var offset = this.pointerWidth() / 2;\n        return {\n            x: lineRect.x - offset,\n            y: lineRect.y - offset,\n            width: lineRect.width + offset * 2,\n            height: lineRect.height + offset * 2\n        };\n    };\n    return Arrow;\n}(Line_1.Line));\nexports.Arrow = Arrow;\nArrow.prototype.className = 'Arrow';\nGlobal_1._registerNode(Arrow);\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerLength', 10, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerWidth', 10, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nUtil_1.Collection.mapMethods(Arrow);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Line = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Line = (function (_super) {\n    __extends(Line, _super);\n    function Line(config) {\n        var _this = _super.call(this, config) || this;\n        _this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n        return _this;\n    }\n    Line.prototype._sceneFunc = function (context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    };\n    Line.prototype.getTensionPoints = function () {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    };\n    Line.prototype._getTensionPoints = function () {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return Util_1.Util._expandPoints(this.points(), this.tension());\n        }\n    };\n    Line.prototype._getTensionPointsClosed = function () {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = Util_1.Util._getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = Util_1.Util._getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = Util_1.Util._expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1]\n        ]);\n        return tp;\n    };\n    Line.prototype.getWidth = function () {\n        return this.getSelfRect().width;\n    };\n    Line.prototype.getHeight = function () {\n        return this.getSelfRect().height;\n    };\n    Line.prototype.getSelfRect = function () {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0\n            };\n        }\n        if (this.tension() !== 0) {\n            points = __spreadArrays([\n                points[0],\n                points[1]\n            ], this._getTensionPoints(), [\n                points[points.length - 2],\n                points[points.length - 1]\n            ]);\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY\n        };\n    };\n    return Line;\n}(Shape_1.Shape));\nexports.Line = Line;\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\nGlobal_1._registerNode(Line);\nFactory_1.Factory.addGetterSetter(Line, 'closed', false);\nFactory_1.Factory.addGetterSetter(Line, 'bezier', false);\nFactory_1.Factory.addGetterSetter(Line, 'tension', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Line, 'points', [], Validators_1.getNumberArrayValidator());\nUtil_1.Collection.mapMethods(Line);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Circle = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Circle = (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype._sceneFunc = function (context) {\n        context.beginPath();\n        context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Circle.prototype.getWidth = function () {\n        return this.radius() * 2;\n    };\n    Circle.prototype.getHeight = function () {\n        return this.radius() * 2;\n    };\n    Circle.prototype.setWidth = function (width) {\n        if (this.radius() !== width / 2) {\n            this.radius(width / 2);\n        }\n    };\n    Circle.prototype.setHeight = function (height) {\n        if (this.radius() !== height / 2) {\n            this.radius(height / 2);\n        }\n    };\n    return Circle;\n}(Shape_1.Shape));\nexports.Circle = Circle;\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\nGlobal_1._registerNode(Circle);\nFactory_1.Factory.addGetterSetter(Circle, 'radius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Circle);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ellipse = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Ellipse = (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ellipse.prototype._sceneFunc = function (context) {\n        var rx = this.radiusX(), ry = this.radiusY();\n        context.beginPath();\n        context.save();\n        if (rx !== ry) {\n            context.scale(1, ry / rx);\n        }\n        context.arc(0, 0, rx, 0, Math.PI * 2, false);\n        context.restore();\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Ellipse.prototype.getWidth = function () {\n        return this.radiusX() * 2;\n    };\n    Ellipse.prototype.getHeight = function () {\n        return this.radiusY() * 2;\n    };\n    Ellipse.prototype.setWidth = function (width) {\n        this.radiusX(width / 2);\n    };\n    Ellipse.prototype.setHeight = function (height) {\n        this.radiusY(height / 2);\n    };\n    return Ellipse;\n}(Shape_1.Shape));\nexports.Ellipse = Ellipse;\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\nGlobal_1._registerNode(Ellipse);\nFactory_1.Factory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Ellipse, 'radiusX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Ellipse, 'radiusY', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Ellipse);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Image = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Image = (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Image.prototype._useBufferCanvas = function () {\n        return _super.prototype._useBufferCanvas.call(this, true);\n    };\n    Image.prototype._sceneFunc = function (context) {\n        var width = this.getWidth();\n        var height = this.getHeight();\n        var image = this.attrs.image;\n        var params;\n        if (image) {\n            var cropWidth = this.attrs.cropWidth;\n            var cropHeight = this.attrs.cropHeight;\n            if (cropWidth && cropHeight) {\n                params = [\n                    image,\n                    this.cropX(),\n                    this.cropY(),\n                    cropWidth,\n                    cropHeight,\n                    0,\n                    0,\n                    width,\n                    height,\n                ];\n            }\n            else {\n                params = [image, 0, 0, width, height];\n            }\n        }\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            context.drawImage.apply(context, params);\n        }\n    };\n    Image.prototype._hitFunc = function (context) {\n        var width = this.width(), height = this.height();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Image.prototype.getWidth = function () {\n        var _a, _b;\n        return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (((_b = this.image()) === null || _b === void 0 ? void 0 : _b.width) || 0);\n    };\n    Image.prototype.getHeight = function () {\n        var _a, _b;\n        return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (((_b = this.image()) === null || _b === void 0 ? void 0 : _b.height) || 0);\n    };\n    Image.fromURL = function (url, callback) {\n        var img = Util_1.Util.createImageElement();\n        img.onload = function () {\n            var image = new Image({\n                image: img,\n            });\n            callback(image);\n        };\n        img.crossOrigin = 'Anonymous';\n        img.src = url;\n    };\n    return Image;\n}(Shape_1.Shape));\nexports.Image = Image;\nImage.prototype.className = 'Image';\nGlobal_1._registerNode(Image);\nFactory_1.Factory.addGetterSetter(Image, 'image');\nFactory_1.Factory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory_1.Factory.addGetterSetter(Image, 'cropX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Image, 'cropY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Image, 'cropWidth', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Image, 'cropHeight', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Image);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tag = exports.Label = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Group_1 = require(\"../Group\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nvar Label = (function (_super) {\n    __extends(Label, _super);\n    function Label(config) {\n        var _this = _super.call(this, config) || this;\n        _this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n        return _this;\n    }\n    Label.prototype.getText = function () {\n        return this.find('Text')[0];\n    };\n    Label.prototype.getTag = function () {\n        return this.find('Tag')[0];\n    };\n    Label.prototype._addListeners = function (text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    };\n    Label.prototype.getWidth = function () {\n        return this.getText().width();\n    };\n    Label.prototype.getHeight = function () {\n        return this.getText().height();\n    };\n    Label.prototype._sync = function () {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height,\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n            });\n        }\n    };\n    return Label;\n}(Group_1.Group));\nexports.Label = Label;\nLabel.prototype.className = 'Label';\nGlobal_1._registerNode(Label);\nUtil_1.Collection.mapMethods(Label);\nvar Tag = (function (_super) {\n    __extends(Tag, _super);\n    function Tag() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tag.prototype._sceneFunc = function (context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();\n        var topLeft = 0;\n        var topRight = 0;\n        var bottomLeft = 0;\n        var bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.beginPath();\n        context.moveTo(topLeft, 0);\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Tag.prototype.getSelfRect = function () {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    };\n    return Tag;\n}(Shape_1.Shape));\nexports.Tag = Tag;\nTag.prototype.className = 'Tag';\nGlobal_1._registerNode(Tag);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, Validators_1.getNumberOrArrayOfNumbersValidator(4));\nUtil_1.Collection.mapMethods(Tag);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Path = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Global_1 = require(\"../Global\");\nvar Path = (function (_super) {\n    __extends(Path, _super);\n    function Path(config) {\n        var _this = _super.call(this, config) || this;\n        _this.dataArray = [];\n        _this.pathLength = 0;\n        _this.dataArray = Path.parsePathData(_this.data());\n        _this.pathLength = 0;\n        for (var i = 0; i < _this.dataArray.length; ++i) {\n            _this.pathLength += _this.dataArray[i].pathLength;\n        }\n        _this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.data());\n            this.pathLength = 0;\n            for (var i = 0; i < this.dataArray.length; ++i) {\n                this.pathLength += this.dataArray[i].pathLength;\n            }\n        });\n        return _this;\n    }\n    Path.prototype._sceneFunc = function (context) {\n        var ca = this.dataArray;\n        context.beginPath();\n        var isClosed = false;\n        for (var n = 0; n < ca.length; n++) {\n            var c = ca[n].command;\n            var p = ca[n].points;\n            switch (c) {\n                case 'L':\n                    context.lineTo(p[0], p[1]);\n                    break;\n                case 'M':\n                    context.moveTo(p[0], p[1]);\n                    break;\n                case 'C':\n                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n                    break;\n                case 'Q':\n                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n                    break;\n                case 'A':\n                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(psi);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-psi);\n                    context.translate(-cx, -cy);\n                    break;\n                case 'z':\n                    isClosed = true;\n                    context.closePath();\n                    break;\n            }\n        }\n        if (!isClosed && !this.hasFill()) {\n            context.strokeShape(this);\n        }\n        else {\n            context.fillStrokeShape(this);\n        }\n    };\n    Path.prototype.getSelfRect = function () {\n        var points = [];\n        this.dataArray.forEach(function (data) {\n            if (data.command === 'A') {\n                var start = data.points[4];\n                var dTheta = data.points[5];\n                var end = data.points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                if (dTheta < 0) {\n                    for (var t = start - inc; t > end; t -= inc) {\n                        var point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n                else {\n                    for (var t = start + inc; t < end; t += inc) {\n                        var point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n            }\n            else if (data.command === 'C') {\n                for (var t = 0.0; t <= 1; t += 0.01) {\n                    var point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n                    points.push(point.x, point.y);\n                }\n            }\n            else {\n                points = points.concat(data.points);\n            }\n        });\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            if (!isNaN(x)) {\n                minX = Math.min(minX, x);\n                maxX = Math.max(maxX, x);\n            }\n            if (!isNaN(y)) {\n                minY = Math.min(minY, y);\n                maxY = Math.max(maxY, y);\n            }\n        }\n        return {\n            x: Math.round(minX),\n            y: Math.round(minY),\n            width: Math.round(maxX - minX),\n            height: Math.round(maxY - minY),\n        };\n    };\n    Path.prototype.getLength = function () {\n        return this.pathLength;\n    };\n    Path.prototype.getPointAtLength = function (length) {\n        var point, i = 0, ii = this.dataArray.length;\n        if (!ii) {\n            return null;\n        }\n        while (i < ii && length > this.dataArray[i].pathLength) {\n            length -= this.dataArray[i].pathLength;\n            ++i;\n        }\n        if (i === ii) {\n            point = this.dataArray[i - 1].points.slice(-2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        if (length < 0.01) {\n            point = this.dataArray[i].points.slice(0, 2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        var cp = this.dataArray[i];\n        var p = cp.points;\n        switch (cp.command) {\n            case 'L':\n                return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n            case 'C':\n                return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n            case 'Q':\n                return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n            case 'A':\n                var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];\n                theta += (dTheta * length) / cp.pathLength;\n                return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n        }\n        return null;\n    };\n    Path.getLineLength = function (x1, y1, x2, y2) {\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    };\n    Path.getPointOnLine = function (dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n        if (fromX === undefined) {\n            fromX = P1x;\n        }\n        if (fromY === undefined) {\n            fromY = P1y;\n        }\n        var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n        var run = Math.sqrt((dist * dist) / (1 + m * m));\n        if (P2x < P1x) {\n            run *= -1;\n        }\n        var rise = m * run;\n        var pt;\n        if (P2x === P1x) {\n            pt = {\n                x: fromX,\n                y: fromY + rise,\n            };\n        }\n        else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n            pt = {\n                x: fromX + run,\n                y: fromY + rise,\n            };\n        }\n        else {\n            var ix, iy;\n            var len = this.getLineLength(P1x, P1y, P2x, P2y);\n            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n            u = u / (len * len);\n            ix = P1x + u * (P2x - P1x);\n            iy = P1y + u * (P2y - P1y);\n            var pRise = this.getLineLength(fromX, fromY, ix, iy);\n            var pRun = Math.sqrt(dist * dist - pRise * pRise);\n            run = Math.sqrt((pRun * pRun) / (1 + m * m));\n            if (P2x < P1x) {\n                run *= -1;\n            }\n            rise = m * run;\n            pt = {\n                x: ix + run,\n                y: iy + rise,\n            };\n        }\n        return pt;\n    };\n    Path.getPointOnCubicBezier = function (pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n        function CB1(t) {\n            return t * t * t;\n        }\n        function CB2(t) {\n            return 3 * t * t * (1 - t);\n        }\n        function CB3(t) {\n            return 3 * t * (1 - t) * (1 - t);\n        }\n        function CB4(t) {\n            return (1 - t) * (1 - t) * (1 - t);\n        }\n        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    };\n    Path.getPointOnQuadraticBezier = function (pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n        function QB1(t) {\n            return t * t;\n        }\n        function QB2(t) {\n            return 2 * t * (1 - t);\n        }\n        function QB3(t) {\n            return (1 - t) * (1 - t);\n        }\n        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    };\n    Path.getPointOnEllipticalArc = function (cx, cy, rx, ry, theta, psi) {\n        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);\n        var pt = {\n            x: rx * Math.cos(theta),\n            y: ry * Math.sin(theta),\n        };\n        return {\n            x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n            y: cy + (pt.x * sinPsi + pt.y * cosPsi),\n        };\n    };\n    Path.parsePathData = function (data) {\n        if (!data) {\n            return [];\n        }\n        var cs = data;\n        var cc = [\n            'm',\n            'M',\n            'l',\n            'L',\n            'v',\n            'V',\n            'h',\n            'H',\n            'z',\n            'Z',\n            'c',\n            'C',\n            'q',\n            'Q',\n            't',\n            'T',\n            's',\n            'S',\n            'a',\n            'A',\n        ];\n        cs = cs.replace(new RegExp(' ', 'g'), ',');\n        for (var n = 0; n < cc.length; n++) {\n            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        }\n        var arr = cs.split('|');\n        var ca = [];\n        var coords = [];\n        var cpx = 0;\n        var cpy = 0;\n        var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n        var match;\n        for (n = 1; n < arr.length; n++) {\n            var str = arr[n];\n            var c = str.charAt(0);\n            str = str.slice(1);\n            coords.length = 0;\n            while ((match = re.exec(str))) {\n                coords.push(match[0]);\n            }\n            var p = [];\n            for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                var parsed = parseFloat(coords[j]);\n                if (!isNaN(parsed)) {\n                    p.push(parsed);\n                }\n                else {\n                    p.push(0);\n                }\n            }\n            while (p.length > 0) {\n                if (isNaN(p[0])) {\n                    break;\n                }\n                var cmd = null;\n                var points = [];\n                var startX = cpx, startY = cpy;\n                var prevCmd, ctlPtx, ctlPty;\n                var rx, ry, psi, fa, fs, x1, y1;\n                switch (c) {\n                    case 'l':\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'L':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'm':\n                        var dx = p.shift();\n                        var dy = p.shift();\n                        cpx += dx;\n                        cpy += dy;\n                        cmd = 'M';\n                        if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                            for (var idx = ca.length - 2; idx >= 0; idx--) {\n                                if (ca[idx].command === 'M') {\n                                    cpx = ca[idx].points[0] + dx;\n                                    cpy = ca[idx].points[1] + dy;\n                                    break;\n                                }\n                            }\n                        }\n                        points.push(cpx, cpy);\n                        c = 'l';\n                        break;\n                    case 'M':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'M';\n                        points.push(cpx, cpy);\n                        c = 'L';\n                        break;\n                    case 'h':\n                        cpx += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'H':\n                        cpx = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'v':\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'V':\n                        cpy = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'C':\n                        points.push(p.shift(), p.shift(), p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'c':\n                        points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'S':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 's':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'Q':\n                        points.push(p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'q':\n                        points.push(cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'T':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 't':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 'A':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                    case 'a':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                }\n                ca.push({\n                    command: cmd || c,\n                    points: points,\n                    start: {\n                        x: startX,\n                        y: startY,\n                    },\n                    pathLength: this.calcLength(startX, startY, cmd || c, points),\n                });\n            }\n            if (c === 'z' || c === 'Z') {\n                ca.push({\n                    command: 'z',\n                    points: [],\n                    start: undefined,\n                    pathLength: 0,\n                });\n            }\n        }\n        return ca;\n    };\n    Path.calcLength = function (x, y, cmd, points) {\n        var len, p1, p2, t;\n        var path = Path;\n        switch (cmd) {\n            case 'L':\n                return path.getLineLength(x, y, points[0], points[1]);\n            case 'C':\n                len = 0.0;\n                p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'Q':\n                len = 0.0;\n                p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'A':\n                len = 0.0;\n                var start = points[4];\n                var dTheta = points[5];\n                var end = points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n                if (dTheta < 0) {\n                    for (t = start - inc; t > end; t -= inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                else {\n                    for (t = start + inc; t < end; t += inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                return len;\n        }\n        return 0;\n    };\n    Path.convertEndpointToCenterParameterization = function (x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n        var psi = psiDeg * (Math.PI / 180.0);\n        var xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n        var yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 +\n            (Math.cos(psi) * (y1 - y2)) / 2.0;\n        var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n        if (lambda > 1) {\n            rx *= Math.sqrt(lambda);\n            ry *= Math.sqrt(lambda);\n        }\n        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) /\n            (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n        if (fa === fs) {\n            f *= -1;\n        }\n        if (isNaN(f)) {\n            f = 0;\n        }\n        var cxp = (f * rx * yp) / ry;\n        var cyp = (f * -ry * xp) / rx;\n        var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n        var vMag = function (v) {\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        };\n        var vRatio = function (u, v) {\n            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n        };\n        var vAngle = function (u, v) {\n            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n        };\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n        if (vRatio(u, v) <= -1) {\n            dTheta = Math.PI;\n        }\n        if (vRatio(u, v) >= 1) {\n            dTheta = 0;\n        }\n        if (fs === 0 && dTheta > 0) {\n            dTheta = dTheta - 2 * Math.PI;\n        }\n        if (fs === 1 && dTheta < 0) {\n            dTheta = dTheta + 2 * Math.PI;\n        }\n        return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    };\n    return Path;\n}(Shape_1.Shape));\nexports.Path = Path;\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\nGlobal_1._registerNode(Path);\nFactory_1.Factory.addGetterSetter(Path, 'data');\nUtil_1.Collection.mapMethods(Path);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Global_1 = require(\"../Global\");\nvar Validators_1 = require(\"../Validators\");\nvar Rect = (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rect.prototype._sceneFunc = function (context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            var topLeft = 0;\n            var topRight = 0;\n            var bottomLeft = 0;\n            var bottomRight = 0;\n            if (typeof cornerRadius === 'number') {\n                topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n            }\n            else {\n                topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n                topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n                bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n                bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n            }\n            context.moveTo(topLeft, 0);\n            context.lineTo(width - topRight, 0);\n            context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n            context.lineTo(width, height - bottomRight);\n            context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n            context.lineTo(bottomLeft, height);\n            context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n            context.lineTo(0, topLeft);\n            context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    return Rect;\n}(Shape_1.Shape));\nexports.Rect = Rect;\nRect.prototype.className = 'Rect';\nGlobal_1._registerNode(Rect);\nFactory_1.Factory.addGetterSetter(Rect, 'cornerRadius', 0, Validators_1.getNumberOrArrayOfNumbersValidator(4));\nUtil_1.Collection.mapMethods(Rect);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegularPolygon = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar RegularPolygon = (function (_super) {\n    __extends(RegularPolygon, _super);\n    function RegularPolygon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RegularPolygon.prototype._sceneFunc = function (context) {\n        var points = this._getPoints();\n        context.beginPath();\n        context.moveTo(points[0].x, points[0].y);\n        for (var n = 1; n < points.length; n++) {\n            context.lineTo(points[n].x, points[n].y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    RegularPolygon.prototype._getPoints = function () {\n        var sides = this.attrs.sides;\n        var radius = this.attrs.radius || 0;\n        var points = [];\n        for (var n = 0; n < sides; n++) {\n            points.push({\n                x: radius * Math.sin((n * 2 * Math.PI) / sides),\n                y: -1 * radius * Math.cos((n * 2 * Math.PI) / sides),\n            });\n        }\n        return points;\n    };\n    RegularPolygon.prototype.getSelfRect = function () {\n        var points = this._getPoints();\n        var minX = points[0].x;\n        var maxX = points[0].y;\n        var minY = points[0].x;\n        var maxY = points[0].y;\n        points.forEach(function (point) {\n            minX = Math.min(minX, point.x);\n            maxX = Math.max(maxX, point.x);\n            minY = Math.min(minY, point.y);\n            maxY = Math.max(maxY, point.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    RegularPolygon.prototype.getWidth = function () {\n        return this.radius() * 2;\n    };\n    RegularPolygon.prototype.getHeight = function () {\n        return this.radius() * 2;\n    };\n    RegularPolygon.prototype.setWidth = function (width) {\n        this.radius(width / 2);\n    };\n    RegularPolygon.prototype.setHeight = function (height) {\n        this.radius(height / 2);\n    };\n    return RegularPolygon;\n}(Shape_1.Shape));\nexports.RegularPolygon = RegularPolygon;\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\nGlobal_1._registerNode(RegularPolygon);\nFactory_1.Factory.addGetterSetter(RegularPolygon, 'radius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(RegularPolygon, 'sides', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(RegularPolygon);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ring = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar PIx2 = Math.PI * 2;\nvar Ring = (function (_super) {\n    __extends(Ring, _super);\n    function Ring() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ring.prototype._sceneFunc = function (context) {\n        context.beginPath();\n        context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n        context.moveTo(this.outerRadius(), 0);\n        context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Ring.prototype.getWidth = function () {\n        return this.outerRadius() * 2;\n    };\n    Ring.prototype.getHeight = function () {\n        return this.outerRadius() * 2;\n    };\n    Ring.prototype.setWidth = function (width) {\n        this.outerRadius(width / 2);\n    };\n    Ring.prototype.setHeight = function (height) {\n        this.outerRadius(height / 2);\n    };\n    return Ring;\n}(Shape_1.Shape));\nexports.Ring = Ring;\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\nGlobal_1._registerNode(Ring);\nFactory_1.Factory.addGetterSetter(Ring, 'innerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Ring, 'outerRadius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Ring);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sprite = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Animation_1 = require(\"../Animation\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Sprite = (function (_super) {\n    __extends(Sprite, _super);\n    function Sprite(config) {\n        var _this = _super.call(this, config) || this;\n        _this._updated = true;\n        _this.anim = new Animation_1.Animation(function () {\n            var updated = _this._updated;\n            _this._updated = false;\n            return updated;\n        });\n        _this.on('animationChange.konva', function () {\n            this.frameIndex(0);\n        });\n        _this.on('frameIndexChange.konva', function () {\n            this._updated = true;\n        });\n        _this.on('frameRateChange.konva', function () {\n            if (!this.anim.isRunning()) {\n                return;\n            }\n            clearInterval(this.interval);\n            this._setInterval();\n        });\n        return _this;\n    }\n    Sprite.prototype._sceneFunc = function (context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            if (offsets) {\n                var offset = offsets[anim], ix2 = index * 2;\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n            }\n            else {\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\n            }\n        }\n    };\n    Sprite.prototype._hitFunc = function (context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\n        context.beginPath();\n        if (offsets) {\n            var offset = offsets[anim];\n            var ix2 = index * 2;\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n        }\n        else {\n            context.rect(0, 0, width, height);\n        }\n        context.closePath();\n        context.fillShape(this);\n    };\n    Sprite.prototype._useBufferCanvas = function () {\n        return _super.prototype._useBufferCanvas.call(this, true);\n    };\n    Sprite.prototype._setInterval = function () {\n        var that = this;\n        this.interval = setInterval(function () {\n            that._updateIndex();\n        }, 1000 / this.frameRate());\n    };\n    Sprite.prototype.start = function () {\n        if (this.isRunning()) {\n            return;\n        }\n        var layer = this.getLayer();\n        this.anim.setLayers(layer);\n        this._setInterval();\n        this.anim.start();\n    };\n    Sprite.prototype.stop = function () {\n        this.anim.stop();\n        clearInterval(this.interval);\n    };\n    Sprite.prototype.isRunning = function () {\n        return this.anim.isRunning();\n    };\n    Sprite.prototype._updateIndex = function () {\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\n        if (index < len - 1) {\n            this.frameIndex(index + 1);\n        }\n        else {\n            this.frameIndex(0);\n        }\n    };\n    return Sprite;\n}(Shape_1.Shape));\nexports.Sprite = Sprite;\nSprite.prototype.className = 'Sprite';\nGlobal_1._registerNode(Sprite);\nFactory_1.Factory.addGetterSetter(Sprite, 'animation');\nFactory_1.Factory.addGetterSetter(Sprite, 'animations');\nFactory_1.Factory.addGetterSetter(Sprite, 'frameOffsets');\nFactory_1.Factory.addGetterSetter(Sprite, 'image');\nFactory_1.Factory.addGetterSetter(Sprite, 'frameIndex', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Sprite, 'frameRate', 17, Validators_1.getNumberValidator());\nFactory_1.Factory.backCompat(Sprite, {\n    index: 'frameIndex',\n    getIndex: 'getFrameIndex',\n    setIndex: 'setFrameIndex',\n});\nUtil_1.Collection.mapMethods(Sprite);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Star = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar Star = (function (_super) {\n    __extends(Star, _super);\n    function Star() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Star.prototype._sceneFunc = function (context) {\n        var innerRadius = this.innerRadius(), outerRadius = this.outerRadius(), numPoints = this.numPoints();\n        context.beginPath();\n        context.moveTo(0, 0 - outerRadius);\n        for (var n = 1; n < numPoints * 2; n++) {\n            var radius = n % 2 === 0 ? outerRadius : innerRadius;\n            var x = radius * Math.sin((n * Math.PI) / numPoints);\n            var y = -1 * radius * Math.cos((n * Math.PI) / numPoints);\n            context.lineTo(x, y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Star.prototype.getWidth = function () {\n        return this.outerRadius() * 2;\n    };\n    Star.prototype.getHeight = function () {\n        return this.outerRadius() * 2;\n    };\n    Star.prototype.setWidth = function (width) {\n        this.outerRadius(width / 2);\n    };\n    Star.prototype.setHeight = function (height) {\n        this.outerRadius(height / 2);\n    };\n    return Star;\n}(Shape_1.Shape));\nexports.Star = Star;\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\nGlobal_1._registerNode(Star);\nFactory_1.Factory.addGetterSetter(Star, 'numPoints', 5, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Star, 'innerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Star, 'outerRadius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Star);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Text = exports.stringToArray = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Global_1 = require(\"../Global\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_2 = require(\"../Global\");\nfunction stringToArray(string) {\n    return Array.from(string);\n}\nexports.stringToArray = stringToArray;\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '…', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map(function (family) {\n        family = family.trim();\n        var hasSpace = family.indexOf(' ') >= 0;\n        var hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = \"\\\"\" + family + \"\\\"\";\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nvar Text = (function (_super) {\n    __extends(Text, _super);\n    function Text(config) {\n        var _this = _super.call(this, checkDefaultFill(config)) || this;\n        _this._partialTextX = 0;\n        _this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            _this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, _this._setTextData);\n        }\n        _this._setTextData();\n        return _this;\n    }\n    Text.prototype._sceneFunc = function (context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = n !== textArrLen - 1, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && n !== textArrLen - 1 && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    };\n    Text.prototype._hitFunc = function (context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Text.prototype.setText = function (text) {\n        var str = Util_1.Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    };\n    Text.prototype.getWidth = function () {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    };\n    Text.prototype.getHeight = function () {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    };\n    Text.prototype.getTextWidth = function () {\n        return this.textWidth;\n    };\n    Text.prototype.getTextHeight = function () {\n        Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    };\n    Text.prototype.measureSize = function (text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    };\n    Text.prototype._getContextFont = function () {\n        if (Global_1.Konva.UA.isIE) {\n            return (this.fontStyle() +\n                SPACE +\n                this.fontSize() +\n                PX_SPACE +\n                this.fontFamily());\n        }\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    };\n    Text.prototype._addTextLine = function (line) {\n        if (this.align() === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({ text: line, width: width });\n    };\n    Text.prototype._getTextWidth = function (text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    };\n    Text.prototype._setTextData = function () {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        if (!shouldWrap ||\n                            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx)) {\n                            var lastLine = this.textArr[this.textArr.length - 1];\n                            if (lastLine) {\n                                if (shouldAddEllipsis) {\n                                    var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n                                    if (!haveSpace) {\n                                        lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n                                    }\n                                    this.textArr.splice(this.textArr.length - 1, 1);\n                                    this._addTextLine(lastLine.text + ELLIPSIS);\n                                }\n                            }\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    };\n    Text.prototype.getStrokeScaleEnabled = function () {\n        return true;\n    };\n    return Text;\n}(Shape_1.Shape));\nexports.Text = Text;\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\nGlobal_2._registerNode(Text);\nFactory_1.Factory.overWriteSetter(Text, 'width', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.overWriteSetter(Text, 'height', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(Text, 'fontSize', 12, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'padding', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'align', LEFT);\nFactory_1.Factory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory_1.Factory.addGetterSetter(Text, 'lineHeight', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'wrap', WORD);\nFactory_1.Factory.addGetterSetter(Text, 'ellipsis', false, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Text, 'letterSpacing', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'text', '', Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Text, 'textDecoration', '');\nUtil_1.Collection.mapMethods(Text);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextPath = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Path_1 = require(\"./Path\");\nvar Text_1 = require(\"./Text\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_1 = require(\"../Global\");\nvar EMPTY_STRING = '', NORMAL = 'normal';\nfunction _fillFunc(context) {\n    context.fillText(this.partialText, 0, 0);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this.partialText, 0, 0);\n}\nvar TextPath = (function (_super) {\n    __extends(TextPath, _super);\n    function TextPath(config) {\n        var _this = _super.call(this, config) || this;\n        _this.dummyCanvas = Util_1.Util.createCanvasElement();\n        _this.dataArray = [];\n        _this.dataArray = Path_1.Path.parsePathData(_this.attrs.data);\n        _this.on('dataChange.konva', function () {\n            this.dataArray = Path_1.Path.parsePathData(this.attrs.data);\n            this._setTextData();\n        });\n        _this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva', _this._setTextData);\n        if (config && config['getKerning']) {\n            Util_1.Util.warn('getKerning TextPath API is deprecated. Please use \"kerningFunc\" instead.');\n            _this.kerningFunc(config['getKerning']);\n        }\n        _this._setTextData();\n        return _this;\n    }\n    TextPath.prototype._sceneFunc = function (context) {\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', this.textBaseline());\n        context.setAttr('textAlign', 'left');\n        context.save();\n        var textDecoration = this.textDecoration();\n        var fill = this.fill();\n        var fontSize = this.fontSize();\n        var glyphInfo = this.glyphInfo;\n        if (textDecoration === 'underline') {\n            context.beginPath();\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            context.save();\n            var p0 = glyphInfo[i].p0;\n            context.translate(p0.x, p0.y);\n            context.rotate(glyphInfo[i].rotation);\n            this.partialText = glyphInfo[i].text;\n            context.fillStrokeShape(this);\n            if (textDecoration === 'underline') {\n                if (i === 0) {\n                    context.moveTo(0, fontSize / 2 + 1);\n                }\n                context.lineTo(fontSize, fontSize / 2 + 1);\n            }\n            context.restore();\n        }\n        if (textDecoration === 'underline') {\n            context.strokeStyle = fill;\n            context.lineWidth = fontSize / 20;\n            context.stroke();\n        }\n        context.restore();\n    };\n    TextPath.prototype._hitFunc = function (context) {\n        context.beginPath();\n        var glyphInfo = this.glyphInfo;\n        if (glyphInfo.length >= 1) {\n            var p0 = glyphInfo[0].p0;\n            context.moveTo(p0.x, p0.y);\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            var p1 = glyphInfo[i].p1;\n            context.lineTo(p1.x, p1.y);\n        }\n        context.setAttr('lineWidth', this.fontSize());\n        context.setAttr('strokeStyle', this.colorKey);\n        context.stroke();\n    };\n    TextPath.prototype.getTextWidth = function () {\n        return this.textWidth;\n    };\n    TextPath.prototype.getTextHeight = function () {\n        Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    };\n    TextPath.prototype.setText = function (text) {\n        return Text_1.Text.prototype.setText.call(this, text);\n    };\n    TextPath.prototype._getContextFont = function () {\n        return Text_1.Text.prototype._getContextFont.call(this);\n    };\n    TextPath.prototype._getTextSize = function (text) {\n        var dummyCanvas = this.dummyCanvas;\n        var _context = dummyCanvas.getContext('2d');\n        _context.save();\n        _context.font = this._getContextFont();\n        var metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: parseInt(this.attrs.fontSize, 10),\n        };\n    };\n    TextPath.prototype._setTextData = function () {\n        var that = this;\n        var size = this._getTextSize(this.attrs.text);\n        var letterSpacing = this.letterSpacing();\n        var align = this.align();\n        var kerningFunc = this.kerningFunc();\n        this.textWidth = size.width;\n        this.textHeight = size.height;\n        var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n        this.glyphInfo = [];\n        var fullPathWidth = 0;\n        for (var l = 0; l < that.dataArray.length; l++) {\n            if (that.dataArray[l].pathLength > 0) {\n                fullPathWidth += that.dataArray[l].pathLength;\n            }\n        }\n        var offset = 0;\n        if (align === 'center') {\n            offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n        }\n        if (align === 'right') {\n            offset = Math.max(0, fullPathWidth - textFullWidth);\n        }\n        var charArr = Text_1.stringToArray(this.text());\n        var spacesNumber = this.text().split(' ').length - 1;\n        var p0, p1, pathCmd;\n        var pIndex = -1;\n        var currentT = 0;\n        var getNextPathSegment = function () {\n            currentT = 0;\n            var pathData = that.dataArray;\n            for (var j = pIndex + 1; j < pathData.length; j++) {\n                if (pathData[j].pathLength > 0) {\n                    pIndex = j;\n                    return pathData[j];\n                }\n                else if (pathData[j].command === 'M') {\n                    p0 = {\n                        x: pathData[j].points[0],\n                        y: pathData[j].points[1],\n                    };\n                }\n            }\n            return {};\n        };\n        var findSegmentToFitCharacter = function (c) {\n            var glyphWidth = that._getTextSize(c).width + letterSpacing;\n            if (c === ' ' && align === 'justify') {\n                glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n            }\n            var currLen = 0;\n            var attempts = 0;\n            p1 = undefined;\n            while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 &&\n                attempts < 20) {\n                attempts++;\n                var cumulativePathLength = currLen;\n                while (pathCmd === undefined) {\n                    pathCmd = getNextPathSegment();\n                    if (pathCmd &&\n                        cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n                        cumulativePathLength += pathCmd.pathLength;\n                        pathCmd = undefined;\n                    }\n                }\n                if (pathCmd === {} || p0 === undefined) {\n                    return undefined;\n                }\n                var needNewSegment = false;\n                switch (pathCmd.command) {\n                    case 'L':\n                        if (Path_1.Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n                            p1 = Path_1.Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n                        }\n                        else {\n                            pathCmd = undefined;\n                        }\n                        break;\n                    case 'A':\n                        var start = pathCmd.points[4];\n                        var dTheta = pathCmd.points[5];\n                        var end = pathCmd.points[4] + dTheta;\n                        if (currentT === 0) {\n                            currentT = start + 0.00000001;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += ((Math.PI / 180.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        else {\n                            currentT -= ((Math.PI / 360.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        if ((dTheta < 0 && currentT < end) ||\n                            (dTheta >= 0 && currentT > end)) {\n                            currentT = end;\n                            needNewSegment = true;\n                        }\n                        p1 = Path_1.Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n                        break;\n                    case 'C':\n                        if (currentT === 0) {\n                            if (glyphWidth > pathCmd.pathLength) {\n                                currentT = 0.00000001;\n                            }\n                            else {\n                                currentT = glyphWidth / pathCmd.pathLength;\n                            }\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength / 2;\n                        }\n                        else {\n                            currentT = Math.max(currentT - (currLen - glyphWidth) / pathCmd.pathLength / 2, 0);\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path_1.Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n                        break;\n                    case 'Q':\n                        if (currentT === 0) {\n                            currentT = glyphWidth / pathCmd.pathLength;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n                        }\n                        else {\n                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path_1.Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n                        break;\n                }\n                if (p1 !== undefined) {\n                    currLen = Path_1.Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n                }\n                if (needNewSegment) {\n                    needNewSegment = false;\n                    pathCmd = undefined;\n                }\n            }\n        };\n        var testChar = 'C';\n        var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n        var lettersInOffset = offset / glyphWidth - 1;\n        for (var k = 0; k < lettersInOffset; k++) {\n            findSegmentToFitCharacter(testChar);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            p0 = p1;\n        }\n        for (var i = 0; i < charArr.length; i++) {\n            findSegmentToFitCharacter(charArr[i]);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            var width = Path_1.Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n            var kern = 0;\n            if (kerningFunc) {\n                try {\n                    kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n                }\n                catch (e) {\n                    kern = 0;\n                }\n            }\n            p0.x += kern;\n            p1.x += kern;\n            this.textWidth += kern;\n            var midpoint = Path_1.Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n            var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n            this.glyphInfo.push({\n                transposeX: midpoint.x,\n                transposeY: midpoint.y,\n                text: charArr[i],\n                rotation: rotation,\n                p0: p0,\n                p1: p1,\n            });\n            p0 = p1;\n        }\n    };\n    TextPath.prototype.getSelfRect = function () {\n        if (!this.glyphInfo.length) {\n            return {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        var points = [];\n        this.glyphInfo.forEach(function (info) {\n            points.push(info.p0.x);\n            points.push(info.p0.y);\n            points.push(info.p1.x);\n            points.push(info.p1.y);\n        });\n        var minX = points[0] || 0;\n        var maxX = points[0] || 0;\n        var minY = points[1] || 0;\n        var maxY = points[1] || 0;\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        var fontSize = this.fontSize();\n        return {\n            x: minX - fontSize / 2,\n            y: minY - fontSize / 2,\n            width: maxX - minX + fontSize,\n            height: maxY - minY + fontSize,\n        };\n    };\n    return TextPath;\n}(Shape_1.Shape));\nexports.TextPath = TextPath;\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\nGlobal_1._registerNode(TextPath);\nFactory_1.Factory.addGetterSetter(TextPath, 'data');\nFactory_1.Factory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(TextPath, 'fontSize', 12, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(TextPath, 'align', 'left');\nFactory_1.Factory.addGetterSetter(TextPath, 'letterSpacing', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory_1.Factory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory_1.Factory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory_1.Factory.addGetterSetter(TextPath, 'kerningFunc', null);\nUtil_1.Collection.mapMethods(TextPath);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transformer = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Shape_1 = require(\"../Shape\");\nvar Rect_1 = require(\"./Rect\");\nvar Group_1 = require(\"../Group\");\nvar Global_1 = require(\"../Global\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_2 = require(\"../Global\");\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = [\n    'resizeEnabledChange',\n    'rotateAnchorOffsetChange',\n    'rotateEnabledChange',\n    'enabledAnchorsChange',\n    'anchorSizeChange',\n    'borderEnabledChange',\n    'borderStrokeChange',\n    'borderStrokeWidthChange',\n    'borderDashChange',\n    'anchorStrokeChange',\n    'anchorStrokeWidthChange',\n    'anchorFillChange',\n    'anchorCornerRadiusChange',\n    'ignoreStrokeChange',\n]\n    .map(function (e) { return e + (\".\" + EVENTS_NAME); })\n    .join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = [\n    'widthChange',\n    'heightChange',\n    'scaleXChange',\n    'scaleYChange',\n    'skewXChange',\n    'skewYChange',\n    'rotationChange',\n    'offsetXChange',\n    'offsetYChange',\n    'transformsEnabledChange',\n    'strokeWidthChange',\n]\n    .map(function (e) { return e + (\".\" + EVENTS_NAME); })\n    .join(' ');\nvar ANGLES = {\n    'top-left': -45,\n    'top-center': 0,\n    'top-right': 45,\n    'middle-right': -90,\n    'middle-left': 90,\n    'bottom-left': -135,\n    'bottom-center': 180,\n    'bottom-right': 135,\n};\nvar TOUCH_DEVICE = 'ontouchstart' in Global_1.Konva._global;\nfunction getCursor(anchorName, rad) {\n    if (anchorName === 'rotater') {\n        return 'crosshair';\n    }\n    rad += Util_1.Util._degToRad(ANGLES[anchorName] || 0);\n    var angle = ((Util_1.Util._radToDeg(rad) % 360) + 360) % 360;\n    if (Util_1.Util._inRange(angle, 315 + 22.5, 360) || Util_1.Util._inRange(angle, 0, 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util_1.Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else {\n        Util_1.Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n        return 'pointer';\n    }\n}\nvar ANCHORS_NAMES = [\n    'top-left',\n    'top-center',\n    'top-right',\n    'middle-right',\n    'middle-left',\n    'bottom-left',\n    'bottom-center',\n    'bottom-right',\n];\nvar MAX_SAFE_INTEGER = 100000000;\nfunction getCenter(shape) {\n    return {\n        x: shape.x +\n            (shape.width / 2) * Math.cos(shape.rotation) +\n            (shape.height / 2) * Math.sin(-shape.rotation),\n        y: shape.y +\n            (shape.height / 2) * Math.cos(shape.rotation) +\n            (shape.width / 2) * Math.sin(shape.rotation),\n    };\n}\nfunction rotateAroundPoint(shape, angleRad, point) {\n    var x = point.x +\n        (shape.x - point.x) * Math.cos(angleRad) -\n        (shape.y - point.y) * Math.sin(angleRad);\n    var y = point.y +\n        (shape.x - point.x) * Math.sin(angleRad) +\n        (shape.y - point.y) * Math.cos(angleRad);\n    return __assign(__assign({}, shape), { rotation: shape.rotation + angleRad, x: x,\n        y: y });\n}\nfunction rotateAroundCenter(shape, deltaRad) {\n    var center = getCenter(shape);\n    return rotateAroundPoint(shape, deltaRad, center);\n}\nfunction getSnap(snaps, newRotationRad, tol) {\n    var snapped = newRotationRad;\n    for (var i = 0; i < snaps.length; i++) {\n        var angle = Global_1.Konva.getAngle(snaps[i]);\n        var absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n        var dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n        if (dif < tol) {\n            snapped = angle;\n        }\n    }\n    return snapped;\n}\nvar Transformer = (function (_super) {\n    __extends(Transformer, _super);\n    function Transformer(config) {\n        var _this = _super.call(this, config) || this;\n        _this._transforming = false;\n        _this._createElements();\n        _this._handleMouseMove = _this._handleMouseMove.bind(_this);\n        _this._handleMouseUp = _this._handleMouseUp.bind(_this);\n        _this.update = _this.update.bind(_this);\n        _this.on(ATTR_CHANGE_LIST, _this.update);\n        if (_this.getNode()) {\n            _this.update();\n        }\n        return _this;\n    }\n    Transformer.prototype.attachTo = function (node) {\n        this.setNode(node);\n        return this;\n    };\n    Transformer.prototype.setNode = function (node) {\n        Util_1.Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n        return this.setNodes([node]);\n    };\n    Transformer.prototype.getNode = function () {\n        return this._nodes && this._nodes[0];\n    };\n    Transformer.prototype.setNodes = function (nodes) {\n        var _this = this;\n        if (nodes === void 0) { nodes = []; }\n        if (this._nodes && this._nodes.length) {\n            this.detach();\n        }\n        this._nodes = nodes;\n        if (nodes.length === 1) {\n            this.rotation(nodes[0].getAbsoluteRotation());\n        }\n        else {\n            this.rotation(0);\n        }\n        this._nodes.forEach(function (node) {\n            var additionalEvents = node._attrsAffectingSize\n                .map(function (prop) { return prop + 'Change.' + EVENTS_NAME; })\n                .join(' ');\n            var onChange = function () {\n                if (_this.nodes().length === 1) {\n                    _this.rotation(_this.nodes()[0].getAbsoluteRotation());\n                }\n                _this._resetTransformCache();\n                if (!_this._transforming && !_this.isDragging()) {\n                    _this.update();\n                }\n            };\n            node.on(additionalEvents, onChange);\n            node.on(TRANSFORM_CHANGE_STR, onChange);\n            node.on(\"_clearTransformCache.\" + EVENTS_NAME, onChange);\n            node.on(\"xChange.\" + EVENTS_NAME + \" yChange.\" + EVENTS_NAME, onChange);\n            _this._proxyDrag(node);\n        });\n        this._resetTransformCache();\n        var elementsCreated = !!this.findOne('.top-left');\n        if (elementsCreated) {\n            this.update();\n        }\n        return this;\n    };\n    Transformer.prototype._proxyDrag = function (node) {\n        var _this = this;\n        var lastPos;\n        node.on(\"dragstart.\" + EVENTS_NAME, function (e) {\n            lastPos = node.getAbsolutePosition();\n            if (!_this.isDragging() && node !== _this.findOne('.back')) {\n                _this.startDrag(e, false);\n            }\n        });\n        node.on(\"dragmove.\" + EVENTS_NAME, function (e) {\n            if (!lastPos) {\n                return;\n            }\n            var abs = node.getAbsolutePosition();\n            var dx = abs.x - lastPos.x;\n            var dy = abs.y - lastPos.y;\n            _this.nodes().forEach(function (otherNode) {\n                if (otherNode === node) {\n                    return;\n                }\n                if (otherNode.isDragging()) {\n                    return;\n                }\n                var otherAbs = otherNode.getAbsolutePosition();\n                otherNode.setAbsolutePosition({\n                    x: otherAbs.x + dx,\n                    y: otherAbs.y + dy,\n                });\n                otherNode.startDrag(e);\n            });\n            lastPos = null;\n        });\n    };\n    Transformer.prototype.getNodes = function () {\n        return this._nodes || [];\n    };\n    Transformer.prototype.getActiveAnchor = function () {\n        return this._movingAnchorName;\n    };\n    Transformer.prototype.detach = function () {\n        if (this._nodes) {\n            this._nodes.forEach(function (node) {\n                node.off('.' + EVENTS_NAME);\n            });\n        }\n        this._nodes = [];\n        this._resetTransformCache();\n    };\n    Transformer.prototype._resetTransformCache = function () {\n        this._clearCache(NODES_RECT);\n        this._clearCache('transform');\n        this._clearSelfAndDescendantCache('absoluteTransform');\n    };\n    Transformer.prototype._getNodeRect = function () {\n        return this._getCache(NODES_RECT, this.__getNodeRect);\n    };\n    Transformer.prototype.__getNodeShape = function (node, rot, relative) {\n        if (rot === void 0) { rot = this.rotation(); }\n        var rect = node.getClientRect({\n            skipTransform: true,\n            skipShadow: true,\n            skipStroke: this.ignoreStroke(),\n        });\n        var absScale = node.getAbsoluteScale(relative);\n        var absPos = node.getAbsolutePosition(relative);\n        var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n        var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n        var rotation = (Global_1.Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) %\n            (Math.PI * 2);\n        var box = {\n            x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n            y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n            width: rect.width * absScale.x,\n            height: rect.height * absScale.y,\n            rotation: rotation,\n        };\n        return rotateAroundPoint(box, -Global_1.Konva.getAngle(rot), {\n            x: 0,\n            y: 0,\n        });\n    };\n    Transformer.prototype.__getNodeRect = function () {\n        var _this = this;\n        var node = this.getNode();\n        if (!node) {\n            return {\n                x: -MAX_SAFE_INTEGER,\n                y: -MAX_SAFE_INTEGER,\n                width: 0,\n                height: 0,\n                rotation: 0,\n            };\n        }\n        var totalPoints = [];\n        this.nodes().map(function (node) {\n            var box = node.getClientRect({\n                skipTransform: true,\n                skipShadow: true,\n                skipStroke: _this.ignoreStroke(),\n            });\n            var points = [\n                { x: box.x, y: box.y },\n                { x: box.x + box.width, y: box.y },\n                { x: box.x + box.width, y: box.y + box.height },\n                { x: box.x, y: box.y + box.height },\n            ];\n            var trans = node.getAbsoluteTransform();\n            points.forEach(function (point) {\n                var transformed = trans.point(point);\n                totalPoints.push(transformed);\n            });\n        });\n        var tr = new Util_1.Transform();\n        tr.rotate(-Global_1.Konva.getAngle(this.rotation()));\n        var minX, minY, maxX, maxY;\n        totalPoints.forEach(function (point) {\n            var transformed = tr.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        tr.invert();\n        var p = tr.point({ x: minX, y: minY });\n        return {\n            x: p.x,\n            y: p.y,\n            width: maxX - minX,\n            height: maxY - minY,\n            rotation: Global_1.Konva.getAngle(this.rotation()),\n        };\n    };\n    Transformer.prototype.getX = function () {\n        return this._getNodeRect().x;\n    };\n    Transformer.prototype.getY = function () {\n        return this._getNodeRect().y;\n    };\n    Transformer.prototype.getWidth = function () {\n        return this._getNodeRect().width;\n    };\n    Transformer.prototype.getHeight = function () {\n        return this._getNodeRect().height;\n    };\n    Transformer.prototype._createElements = function () {\n        this._createBack();\n        ANCHORS_NAMES.forEach(function (name) {\n            this._createAnchor(name);\n        }.bind(this));\n        this._createAnchor('rotater');\n    };\n    Transformer.prototype._createAnchor = function (name) {\n        var _this = this;\n        var anchor = new Rect_1.Rect({\n            stroke: 'rgb(0, 161, 255)',\n            fill: 'white',\n            strokeWidth: 1,\n            name: name + ' _anchor',\n            dragDistance: 0,\n            draggable: true,\n            hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto',\n        });\n        var self = this;\n        anchor.on('mousedown touchstart', function (e) {\n            self._handleMouseDown(e);\n        });\n        anchor.on('dragstart', function (e) {\n            anchor.stopDrag();\n            e.cancelBubble = true;\n        });\n        anchor.on('dragend', function (e) {\n            e.cancelBubble = true;\n        });\n        anchor.on('mouseenter', function () {\n            var rad = Global_1.Konva.getAngle(_this.rotation());\n            var cursor = getCursor(name, rad);\n            anchor.getStage().content.style.cursor = cursor;\n            _this._cursorChange = true;\n        });\n        anchor.on('mouseout', function () {\n            anchor.getStage().content.style.cursor = '';\n            _this._cursorChange = false;\n        });\n        this.add(anchor);\n    };\n    Transformer.prototype._createBack = function () {\n        var _this = this;\n        var back = new Shape_1.Shape({\n            name: 'back',\n            width: 0,\n            height: 0,\n            draggable: true,\n            sceneFunc: function (ctx) {\n                var tr = this.getParent();\n                var padding = tr.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n                ctx.moveTo(this.width() / 2, -padding);\n                if (tr.rotateEnabled()) {\n                    ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util_1.Util._sign(this.height()) - padding);\n                }\n                ctx.fillStrokeShape(this);\n            },\n            hitFunc: function (ctx, shape) {\n                if (!_this.shouldOverdrawWholeArea()) {\n                    return;\n                }\n                var padding = _this.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n                ctx.fillStrokeShape(shape);\n            },\n        });\n        this.add(back);\n        this._proxyDrag(back);\n        back.on('dragstart', function (e) {\n            e.cancelBubble = true;\n        });\n        back.on('dragmove', function (e) {\n            e.cancelBubble = true;\n        });\n        back.on('dragend', function (e) {\n            e.cancelBubble = true;\n        });\n    };\n    Transformer.prototype._handleMouseDown = function (e) {\n        this._movingAnchorName = e.target.name().split(' ')[0];\n        var attrs = this._getNodeRect();\n        var width = attrs.width;\n        var height = attrs.height;\n        var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n        this.sin = Math.abs(height / hypotenuse);\n        this.cos = Math.abs(width / hypotenuse);\n        window.addEventListener('mousemove', this._handleMouseMove);\n        window.addEventListener('touchmove', this._handleMouseMove);\n        window.addEventListener('mouseup', this._handleMouseUp, true);\n        window.addEventListener('touchend', this._handleMouseUp, true);\n        this._transforming = true;\n        var ap = e.target.getAbsolutePosition();\n        var pos = e.target.getStage().getPointerPosition();\n        this._anchorDragOffset = {\n            x: pos.x - ap.x,\n            y: pos.y - ap.y,\n        };\n        this._fire('transformstart', { evt: e, target: this.getNode() });\n        this._nodes.forEach(function (target) {\n            target._fire('transformstart', { evt: e, target: target });\n        });\n    };\n    Transformer.prototype._handleMouseMove = function (e) {\n        var x, y, newHypotenuse;\n        var anchorNode = this.findOne('.' + this._movingAnchorName);\n        var stage = anchorNode.getStage();\n        stage.setPointersPositions(e);\n        var pp = stage.getPointerPosition();\n        var newNodePos = {\n            x: pp.x - this._anchorDragOffset.x,\n            y: pp.y - this._anchorDragOffset.y,\n        };\n        var oldAbs = anchorNode.getAbsolutePosition();\n        anchorNode.setAbsolutePosition(newNodePos);\n        var newAbs = anchorNode.getAbsolutePosition();\n        if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n            return;\n        }\n        if (this._movingAnchorName === 'rotater') {\n            var attrs = this._getNodeRect();\n            x = anchorNode.x() - attrs.width / 2;\n            y = -anchorNode.y() + attrs.height / 2;\n            var delta = Math.atan2(-y, x) + Math.PI / 2;\n            if (attrs.height < 0) {\n                delta -= Math.PI;\n            }\n            var oldRotation = Global_1.Konva.getAngle(this.rotation());\n            var newRotation = oldRotation + delta;\n            var tol = Global_1.Konva.getAngle(this.rotationSnapTolerance());\n            var snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n            var diff = snappedRot - attrs.rotation;\n            var shape = rotateAroundCenter(attrs, diff);\n            this._fitNodesInto(shape, e);\n            return;\n        }\n        var keepProportion = this.keepRatio() || e.shiftKey;\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (this._movingAnchorName === 'top-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-right').x(),\n                        y: this.findOne('.bottom-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-left').x(comparePoint.x - x);\n                this.findOne('.top-left').y(comparePoint.y - y);\n            }\n        }\n        else if (this._movingAnchorName === 'top-center') {\n            this.findOne('.top-left').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'top-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-left').x(),\n                        y: this.findOne('.bottom-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-right').x(comparePoint.x + x);\n                this.findOne('.top-right').y(comparePoint.y - y);\n            }\n            var pos = anchorNode.position();\n            this.findOne('.top-left').y(pos.y);\n            this.findOne('.bottom-right').x(pos.x);\n        }\n        else if (this._movingAnchorName === 'middle-left') {\n            this.findOne('.top-left').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'middle-right') {\n            this.findOne('.bottom-right').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'bottom-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-right').x(),\n                        y: this.findOne('.top-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n                var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                anchorNode.x(comparePoint.x - x);\n                anchorNode.y(comparePoint.y + y);\n            }\n            pos = anchorNode.position();\n            this.findOne('.top-left').x(pos.x);\n            this.findOne('.bottom-right').y(pos.y);\n        }\n        else if (this._movingAnchorName === 'bottom-center') {\n            this.findOne('.bottom-right').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'bottom-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-left').x(),\n                        y: this.findOne('.top-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.bottom-right').x(comparePoint.x + x);\n                this.findOne('.bottom-right').y(comparePoint.y + y);\n            }\n        }\n        else {\n            console.error(new Error('Wrong position argument of selection resizer: ' +\n                this._movingAnchorName));\n        }\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (centeredScaling) {\n            var topLeft = this.findOne('.top-left');\n            var bottomRight = this.findOne('.bottom-right');\n            var topOffsetX = topLeft.x();\n            var topOffsetY = topLeft.y();\n            var bottomOffsetX = this.getWidth() - bottomRight.x();\n            var bottomOffsetY = this.getHeight() - bottomRight.y();\n            bottomRight.move({\n                x: -topOffsetX,\n                y: -topOffsetY,\n            });\n            topLeft.move({\n                x: bottomOffsetX,\n                y: bottomOffsetY,\n            });\n        }\n        var absPos = this.findOne('.top-left').getAbsolutePosition();\n        x = absPos.x;\n        y = absPos.y;\n        var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n        var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n        this._fitNodesInto({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            rotation: Global_1.Konva.getAngle(this.rotation()),\n        }, e);\n    };\n    Transformer.prototype._handleMouseUp = function (e) {\n        this._removeEvents(e);\n    };\n    Transformer.prototype.getAbsoluteTransform = function () {\n        return this.getTransform();\n    };\n    Transformer.prototype._removeEvents = function (e) {\n        if (this._transforming) {\n            this._transforming = false;\n            window.removeEventListener('mousemove', this._handleMouseMove);\n            window.removeEventListener('touchmove', this._handleMouseMove);\n            window.removeEventListener('mouseup', this._handleMouseUp, true);\n            window.removeEventListener('touchend', this._handleMouseUp, true);\n            var node = this.getNode();\n            this._fire('transformend', { evt: e, target: node });\n            if (node) {\n                this._nodes.forEach(function (target) {\n                    target._fire('transformend', { evt: e, target: target });\n                });\n            }\n            this._movingAnchorName = null;\n        }\n    };\n    Transformer.prototype._fitNodesInto = function (newAttrs, evt) {\n        var _this = this;\n        var oldAttrs = this._getNodeRect();\n        var minSize = 1;\n        if (Util_1.Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        if (Util_1.Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        var allowNegativeScale = true;\n        var t = new Util_1.Transform();\n        t.rotate(Global_1.Konva.getAngle(this.rotation()));\n        if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('left') >= 0) {\n            var offset = t.point({\n                x: -this.padding() * 2,\n                y: 0,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            newAttrs.width += this.padding() * 2;\n            this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('right') >= 0) {\n            var offset = t.point({\n                x: this.padding() * 2,\n                y: 0,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.width += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('top') >= 0) {\n            var offset = t.point({\n                x: 0,\n                y: -this.padding() * 2,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('bottom') >= 0) {\n            var offset = t.point({\n                x: 0,\n                y: this.padding() * 2,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this.boundBoxFunc()) {\n            var bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n            if (bounded) {\n                newAttrs = bounded;\n            }\n            else {\n                Util_1.Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n            }\n        }\n        var baseSize = 10000000;\n        var oldTr = new Util_1.Transform();\n        oldTr.translate(oldAttrs.x, oldAttrs.y);\n        oldTr.rotate(oldAttrs.rotation);\n        oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n        var newTr = new Util_1.Transform();\n        newTr.translate(newAttrs.x, newAttrs.y);\n        newTr.rotate(newAttrs.rotation);\n        newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n        var delta = newTr.multiply(oldTr.invert());\n        this._nodes.forEach(function (node) {\n            var _a;\n            var parentTransform = node.getParent().getAbsoluteTransform();\n            var localTransform = node.getTransform().copy();\n            localTransform.translate(node.offsetX(), node.offsetY());\n            var newLocalTransform = new Util_1.Transform();\n            newLocalTransform\n                .multiply(parentTransform.copy().invert())\n                .multiply(delta)\n                .multiply(parentTransform)\n                .multiply(localTransform);\n            var attrs = newLocalTransform.decompose();\n            node.setAttrs(attrs);\n            _this._fire('transform', { evt: evt, target: node });\n            node._fire('transform', { evt: evt, target: node });\n            (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n        });\n        this.rotation(Util_1.Util._getRotation(newAttrs.rotation));\n        this._resetTransformCache();\n        this.update();\n        this.getLayer().batchDraw();\n    };\n    Transformer.prototype.forceUpdate = function () {\n        this._resetTransformCache();\n        this.update();\n    };\n    Transformer.prototype._batchChangeChild = function (selector, attrs) {\n        var anchor = this.findOne(selector);\n        anchor.setAttrs(attrs);\n    };\n    Transformer.prototype.update = function () {\n        var _this = this;\n        var _a;\n        var attrs = this._getNodeRect();\n        this.rotation(Util_1.Util._getRotation(attrs.rotation));\n        var width = attrs.width;\n        var height = attrs.height;\n        var enabledAnchors = this.enabledAnchors();\n        var resizeEnabled = this.resizeEnabled();\n        var padding = this.padding();\n        var anchorSize = this.anchorSize();\n        this.find('._anchor').each(function (node) {\n            node.setAttrs({\n                width: anchorSize,\n                height: anchorSize,\n                offsetX: anchorSize / 2,\n                offsetY: anchorSize / 2,\n                stroke: _this.anchorStroke(),\n                strokeWidth: _this.anchorStrokeWidth(),\n                fill: _this.anchorFill(),\n                cornerRadius: _this.anchorCornerRadius(),\n            });\n        });\n        this._batchChangeChild('.top-left', {\n            x: 0,\n            y: 0,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0,\n        });\n        this._batchChangeChild('.top-center', {\n            x: width / 2,\n            y: 0,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0,\n        });\n        this._batchChangeChild('.top-right', {\n            x: width,\n            y: 0,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0,\n        });\n        this._batchChangeChild('.middle-left', {\n            x: 0,\n            y: height / 2,\n            offsetX: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0,\n        });\n        this._batchChangeChild('.middle-right', {\n            x: width,\n            y: height / 2,\n            offsetX: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0,\n        });\n        this._batchChangeChild('.bottom-left', {\n            x: 0,\n            y: height,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0,\n        });\n        this._batchChangeChild('.bottom-center', {\n            x: width / 2,\n            y: height,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0,\n        });\n        this._batchChangeChild('.bottom-right', {\n            x: width,\n            y: height,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0,\n        });\n        this._batchChangeChild('.rotater', {\n            x: width / 2,\n            y: -this.rotateAnchorOffset() * Util_1.Util._sign(height) - padding,\n            visible: this.rotateEnabled(),\n        });\n        this._batchChangeChild('.back', {\n            width: width,\n            height: height,\n            visible: this.borderEnabled(),\n            stroke: this.borderStroke(),\n            strokeWidth: this.borderStrokeWidth(),\n            dash: this.borderDash(),\n            x: 0,\n            y: 0,\n        });\n        (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n    };\n    Transformer.prototype.isTransforming = function () {\n        return this._transforming;\n    };\n    Transformer.prototype.stopTransform = function () {\n        if (this._transforming) {\n            this._removeEvents();\n            var anchorNode = this.findOne('.' + this._movingAnchorName);\n            if (anchorNode) {\n                anchorNode.stopDrag();\n            }\n        }\n    };\n    Transformer.prototype.destroy = function () {\n        if (this.getStage() && this._cursorChange) {\n            this.getStage().content.style.cursor = '';\n        }\n        Group_1.Group.prototype.destroy.call(this);\n        this.detach();\n        this._removeEvents();\n        return this;\n    };\n    Transformer.prototype.toObject = function () {\n        return Node_1.Node.prototype.toObject.call(this);\n    };\n    return Transformer;\n}(Group_1.Group));\nexports.Transformer = Transformer;\nfunction validateAnchors(val) {\n    if (!(val instanceof Array)) {\n        Util_1.Util.warn('enabledAnchors value should be an array');\n    }\n    if (val instanceof Array) {\n        val.forEach(function (name) {\n            if (ANCHORS_NAMES.indexOf(name) === -1) {\n                Util_1.Util.warn('Unknown anchor name: ' +\n                    name +\n                    '. Available names are: ' +\n                    ANCHORS_NAMES.join(', '));\n            }\n        });\n    }\n    return val || [];\n}\nTransformer.prototype.className = 'Transformer';\nGlobal_2._registerNode(Transformer);\nFactory_1.Factory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory_1.Factory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorSize', 10, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory_1.Factory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory_1.Factory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'borderDash');\nFactory_1.Factory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory_1.Factory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory_1.Factory.addGetterSetter(Transformer, 'padding', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'node');\nFactory_1.Factory.addGetterSetter(Transformer, 'nodes');\nFactory_1.Factory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory_1.Factory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory_1.Factory.backCompat(Transformer, {\n    lineEnabled: 'borderEnabled',\n    rotateHandlerOffset: 'rotateAnchorOffset',\n    enabledHandlers: 'enabledAnchors',\n});\nUtil_1.Collection.mapMethods(Transformer);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Wedge = void 0;\nvar Util_1 = require(\"../Util\");\nvar Factory_1 = require(\"../Factory\");\nvar Shape_1 = require(\"../Shape\");\nvar Global_1 = require(\"../Global\");\nvar Validators_1 = require(\"../Validators\");\nvar Global_2 = require(\"../Global\");\nvar Wedge = (function (_super) {\n    __extends(Wedge, _super);\n    function Wedge() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Wedge.prototype._sceneFunc = function (context) {\n        context.beginPath();\n        context.arc(0, 0, this.radius(), 0, Global_1.Konva.getAngle(this.angle()), this.clockwise());\n        context.lineTo(0, 0);\n        context.closePath();\n        context.fillStrokeShape(this);\n    };\n    Wedge.prototype.getWidth = function () {\n        return this.radius() * 2;\n    };\n    Wedge.prototype.getHeight = function () {\n        return this.radius() * 2;\n    };\n    Wedge.prototype.setWidth = function (width) {\n        this.radius(width / 2);\n    };\n    Wedge.prototype.setHeight = function (height) {\n        this.radius(height / 2);\n    };\n    return Wedge;\n}(Shape_1.Shape));\nexports.Wedge = Wedge;\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\nGlobal_2._registerNode(Wedge);\nFactory_1.Factory.addGetterSetter(Wedge, 'radius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Wedge, 'angle', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Wedge, 'clockwise', false);\nFactory_1.Factory.backCompat(Wedge, {\n    angleDeg: 'angle',\n    getAngleDeg: 'getAngle',\n    setAngleDeg: 'setAngle'\n});\nUtil_1.Collection.mapMethods(Wedge);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Blur = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nfunction BlurStack() {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\nvar mul_table = [\n    512,\n    512,\n    456,\n    512,\n    328,\n    456,\n    335,\n    512,\n    405,\n    328,\n    271,\n    456,\n    388,\n    335,\n    292,\n    512,\n    454,\n    405,\n    364,\n    328,\n    298,\n    271,\n    496,\n    456,\n    420,\n    388,\n    360,\n    335,\n    312,\n    292,\n    273,\n    512,\n    482,\n    454,\n    428,\n    405,\n    383,\n    364,\n    345,\n    328,\n    312,\n    298,\n    284,\n    271,\n    259,\n    496,\n    475,\n    456,\n    437,\n    420,\n    404,\n    388,\n    374,\n    360,\n    347,\n    335,\n    323,\n    312,\n    302,\n    292,\n    282,\n    273,\n    265,\n    512,\n    497,\n    482,\n    468,\n    454,\n    441,\n    428,\n    417,\n    405,\n    394,\n    383,\n    373,\n    364,\n    354,\n    345,\n    337,\n    328,\n    320,\n    312,\n    305,\n    298,\n    291,\n    284,\n    278,\n    271,\n    265,\n    259,\n    507,\n    496,\n    485,\n    475,\n    465,\n    456,\n    446,\n    437,\n    428,\n    420,\n    412,\n    404,\n    396,\n    388,\n    381,\n    374,\n    367,\n    360,\n    354,\n    347,\n    341,\n    335,\n    329,\n    323,\n    318,\n    312,\n    307,\n    302,\n    297,\n    292,\n    287,\n    282,\n    278,\n    273,\n    269,\n    265,\n    261,\n    512,\n    505,\n    497,\n    489,\n    482,\n    475,\n    468,\n    461,\n    454,\n    447,\n    441,\n    435,\n    428,\n    422,\n    417,\n    411,\n    405,\n    399,\n    394,\n    389,\n    383,\n    378,\n    373,\n    368,\n    364,\n    359,\n    354,\n    350,\n    345,\n    341,\n    337,\n    332,\n    328,\n    324,\n    320,\n    316,\n    312,\n    309,\n    305,\n    301,\n    298,\n    294,\n    291,\n    287,\n    284,\n    281,\n    278,\n    274,\n    271,\n    268,\n    265,\n    262,\n    259,\n    257,\n    507,\n    501,\n    496,\n    491,\n    485,\n    480,\n    475,\n    470,\n    465,\n    460,\n    456,\n    451,\n    446,\n    442,\n    437,\n    433,\n    428,\n    424,\n    420,\n    416,\n    412,\n    408,\n    404,\n    400,\n    396,\n    392,\n    388,\n    385,\n    381,\n    377,\n    374,\n    370,\n    367,\n    363,\n    360,\n    357,\n    354,\n    350,\n    347,\n    344,\n    341,\n    338,\n    335,\n    332,\n    329,\n    326,\n    323,\n    320,\n    318,\n    315,\n    312,\n    310,\n    307,\n    304,\n    302,\n    299,\n    297,\n    294,\n    292,\n    289,\n    287,\n    285,\n    282,\n    280,\n    278,\n    275,\n    273,\n    271,\n    269,\n    267,\n    265,\n    263,\n    261,\n    259\n];\nvar shg_table = [\n    9,\n    11,\n    12,\n    13,\n    13,\n    14,\n    14,\n    15,\n    15,\n    15,\n    15,\n    16,\n    16,\n    16,\n    16,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24\n];\nfunction filterGaussBlurRGBA(imageData, radius) {\n    var pixels = imageData.data, width = imageData.width, height = imageData.height;\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n    var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = (radiusPlus1 * (radiusPlus1 + 1)) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];\n    for (i = 1; i < div; i++) {\n        stack = stack.next = new BlurStack();\n        if (i === radiusPlus1) {\n            stackEnd = stack;\n        }\n    }\n    stack.next = stackStart;\n    yw = yi = 0;\n    for (y = 0; y < height; y++) {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        for (i = 1; i < radiusPlus1; i++) {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n        }\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++) {\n            pixels[yi + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa !== 0) {\n                pa = 255 / pa;\n                pixels[yi] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n            r_in_sum += stackIn.r = pixels[p];\n            g_in_sum += stackIn.g = pixels[p + 1];\n            b_in_sum += stackIn.b = pixels[p + 2];\n            a_in_sum += stackIn.a = pixels[p + 3];\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += 4;\n        }\n        yw += width;\n    }\n    for (x = 0; x < width; x++) {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        yp = width;\n        for (i = 1; i <= radius; i++) {\n            yi = (yp + x) << 2;\n            r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n            if (i < heightMinus1) {\n                yp += width;\n            }\n        }\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++) {\n            p = yi << 2;\n            pixels[p + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0) {\n                pa = 255 / pa;\n                pixels[p] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p =\n                (x +\n                    ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width) <<\n                    2;\n            r_sum += r_in_sum += stackIn.r = pixels[p];\n            g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n            b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n            a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += width;\n        }\n    }\n}\nvar Blur = function Blur(imageData) {\n    var radius = Math.round(this.blurRadius());\n    if (radius > 0) {\n        filterGaussBlurRGBA(imageData, radius);\n    }\n};\nexports.Blur = Blur;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'blurRadius', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Brighten = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar Brighten = function (imageData) {\n    var brightness = this.brightness() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] += brightness;\n        data[i + 1] += brightness;\n        data[i + 2] += brightness;\n    }\n};\nexports.Brighten = Brighten;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'brightness', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contrast = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar Contrast = function (imageData) {\n    var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n    var data = imageData.data, nPixels = data.length, red = 150, green = 150, blue = 150, i;\n    for (i = 0; i < nPixels; i += 4) {\n        red = data[i];\n        green = data[i + 1];\n        blue = data[i + 2];\n        red /= 255;\n        red -= 0.5;\n        red *= adjust;\n        red += 0.5;\n        red *= 255;\n        green /= 255;\n        green -= 0.5;\n        green *= adjust;\n        green += 0.5;\n        green *= 255;\n        blue /= 255;\n        blue -= 0.5;\n        blue *= adjust;\n        blue += 0.5;\n        blue *= 255;\n        red = red < 0 ? 0 : red > 255 ? 255 : red;\n        green = green < 0 ? 0 : green > 255 ? 255 : green;\n        blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n        data[i] = red;\n        data[i + 1] = green;\n        data[i + 2] = blue;\n    }\n};\nexports.Contrast = Contrast;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'contrast', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emboss = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Util_1 = require(\"../Util\");\nvar Validators_1 = require(\"../Validators\");\nvar Emboss = function (imageData) {\n    var strength = this.embossStrength() * 10, greyLevel = this.embossWhiteLevel() * 255, direction = this.embossDirection(), blend = this.embossBlend(), dirY = 0, dirX = 0, data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    switch (direction) {\n        case 'top-left':\n            dirY = -1;\n            dirX = -1;\n            break;\n        case 'top':\n            dirY = -1;\n            dirX = 0;\n            break;\n        case 'top-right':\n            dirY = -1;\n            dirX = 1;\n            break;\n        case 'right':\n            dirY = 0;\n            dirX = 1;\n            break;\n        case 'bottom-right':\n            dirY = 1;\n            dirX = 1;\n            break;\n        case 'bottom':\n            dirY = 1;\n            dirX = 0;\n            break;\n        case 'bottom-left':\n            dirY = 1;\n            dirX = -1;\n            break;\n        case 'left':\n            dirY = 0;\n            dirX = -1;\n            break;\n        default:\n            Util_1.Util.error('Unknown emboss direction: ' + direction);\n    }\n    do {\n        var offsetY = (y - 1) * w4;\n        var otherY = dirY;\n        if (y + otherY < 1) {\n            otherY = 0;\n        }\n        if (y + otherY > h) {\n            otherY = 0;\n        }\n        var offsetYOther = (y - 1 + otherY) * w * 4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var otherX = dirX;\n            if (x + otherX < 1) {\n                otherX = 0;\n            }\n            if (x + otherX > w) {\n                otherX = 0;\n            }\n            var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n            var dR = data[offset] - data[offsetOther];\n            var dG = data[offset + 1] - data[offsetOther + 1];\n            var dB = data[offset + 2] - data[offsetOther + 2];\n            var dif = dR;\n            var absDif = dif > 0 ? dif : -dif;\n            var absG = dG > 0 ? dG : -dG;\n            var absB = dB > 0 ? dB : -dB;\n            if (absG > absDif) {\n                dif = dG;\n            }\n            if (absB > absDif) {\n                dif = dB;\n            }\n            dif *= strength;\n            if (blend) {\n                var r = data[offset] + dif;\n                var g = data[offset + 1] + dif;\n                var b = data[offset + 2] + dif;\n                data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n                data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n                data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n            }\n            else {\n                var grey = greyLevel - dif;\n                if (grey < 0) {\n                    grey = 0;\n                }\n                else if (grey > 255) {\n                    grey = 255;\n                }\n                data[offset] = data[offset + 1] = data[offset + 2] = grey;\n            }\n        } while (--x);\n    } while (--y);\n};\nexports.Emboss = Emboss;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossStrength', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossWhiteLevel', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossDirection', 'top-left', null, Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossBlend', false, null, Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Enhance = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n    var fromRange = fromMax - fromMin, toRange = toMax - toMin, toValue;\n    if (fromRange === 0) {\n        return toMin + toRange / 2;\n    }\n    if (toRange === 0) {\n        return toMin;\n    }\n    toValue = (fromValue - fromMin) / fromRange;\n    toValue = toRange * toValue + toMin;\n    return toValue;\n}\nvar Enhance = function (imageData) {\n    var data = imageData.data, nSubPixels = data.length, rMin = data[0], rMax = rMin, r, gMin = data[1], gMax = gMin, g, bMin = data[2], bMax = bMin, b, i;\n    var enhanceAmount = this.enhance();\n    if (enhanceAmount === 0) {\n        return;\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        r = data[i + 0];\n        if (r < rMin) {\n            rMin = r;\n        }\n        else if (r > rMax) {\n            rMax = r;\n        }\n        g = data[i + 1];\n        if (g < gMin) {\n            gMin = g;\n        }\n        else if (g > gMax) {\n            gMax = g;\n        }\n        b = data[i + 2];\n        if (b < bMin) {\n            bMin = b;\n        }\n        else if (b > bMax) {\n            bMax = b;\n        }\n    }\n    if (rMax === rMin) {\n        rMax = 255;\n        rMin = 0;\n    }\n    if (gMax === gMin) {\n        gMax = 255;\n        gMin = 0;\n    }\n    if (bMax === bMin) {\n        bMax = 255;\n        bMin = 0;\n    }\n    var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n    if (enhanceAmount > 0) {\n        rGoalMax = rMax + enhanceAmount * (255 - rMax);\n        rGoalMin = rMin - enhanceAmount * (rMin - 0);\n        gGoalMax = gMax + enhanceAmount * (255 - gMax);\n        gGoalMin = gMin - enhanceAmount * (gMin - 0);\n        bGoalMax = bMax + enhanceAmount * (255 - bMax);\n        bGoalMin = bMin - enhanceAmount * (bMin - 0);\n    }\n    else {\n        rMid = (rMax + rMin) * 0.5;\n        rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n        rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n        gMid = (gMax + gMin) * 0.5;\n        gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n        gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n        bMid = (bMax + bMin) * 0.5;\n        bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n        bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n        data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n        data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n    }\n};\nexports.Enhance = Enhance;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'enhance', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Grayscale = void 0;\nvar Grayscale = function (imageData) {\n    var data = imageData.data, len = data.length, i, brightness;\n    for (i = 0; i < len; i += 4) {\n        brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n        data[i] = brightness;\n        data[i + 1] = brightness;\n        data[i + 2] = brightness;\n    }\n};\nexports.Grayscale = Grayscale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HSL = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'hue', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'saturation', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'luminance', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nvar HSL = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = 1, s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, l = this.luminance() * 127, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b + l;\n        data[i + 1] = gr * r + gg * g + gb * b + l;\n        data[i + 2] = br * r + bg * g + bb * b + l;\n        data[i + 3] = a;\n    }\n};\nexports.HSL = HSL;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HSV = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar HSV = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = Math.pow(2, this.value()), s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b;\n        data[i + 1] = gr * r + gg * g + gb * b;\n        data[i + 2] = br * r + bg * g + bb * b;\n        data[i + 3] = a;\n    }\n};\nexports.HSV = HSV;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'hue', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'saturation', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'value', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Invert = void 0;\nvar Invert = function (imageData) {\n    var data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] = 255 - data[i];\n        data[i + 1] = 255 - data[i + 1];\n        data[i + 2] = 255 - data[i + 2];\n    }\n};\nexports.Invert = Invert;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Kaleidoscope = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Util_1 = require(\"../Util\");\nvar Validators_1 = require(\"../Validators\");\nvar ToPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta;\n    var conversion = ((360 / tSize) * Math.PI) / 180, sin, cos;\n    for (theta = 0; theta < tSize; theta += 1) {\n        sin = Math.sin(theta * conversion);\n        cos = Math.cos(theta * conversion);\n        for (radius = 0; radius < rSize; radius += 1) {\n            x = Math.floor(xMid + ((rMax * radius) / rSize) * cos);\n            y = Math.floor(yMid + ((rMax * radius) / rSize) * sin);\n            i = (y * xSize + x) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (theta + radius * xSize) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nvar FromPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, dx, dy, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta, phaseShift = opt.polarRotation || 0;\n    var x1, y1;\n    for (x = 0; x < xSize; x += 1) {\n        for (y = 0; y < ySize; y += 1) {\n            dx = x - xMid;\n            dy = y - yMid;\n            radius = (Math.sqrt(dx * dx + dy * dy) * rSize) / rMax;\n            theta = ((Math.atan2(dy, dx) * 180) / Math.PI + 360 + phaseShift) % 360;\n            theta = (theta * tSize) / 360;\n            x1 = Math.floor(theta);\n            y1 = Math.floor(radius);\n            i = (y1 * xSize + x1) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (y * xSize + x) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nvar Kaleidoscope = function (imageData) {\n    var xSize = imageData.width, ySize = imageData.height;\n    var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n    var power = Math.round(this.kaleidoscopePower());\n    var angle = Math.round(this.kaleidoscopeAngle());\n    var offset = Math.floor((xSize * (angle % 360)) / 360);\n    if (power < 1) {\n        return;\n    }\n    var tempCanvas = Util_1.Util.createCanvasElement();\n    tempCanvas.width = xSize;\n    tempCanvas.height = ySize;\n    var scratchData = tempCanvas\n        .getContext('2d')\n        .getImageData(0, 0, xSize, ySize);\n    ToPolar(imageData, scratchData, {\n        polarCenterX: xSize / 2,\n        polarCenterY: ySize / 2\n    });\n    var minSectionSize = xSize / Math.pow(2, power);\n    while (minSectionSize <= 8) {\n        minSectionSize = minSectionSize * 2;\n        power -= 1;\n    }\n    minSectionSize = Math.ceil(minSectionSize);\n    var sectionSize = minSectionSize;\n    var xStart = 0, xEnd = sectionSize, xDelta = 1;\n    if (offset + minSectionSize > xSize) {\n        xStart = sectionSize;\n        xEnd = 0;\n        xDelta = -1;\n    }\n    for (y = 0; y < ySize; y += 1) {\n        for (x = xStart; x !== xEnd; x += xDelta) {\n            xoff = Math.round(x + offset) % xSize;\n            srcPos = (xSize * y + xoff) * 4;\n            r = scratchData.data[srcPos + 0];\n            g = scratchData.data[srcPos + 1];\n            b = scratchData.data[srcPos + 2];\n            a = scratchData.data[srcPos + 3];\n            dstPos = (xSize * y + x) * 4;\n            scratchData.data[dstPos + 0] = r;\n            scratchData.data[dstPos + 1] = g;\n            scratchData.data[dstPos + 2] = b;\n            scratchData.data[dstPos + 3] = a;\n        }\n    }\n    for (y = 0; y < ySize; y += 1) {\n        sectionSize = Math.floor(minSectionSize);\n        for (i = 0; i < power; i += 1) {\n            for (x = 0; x < sectionSize + 1; x += 1) {\n                srcPos = (xSize * y + x) * 4;\n                r = scratchData.data[srcPos + 0];\n                g = scratchData.data[srcPos + 1];\n                b = scratchData.data[srcPos + 2];\n                a = scratchData.data[srcPos + 3];\n                dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n                scratchData.data[dstPos + 0] = r;\n                scratchData.data[dstPos + 1] = g;\n                scratchData.data[dstPos + 2] = b;\n                scratchData.data[dstPos + 3] = a;\n            }\n            sectionSize *= 2;\n        }\n    }\n    FromPolar(scratchData, imageData, { polarRotation: 0 });\n};\nexports.Kaleidoscope = Kaleidoscope;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'kaleidoscopePower', 2, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'kaleidoscopeAngle', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mask = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nfunction pixelAt(idata, x, y) {\n    var idx = (y * idata.width + x) * 4;\n    var d = [];\n    d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n    return d;\n}\nfunction rgbDistance(p1, p2) {\n    return Math.sqrt(Math.pow(p1[0] - p2[0], 2) +\n        Math.pow(p1[1] - p2[1], 2) +\n        Math.pow(p1[2] - p2[2], 2));\n}\nfunction rgbMean(pTab) {\n    var m = [0, 0, 0];\n    for (var i = 0; i < pTab.length; i++) {\n        m[0] += pTab[i][0];\n        m[1] += pTab[i][1];\n        m[2] += pTab[i][2];\n    }\n    m[0] /= pTab.length;\n    m[1] /= pTab.length;\n    m[2] /= pTab.length;\n    return m;\n}\nfunction backgroundMask(idata, threshold) {\n    var rgbv_no = pixelAt(idata, 0, 0);\n    var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n    var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n    var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n    var thres = threshold || 10;\n    if (rgbDistance(rgbv_no, rgbv_ne) < thres &&\n        rgbDistance(rgbv_ne, rgbv_se) < thres &&\n        rgbDistance(rgbv_se, rgbv_so) < thres &&\n        rgbDistance(rgbv_so, rgbv_no) < thres) {\n        var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n        var mask = [];\n        for (var i = 0; i < idata.width * idata.height; i++) {\n            var d = rgbDistance(mean, [\n                idata.data[i * 4],\n                idata.data[i * 4 + 1],\n                idata.data[i * 4 + 2]\n            ]);\n            mask[i] = d < thres ? 0 : 255;\n        }\n        return mask;\n    }\n}\nfunction applyMask(idata, mask) {\n    for (var i = 0; i < idata.width * idata.height; i++) {\n        idata.data[4 * i + 3] = mask[i];\n    }\n}\nfunction erodeMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a === 255 * 8 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction dilateMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a >= 255 * 4 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction smoothEdgeMask(mask, sw, sh) {\n    var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a;\n        }\n    }\n    return maskResult;\n}\nvar Mask = function (imageData) {\n    var threshold = this.threshold(), mask = backgroundMask(imageData, threshold);\n    if (mask) {\n        mask = erodeMask(mask, imageData.width, imageData.height);\n        mask = dilateMask(mask, imageData.width, imageData.height);\n        mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n        applyMask(imageData, mask);\n    }\n    return imageData;\n};\nexports.Mask = Mask;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'threshold', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Noise = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar Noise = function (imageData) {\n    var amount = this.noise() * 255, data = imageData.data, nPixels = data.length, half = amount / 2, i;\n    for (i = 0; i < nPixels; i += 4) {\n        data[i + 0] += half - 2 * half * Math.random();\n        data[i + 1] += half - 2 * half * Math.random();\n        data[i + 2] += half - 2 * half * Math.random();\n    }\n};\nexports.Noise = Noise;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'noise', 0.2, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pixelate = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Util_1 = require(\"../Util\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar Pixelate = function (imageData) {\n    var pixelSize = Math.ceil(this.pixelSize()), width = imageData.width, height = imageData.height, x, y, i, red, green, blue, alpha, nBinsX = Math.ceil(width / pixelSize), nBinsY = Math.ceil(height / pixelSize), xBinStart, xBinEnd, yBinStart, yBinEnd, xBin, yBin, pixelsInBin, data = imageData.data;\n    if (pixelSize <= 0) {\n        Util_1.Util.error('pixelSize value can not be <= 0');\n        return;\n    }\n    for (xBin = 0; xBin < nBinsX; xBin += 1) {\n        for (yBin = 0; yBin < nBinsY; yBin += 1) {\n            red = 0;\n            green = 0;\n            blue = 0;\n            alpha = 0;\n            xBinStart = xBin * pixelSize;\n            xBinEnd = xBinStart + pixelSize;\n            yBinStart = yBin * pixelSize;\n            yBinEnd = yBinStart + pixelSize;\n            pixelsInBin = 0;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    red += data[i + 0];\n                    green += data[i + 1];\n                    blue += data[i + 2];\n                    alpha += data[i + 3];\n                    pixelsInBin += 1;\n                }\n            }\n            red = red / pixelsInBin;\n            green = green / pixelsInBin;\n            blue = blue / pixelsInBin;\n            alpha = alpha / pixelsInBin;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    data[i + 0] = red;\n                    data[i + 1] = green;\n                    data[i + 2] = blue;\n                    data[i + 3] = alpha;\n                }\n            }\n        }\n    }\n};\nexports.Pixelate = Pixelate;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'pixelSize', 8, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Posterize = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar Posterize = function (imageData) {\n    var levels = Math.round(this.levels() * 254) + 1, data = imageData.data, len = data.length, scale = 255 / levels, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = Math.floor(data[i] / scale) * scale;\n    }\n};\nexports.Posterize = Posterize;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'levels', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RGB = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar RGB = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;\n    for (i = 0; i < nPixels; i += 4) {\n        brightness =\n            (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n        data[i] = brightness * red;\n        data[i + 1] = brightness * green;\n        data[i + 2] = brightness * blue;\n        data[i + 3] = data[i + 3];\n    }\n};\nexports.RGB = RGB;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'blue', 0, Validators_1.RGBComponent, Factory_1.Factory.afterSetFilter);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RGBA = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar RGBA = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), alpha = this.alpha(), i, ia;\n    for (i = 0; i < nPixels; i += 4) {\n        ia = 1 - alpha;\n        data[i] = red * alpha + data[i] * ia;\n        data[i + 1] = green * alpha + data[i + 1] * ia;\n        data[i + 2] = blue * alpha + data[i + 2] * ia;\n    }\n};\nexports.RGBA = RGBA;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'blue', 0, Validators_1.RGBComponent, Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'alpha', 1, function (val) {\n    this._filterUpToDate = false;\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return val;\n    }\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sepia = void 0;\nvar Sepia = function (imageData) {\n    var data = imageData.data, nPixels = data.length, i, r, g, b;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n        data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n        data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n    }\n};\nexports.Sepia = Sepia;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Solarize = void 0;\nvar Solarize = function (imageData) {\n    var data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    do {\n        var offsetY = (y - 1) * w4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var r = data[offset];\n            var g = data[offset + 1];\n            var b = data[offset + 2];\n            if (r > 127) {\n                r = 255 - r;\n            }\n            if (g > 127) {\n                g = 255 - g;\n            }\n            if (b > 127) {\n                b = 255 - b;\n            }\n            data[offset] = r;\n            data[offset + 1] = g;\n            data[offset + 2] = b;\n        } while (--x);\n    } while (--y);\n};\nexports.Solarize = Solarize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Threshold = void 0;\nvar Factory_1 = require(\"../Factory\");\nvar Node_1 = require(\"../Node\");\nvar Validators_1 = require(\"../Validators\");\nvar Threshold = function (imageData) {\n    var level = this.threshold() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = data[i] < level ? 0 : 255;\n    }\n};\nexports.Threshold = Threshold;\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'threshold', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n","var Konva = require('./_FullInternals').Konva;\nKonva._injectGlobal(Konva);\nexports['default'] = Konva;\nmodule.exports = exports['default'];\n","import Konva from 'konva';\n\nexport const clamp = (val: number, min: number, max: number): number => Math.max(Math.min(val, max), min);\n\nexport const cleanInput = (msg: string): string => {\n  return msg.replace(/\\s+/g, '');\n}\n\nexport const centerShapeHorizontal = (text: Konva.Shape): Konva.Shape => {\n  const offset = text.width()/2 * text.scaleX();\n  switch (text.rotation()) {\n    case 0:\n      text.x(text.x() - offset/2);\n      break;\n    case 270:\n      text.y(text.y() + offset/2);\n      break;\n    case 90:\n      text.y(text.y() - offset/2);\n      break;\n    default:\n      console.error('invalid rotation to center');\n  }\n  return text;\n}\n","import {Index} from \"./types\";\nimport {mod, rep, rotate} from '../utils';\nimport {Deque} from \"../deque\";\n\nexport enum TileType {\n  DOTS = 0,\n  BAMBOO = 9,\n  CHARACTERS = 18,\n  WINDS = 27,\n  DRAGONS = 31,\n  FLOWERS = 34,\n  SEASONS = 38,\n}\n\nexport enum TileGroup {\n  SIMPLES = TileType.DOTS,\n  HONORS = TileType.WINDS,\n  BONUS = TileType.FLOWERS,\n}\n\nexport class Tiles {\n  public static readonly NUM_TILES = 42;\n  public static readonly BACK = -1;\n  public static typeSize(type: TileType): number {\n    switch(type) {\n      case TileType.DOTS:\n      case TileType.BAMBOO:\n      case TileType.CHARACTERS:\n        return 9;\n      case TileType.WINDS:\n        return 4;\n      case TileType.DRAGONS:\n        return 3;\n      case TileType.FLOWERS:\n      case TileType.SEASONS:\n        return 4;\n    }\n  }\n  public static getType(tile: Index): TileType {\n    const value = Tiles.getValue(tile);\n    if (value >= TileType.SEASONS) {\n      return TileType.SEASONS;\n    } else if (value >= TileType.FLOWERS) {\n      return TileType.FLOWERS;\n    } else if (value >= TileType.DRAGONS) {\n      return TileType.DRAGONS\n    } else if (value >= TileType.WINDS) {\n      return TileType.WINDS;\n    } else if (value >= TileType.CHARACTERS) {\n      return TileType.CHARACTERS;\n    } else if (value >= TileType.BAMBOO) {\n      return TileType.BAMBOO;\n    } else {\n      return TileType.DOTS;\n    }\n  };\n  public static getGroup(tile: Index): TileGroup {\n    const value = Tiles.getValue(tile);\n    if (value >= TileGroup.BONUS) {\n      return TileGroup.BONUS;\n    } else if (value >= TileGroup.HONORS) {\n      return TileGroup.HONORS;\n    } else {\n      return TileGroup.SIMPLES;\n    }\n  }\n  public static getValue(tile: Index) {\n    return tile % Tiles.NUM_TILES;\n  }\n  public static sanitize(tiles: Index[]): Index[] {\n    const have = new Set<Index>();\n    for (let i = 0; i < tiles.length; ++i) {\n      while (have.has(tiles[i])) {\n        tiles[i] += Tiles.NUM_TILES;\n      }\n      have.add(tiles[i]);\n    }\n    return tiles;\n  }\n  public static generate(exclude: TileType[] = [], include: TileType[] = []): Index[] {\n    const tiles: Index[] = Array(Tiles.NUM_TILES*4);\n    rep(tiles.length, (i) => {\n      tiles[i] = i;\n    });\n    if (exclude.length > 0) {\n      return tiles.filter((tile) => {\n        return !exclude.includes(Tiles.getType(tile));\n      });\n    } else if (include.length > 0) {\n      return tiles.filter((tile) => {\n        return include.includes(Tiles.getType(tile));\n      });\n    }\n    return tiles;\n  }\n}\n\nexport const calculateWildcard = (tile: Index): Index => {\n  const value = Tiles.getValue(tile);\n  let type = Tiles.getType(tile);\n  let size = Tiles.typeSize(type);\n  if (type === TileType.DRAGONS) {\n    type = TileType.WINDS;\n    size = 7;\n  }\n  const index = value - type;\n  const nIndex = (index + 1) % size;\n  return type + nIndex;\n}\n","import * as WebSocket from 'ws';\nimport {ServerMessage, TilesSetData} from './events';\nimport {Index} from './shared/types';\nimport {Meld} from './Meld';\nimport {Tiles} from './shared/Tiles';\n\n// See: https://stackoverflow.com/a/12646864\nexport const shuffle = (array: any[]) => {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n};\n\n/**\n * Returns mod in range [0, m)\n * @param v\n * @param m\n */\nexport const mod = (v: Index, m: number): Index => {\n  return ((v % m) + m) % m;\n};\n\nexport const noop = () => {\n};\n\nexport const identity = <T>(val: T): T => val;\n\nexport const send = (ws: WebSocket, data: ServerMessage) => {\n  if (ws.readyState === WebSocket.OPEN) {\n    ws.send(JSON.stringify(data));\n  }\n};\n\nexport const broadcast = (wss: WebSocket.Server, data: ServerMessage) => {\n  wss.clients.forEach((ws) => send(ws, data));\n};\n\nexport const rotate = <T>(player: Index, array: T[]): T[] => {\n  return [...array.slice(player), ...array.slice(0, player)];\n};\n\nexport const rep = (n: Index, f: (i: Index) => any) => {\n  for (let i = 0; i < n; ++i) {\n    f(i);\n  }\n};\n\nexport const maskTilesSetData = (player: Index, tilesSetData: TilesSetData): TilesSetData => {\n  const rot = rotate(player, tilesSetData);\n  for (let i = 1; i < rot.length; ++i) {\n    const e = rot[i];\n    if (Array.isArray(e)) {\n      rot[i] = e.length;\n    }\n  }\n  return rot;\n};\n\nconst flatten = <T>(array: T[][]): T[] => {\n  return array.reduce((acc, val) => acc.concat(val), []);\n};\n\nexport const unique = <T>(array: T[]): T[] => {\n  return Array.from(new Set(array));\n};\n\nexport const meldTilesSetData = (player: Index, melds: Meld[][], showAll: boolean): TilesSetData => {\n  const rot = rotate(player, melds);\n  return rot.map((melds: Meld[], index) => {\n    const mapped = melds.map((meld) => meld.toTiles(showAll || index === 0));\n    return flatten(mapped);\n  });\n};\n","import Konva from 'konva';\nimport {clamp} from './utils';\nimport {TileImages} from './TileImages';\nimport {Tiles} from '../server/src/shared/Tiles';\n\nconst HAND_TILE_SPACING = 110;\nconst HOVER_OFFSET = 5;\nconst SELECTED_OFFSET = 20;\n\nconst ATTR_INDEX = 'MY_ATTR_INDEX';\nconst ATTR_TILE = 'MY_ATTR_TILE';\nconst ATTR_SELECTED = 'MY_ATTR_SELECTED';\n\ntype Index = any;\n\nexport type TilesConfigParameter = {\n  x?: number;\n  y?: number;\n  scaleX?: number;\n  scaleY?: number;\n  rotation?: number;\n  draggable?: boolean;\n  selectable?: boolean;\n};\n\nexport type TilesConfig = {\n  x: number;\n  y: number;\n  scaleX: number;\n  scaleY: number;\n  rotation: number;\n  draggable: boolean;\n  selectable: boolean;\n};\n\n/**\n * Assign default values if needed\n * @param params\n */\nconst paramToConfig = (params: TilesConfigParameter): TilesConfig => {\n  return {\n    x: params.x ?? 0,\n    y: params.y ?? 0,\n    scaleX: params.scaleX ?? 1,\n    scaleY: params.scaleY ?? 1,\n    rotation: params.rotation ?? 0,\n    draggable: params.draggable ?? false,\n    selectable: params.selectable ?? false,\n  };\n};\n\n/**\n * Renders a number of hidden tiles\n */\nexport class TilesUI {\n  private readonly config: TilesConfig;\n  private readonly layer: Konva.Layer;\n  private readonly group: Konva.Group;\n  public readonly tileImages: TileImages;\n\n  public constructor(layer: Konva.Layer, config: TilesConfigParameter, tileImages: TileImages) {\n    this.config = paramToConfig(config);\n    this.layer = layer;\n    const {draggable, selectable, ...rest} = this.config;\n    this.group = new Konva.Group(rest);\n    this.tileImages = tileImages;\n    this.layer.add(this.group);\n    if (draggable) {\n      this.initDragEvents();\n    }\n    if (selectable) {\n      this.initSelectEvents();\n    }\n    if (selectable || draggable) {\n      this.initHoverEvents();\n    }\n  }\n\n  public setTiles(tiles: number | Index[], exact: boolean = false) {\n    if (typeof tiles === 'number') {\n      this.group.destroyChildren();\n      tiles = Array(tiles).fill(Tiles.BACK);\n    } else {\n      if (exact) {\n        this.group.destroyChildren();\n      } else {\n        const tileSet = new Set(tiles);\n        const remIndices: Index = [];\n        this.group.children.each((child) => {\n          // @ts-ignore\n          const tile: Index = child.getAttr(ATTR_TILE);\n          if (!tileSet.has(tile)) {\n            remIndices.push(child.getAttr(ATTR_INDEX));\n          }\n          tileSet.delete(tile);\n        });\n        this.removeTiles(remIndices);\n        tiles = Array.from(tileSet);\n      }\n    }\n    tiles.forEach((tile) => {\n      this.addTile(tile, false);\n    });\n    this.layer.draw();\n  }\n\n  public addTile(tile: Index, redraw: boolean = true) {\n    const i = this.getCount();\n    const shape = new Konva.Image({\n      x: i * HAND_TILE_SPACING,\n      y: 0,\n      draggable: this.config.draggable,\n      dragDistance: 5,\n      image: this.tileImages.get(tile),\n    });\n    this.group.add(shape);\n    shape.setAttrs({\n      [ATTR_INDEX]: i,\n      [ATTR_TILE]: tile,\n      [ATTR_SELECTED]: false,\n    });\n    if (redraw) {\n      this.layer.draw();\n    }\n  }\n\n  private removeTiles(indices: Index[]) {\n    // remove using index\n    indices.sort((a, b) => b - a);\n    for (const i of indices) {\n      const rem: Array<Konva.Group | Konva.Shape> = [];\n      this.group.children.each((child) => {\n        const tIdx = child.getAttr(ATTR_INDEX);\n        if (tIdx == i) {\n          rem.push(child);\n        } else if (tIdx > i) {\n          this.moveHandTile(child, tIdx - 1);\n        }\n      });\n      rem.forEach((child) => child.destroy());\n    }\n    this.layer.draw();\n  }\n\n  public getSelected(): Index[] {\n    const ret: Index[] = [];\n    this.group.children.each((child) => {\n      if (child.getAttr(ATTR_SELECTED) === true) {\n        ret.push(child.getAttr(ATTR_TILE));\n      }\n    });\n    return ret;\n  }\n\n  private initHoverEvents() {\n    this.group.on('mouseover', ({target}) => {\n      document.body.style.cursor = 'pointer';\n      target.offsetY(target.offsetY() + HOVER_OFFSET);\n      this.layer.draw();\n    });\n    this.group.on('mouseout', ({target}) => {\n      document.body.style.cursor = 'default';\n      target.offsetY(target.offsetY() - HOVER_OFFSET);\n      this.layer.draw();\n    });\n  }\n\n  private initDragEvents() {\n    this.group.on('dragstart', ({target}) => {\n      target.moveToTop();\n    });\n    this.group.on('dragmove', ({target}) => {\n      const dIndex = target.getAttr(ATTR_INDEX);\n      const pos = this.dragBoundFunc(target.position());\n      target.position(pos);\n      const nIndex = this.posToIndex(pos.x);\n      if (nIndex !== dIndex) {\n        target.setAttr(ATTR_INDEX, nIndex);\n        this.group.children.each((child) => {\n          if (child == target) return;\n          const cIndex = child.getAttr(ATTR_INDEX);\n          if (cIndex === nIndex) {\n            this.moveHandTile(child, dIndex);\n          }\n        });\n      }\n    });\n    this.group.on('dragend', ({target}) => {\n      const nIndex = this.posToIndex(target.x());\n      // Snap back to position\n      this.moveHandTile(target, nIndex, true);\n    });\n  }\n\n  private initSelectEvents() {\n    this.group.on('click', ({target}) => {\n      if (target.getAttr(ATTR_SELECTED)) {\n        target.setAttr(ATTR_SELECTED, false);\n        target.offsetY(target.offsetY() - SELECTED_OFFSET);\n      } else {\n        target.setAttr(ATTR_SELECTED, true);\n        target.offsetY(target.offsetY() + SELECTED_OFFSET);\n      }\n      this.layer.draw();\n    });\n  }\n\n  private getCount() {\n    return this.group.children.length;\n  }\n\n  // Drag helpers\n  private dragBoundFunc(pos: Konva.Vector2d): Konva.Vector2d {\n    const minX = 0;\n    const maxX = Math.max(minX, HAND_TILE_SPACING * (this.getCount() - 1));\n    return {\n      x: clamp(pos.x, minX, maxX),\n      y: 0,\n    };\n  }\n\n  private posToIndex(xPos: number): Index {\n    return Math.round(xPos / HAND_TILE_SPACING / this.config.scaleX);\n  }\n\n  private moveHandTile(tile: any, nIndex: any, setZ: boolean = false) {\n    tile.setAttr(ATTR_INDEX, nIndex);\n    tile.x(nIndex * HAND_TILE_SPACING);\n    if (setZ) {\n      tile.setZIndex(nIndex);\n    }\n  }\n}\n","import Konva from 'konva';\n\ntype MenuConfig = {\n  x: number;\n  y: number;\n};\n\ntype MenuButtonHandler = () => void;\n\ntype ButtonConfig = {\n  text: string;\n  color: any;\n  handler: MenuButtonHandler;\n};\n\nexport const BUTTON_WIDTH = 80;\nexport const BUTTON_HEIGHT = 80;\nexport const MESSAGE_SIZE = 24;\nconst BUTTON_BG_COLOR = 'gray';\nconst BUTTON_BG_HIGHLIGHT = 'white';\n\nconst makeButton = (config: ButtonConfig, pos: Konva.Vector2d): Konva.Label => {\n  const kLabel = new Konva.Label({\n    ...pos,\n  });\n  const kTag = new Konva.Tag({\n    fill: BUTTON_BG_COLOR,\n  });\n  const kText = new Konva.Text({\n    text: config.text,\n    fontSize: 70,\n    fill: config.color,\n    width: BUTTON_WIDTH,\n    height: BUTTON_HEIGHT,\n    align: 'center',\n    padding: 5,\n  });\n  kLabel.add(kTag).add(kText);\n  kLabel.on('mouseover', () => {\n    document.body.style.cursor = 'pointer';\n    kTag.fill(BUTTON_BG_HIGHLIGHT);\n    kLabel.draw();\n  });\n  kLabel.on('mouseout', () => {\n    document.body.style.cursor = 'default';\n    kTag.fill(BUTTON_BG_COLOR);\n    kLabel.draw();\n  });\n  kLabel.on('click', config.handler);\n  return kLabel;\n};\n\nexport class Menu {\n  private readonly layer: Konva.Layer;\n  private readonly group: Konva.Group;\n  private readonly btnGroup: Konva.Group;\n  private readonly text: Konva.Text;\n\n  constructor(layer: Konva.Layer, config: MenuConfig) {\n    this.layer = layer;\n    this.group = new Konva.Group({\n      draggable: true,\n      ...config,\n    });\n    this.btnGroup = new Konva.Group();\n    this.layer.add(this.group);\n    this.group.add(this.btnGroup);\n    this.text = new Konva.Text({\n      fontSize: MESSAGE_SIZE,\n      y: BUTTON_HEIGHT,\n    });\n    this.group.add(this.text);\n  }\n\n  public setButtons(buttons: ButtonConfig[]) {\n    this.btnGroup.destroyChildren();\n    for (let i = 0; i < buttons.length; ++i) {\n      const button = makeButton(buttons[i], {\n        x: i * BUTTON_WIDTH,\n        y: 0,\n      });\n      this.btnGroup.add(button);\n    }\n    this.layer.draw();\n  }\n\n  public showMessage(message: string) {\n    this.text.text(message);\n    this.layer.draw();\n  }\n}\n","import Konva from 'konva';\nimport {clamp} from './utils';\nimport {Index} from '../server/src/shared/types';\nimport {TileImages} from './TileImages';\n\nconst ROTATION = 15;\nconst LAST_SCALE = {x: .7, y: .7};\nconst SCALE = {x: .5, y: .5};\n\ntype DiscardConfig = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\nexport class Discard {\n  private readonly layer: Konva.Layer;\n  private readonly group: Konva.Group;\n  private readonly config: DiscardConfig;\n  private readonly images: TileImages;\n  private prevImage: Konva.Image | null;\n\n  constructor(layer: Konva.Layer, config: DiscardConfig, images: TileImages) {\n    this.layer = layer;\n    this.group = new Konva.Group(config);\n    this.config = config;\n    this.images = images;\n    this.prevImage = null;\n    this.layer.add(this.group);\n    this.layer.draw();\n  }\n\n  public clear() {\n    this.group.destroyChildren();\n    this.prevImage = null;\n    this.layer.draw();\n  }\n\n  public push(tile: Index) {\n    const image = new Konva.Image({\n      image: this.images.get(tile),\n      scale: LAST_SCALE,\n      x: this.config.width / 2,\n      y: this.config.height / 2,\n    });\n    image.on('dragstart', () => {\n      image.rotation(0);\n      image.moveToTop();\n    });\n    image.on('dragmove', () => {\n      const {x, y} = image.position();\n      image.position({\n        x: clamp(x, 0, this.config.width),\n        y: clamp(y, 0, this.config.height),\n      });\n    });\n    this.group.add(image);\n    if (this.prevImage) {\n      this.prevImage.scale(SCALE);\n      this.prevImage.x(Math.random() * this.config.width);\n      this.prevImage.y(Math.random() * this.config.height);\n      this.prevImage.rotation(Math.random() * ROTATION * 2 - ROTATION);\n      this.prevImage.draggable(true);\n    }\n    this.prevImage = image;\n    this.layer.draw();\n  }\n\n  // Removes the last discarded tile\n  public pop() {\n    if (this.prevImage !== null) {\n      this.prevImage.destroy();\n      this.prevImage = null;\n      this.layer.draw();\n    }\n  }\n}\n","\"use strict\";\n\n/* globals document:readonly */\nvar bundleURL = null;\n\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  let matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nvar resolve = require('./bundle-manifest').resolve;\n\nmodule.exports = function (fromId, toId) {\n  return relative(dirname(resolve(fromId)), resolve(toId));\n};\n\nfunction dirname(_filePath) {\n  if (_filePath === '') {\n    return '.';\n  }\n\n  var filePath = _filePath[_filePath.length - 1] === '/' ? _filePath.slice(0, _filePath.length - 1) : _filePath;\n  var slashIndex = filePath.lastIndexOf('/');\n  return slashIndex === -1 ? '.' : filePath.slice(0, slashIndex);\n}\n\nfunction relative(from, to) {\n  if (from === to) {\n    return '';\n  }\n\n  var fromParts = from.split('/');\n\n  if (fromParts[0] === '.') {\n    fromParts.shift();\n  }\n\n  var toParts = to.split('/');\n\n  if (toParts[0] === '.') {\n    toParts.shift();\n  } // Find where path segments diverge.\n\n\n  var i;\n  var divergeIndex;\n\n  for (i = 0; (i < toParts.length || i < fromParts.length) && divergeIndex == null; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      divergeIndex = i;\n    }\n  } // If there are segments from \"from\" beyond the point of divergence,\n  // return back up the path to that point using \"..\".\n\n\n  var parts = [];\n\n  for (i = 0; i < fromParts.length - divergeIndex; i++) {\n    parts.push('..');\n  } // If there are segments from \"to\" beyond the point of divergence,\n  // continue using the remaining segments.\n\n\n  if (toParts.length > divergeIndex) {\n    parts.push.apply(parts, toParts.slice(divergeIndex));\n  }\n\n  return parts.join('/');\n}\n\nmodule.exports._dirname = dirname;\nmodule.exports._relative = relative;","import {Index} from '../server/src/shared/types';\nimport {Tiles} from '../server/src/shared/Tiles';\n\nconst URLS = [\n  // Dots\n  'https://upload.wikimedia.org/wikipedia/commons/b/b3/MJt1-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/a/a4/MJt2-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/4/44/MJt3-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/6/66/MJt4-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/7/72/MJt5-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/8/86/MJt6-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/6/6c/MJt7-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/6/66/MJt8-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/f/f5/MJt9-.svg',\n  // Bamboo\n  'https://upload.wikimedia.org/wikipedia/commons/e/e8/MJs1-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/9/97/MJs2-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/1/1f/MJs3-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/b/b1/MJs4-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/6/61/MJs5-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/6/63/MJs6-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/8/8a/MJs7-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/b/be/MJs8-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/f/f3/MJs9-.svg',\n  // Characters\n  'https://upload.wikimedia.org/wikipedia/commons/3/32/MJw1-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/7/70/MJw2-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/d/d0/MJw3-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/6/6b/MJw4-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/4/4b/MJw5-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/4/4c/MJw6-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/c/c0/MJw7-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/d/d3/MJw8-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/a/a9/MJw9-.svg',\n  // Winds+Dragons\n  'https://upload.wikimedia.org/wikipedia/commons/9/90/MJf1-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/b/bb/MJf2-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/5/54/MJf3-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/d/df/MJf4-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/2/20/MJd1-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/8/8c/MJd2-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/5/52/MJd3-.svg',\n  // Seasons+Flowers\n  'https://upload.wikimedia.org/wikipedia/commons/1/14/MJh1-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/e/e0/MJh2-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/2/25/MJh3-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/b/b7/MJh4-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/8/8b/MJh5-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/b/b3/MJh6-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/b/b6/MJh7-.svg',\n  'https://upload.wikimedia.org/wikipedia/commons/9/9c/MJh8-.svg',\n  require('url:../img/tile-back.svg'),\n];\n\n\nexport class TileImages {\n  private readonly images: HTMLImageElement[];\n\n  private constructor(images: HTMLImageElement[]) {\n    this.images = images;\n  }\n\n  public get(tile: Index) {\n    if (tile === Tiles.BACK) {\n      return this.images[42];\n    }\n    return this.images[Tiles.getValue(tile)];\n  }\n\n  static load(): Promise<TileImages> {\n    return Promise.all<HTMLImageElement>(URLS.map((url) => new Promise((resolve) => {\n      const imageObj = new Image();\n      imageObj.onload = () => resolve(imageObj);\n      imageObj.src = url;\n    }))).then((images) => {\n      return new TileImages(images);\n    });\n  }\n}\n","import Konva from 'konva';\nimport {TileImages} from './TileImages';\nimport {Index} from '../server/src/shared/types';\nimport {centerShapeHorizontal} from './utils';\n\nconst FONT_SIZE = 20;\n\ntype WildcardConfig = {\n  x: number,\n  y: number,\n  imageScale: number,\n}\n\nexport default class Wildcard {\n  private readonly layer: Konva.Layer;\n  private readonly group: Konva.Group;\n  private readonly images: TileImages;\n  private readonly imageScale: number;\n  constructor(layer: Konva.Layer, {x, y, imageScale}: WildcardConfig, images: TileImages) {\n    this.layer = layer;\n    this.group = new Konva.Group({\n      x,\n      y,\n    });\n    this.imageScale = imageScale;\n    this.images = images;\n    this.layer.add(this.group);\n  }\n  public set(tile: Index | null) {\n    this.group.destroyChildren();\n    if (tile !== null) {\n      this.group.add(centerShapeHorizontal(new Konva.Text({\n        fontSize: FONT_SIZE,\n        text: 'Wildcard',\n      })));\n      this.group.add(centerShapeHorizontal(new Konva.Image({\n        y: FONT_SIZE,\n        scaleX: this.imageScale,\n        scaleY: this.imageScale,\n        image: this.images.get(tile),\n      })));\n    }\n    this.layer.draw();\n  }\n}","/**\n * Tile image files\n * Source: https://en.wikipedia.org/wiki/Mahjong_tiles#Contents\n */\nimport Konva from 'konva';\nimport {TilesUI} from './TilesUI';\nimport {Menu, MESSAGE_SIZE} from './menu';\nimport {Discard} from './Discard';\nimport {TileImages} from './TileImages';\nimport Wildcard from './Wildcard';\nimport {centerShapeHorizontal} from './utils';\n\nconst WIDTH = 2000, HEIGHT = 1200, PAD = 10;\n\nexport class UI {\n  public readonly images: TileImages;\n  private readonly stage: Konva.Stage;\n  private readonly menuLayer: Konva.Layer;\n  private readonly handLayer: Konva.Layer;       // Tiles in hand, that can be dragged and selected\n  private readonly tilesLayer: Konva.Layer;      // Other tiles\n  private readonly backgroundLayer: Konva.Layer;\n  public handTiles: TilesUI[];\n  public meldTiles: TilesUI[];\n  public discard: Discard;\n  public wildcard: Wildcard;\n  public menu: Menu;\n  private readonly names: Konva.Group;\n\n  private constructor(containerId: string, images: TileImages, scale: number) {\n    this.images = images;\n    this.stage = new Konva.Stage({\n      container: containerId,\n      width: WIDTH * scale,\n      height: HEIGHT * scale,\n      scaleX: scale,\n      scaleY: scale,\n    });\n    this.backgroundLayer = new Konva.Layer();\n    this.tilesLayer = new Konva.Layer();\n    this.handLayer = new Konva.Layer();\n    this.menuLayer = new Konva.Layer();\n    this.names = new Konva.Group();\n    this.menuLayer.add(this.names);\n    this.stage.add(this.backgroundLayer);\n    this.stage.add(this.tilesLayer);\n    this.stage.add(this.handLayer);\n    this.stage.add(this.menuLayer);\n    this.backgroundLayer.add(new Konva.Rect({\n      width: WIDTH,\n      height: HEIGHT,\n      fill: '#cccccc',\n    }));\n    (() => {\n      // Tiles\n      const {width: tileWidth, height: tileHeight} = this.images.get(-1);\n      const scaleOther = HEIGHT / WIDTH;\n      const configOther = {\n        scaleX: scaleOther,\n        scaleY: scaleOther,\n      };\n      const PAD_TB = 2 * (tileHeight * scaleOther + PAD);\n      const PAD_LR = tileWidth * scaleOther + PAD;\n      this.meldTiles = [\n        new TilesUI(this.handLayer, {\n          x: PAD_TB + PAD,\n          y: HEIGHT - tileHeight - 2 * PAD - tileHeight * scaleOther,\n          scaleX: scaleOther,\n          scaleY: scaleOther,\n        }, this.images),\n        new TilesUI(this.tilesLayer, {\n          x: WIDTH - 2 * (tileHeight * scaleOther + PAD),\n          y: HEIGHT - PAD_LR - PAD,\n          rotation: 270,\n          ...configOther,\n        }, this.images),\n        new TilesUI(this.tilesLayer, {\n          x: WIDTH - PAD_TB - PAD,\n          y: 2 * PAD + tileHeight + tileHeight * scaleOther,\n          rotation: 180,\n          ...configOther,\n        }, this.images),\n        new TilesUI(this.tilesLayer, {\n          x: 2 * (tileHeight * scaleOther + PAD),\n          y: PAD_LR + PAD,\n          rotation: 90,\n          ...configOther,\n        }, this.images),\n      ];\n      this.handTiles = [\n        new TilesUI(this.handLayer, {\n          x: PAD_TB + PAD,\n          y: HEIGHT - tileHeight - PAD,\n          draggable: true,\n          selectable: true,\n        }, this.images),\n        new TilesUI(this.tilesLayer, {\n          x: WIDTH - tileHeight * scaleOther - PAD,\n          y: HEIGHT - PAD_LR - PAD,\n          rotation: 270,\n          ...configOther,\n        }, this.images),\n        new TilesUI(this.tilesLayer, {\n          x: WIDTH - PAD_TB - PAD,\n          y: tileHeight + PAD,\n          rotation: 180,\n        }, this.images),\n        new TilesUI(this.tilesLayer, {\n          x: tileHeight * scaleOther + PAD,\n          y: PAD_LR + PAD,\n          rotation: 90,\n          ...configOther,\n        }, this.images),\n      ];\n      // Menu\n      const menuY = HEIGHT - tileHeight - 2 * tileHeight * scaleOther - 3 * PAD - MESSAGE_SIZE;\n      this.menu = new Menu(this.menuLayer, {\n        x: PAD_TB + 3*PAD,\n        y: menuY,\n      });\n      this.wildcard = new Wildcard(this.menuLayer, {\n        x: 1600,\n        y: menuY + 50,\n        imageScale: .8,\n      }, this.images);\n    })();\n    this.discard = new Discard(this.backgroundLayer, {\n      x: 260,\n      y: 320,\n      width: WIDTH - 590,\n      height: HEIGHT - 790,\n    }, this.images);\n  }\n\n  static async create(containerId: string): Promise<UI> {\n    // Get window size\n    const {innerWidth, innerHeight} = window;\n    const scale = Math.min(innerWidth / WIDTH, innerHeight / HEIGHT);\n    const images = await TileImages.load();\n    return new UI(containerId, images, scale);\n  }\n\n  clearTiles() {\n    this.discard.clear();\n    this.handTiles.forEach((tiles) => tiles.setTiles(0));\n    this.meldTiles.forEach((tiles) => tiles.setTiles(0));\n    this.wildcard.set(null);\n  }\n\n  setNames(names?: string[]) {\n    if (names === undefined) return;\n    this.names.destroyChildren();\n    const props = [\n      {\n        x: WIDTH / 2,\n        y: HEIGHT - 300,\n      },\n      {\n        x: WIDTH - 250,\n        y: HEIGHT / 2,\n        rotation: 270,\n      },\n      {\n        x: WIDTH / 2,\n        y: 280,\n      },\n      {\n        x: 250,\n        y: HEIGHT / 2,\n        rotation: 90,\n      },\n    ];\n    names.forEach((name, index) => {\n      const text = new Konva.Text({\n        text: name,\n        fontSize: 32,\n        ...props[index],\n      });\n      this.names.add(centerShapeHorizontal(text));\n    });\n    this.menuLayer.draw();\n  }\n}\n","import {Index} from \"./shared/types\";\n\nexport type TilesSetData = Array<Index[] | number | null>;\n\nexport type ServerMessage = {\n  alert?: string;\n  full?: true;\n  message?: string;\n  names?: string[];\n  discard?: Index | null;\n  set_tiles?: TilesSetData;\n  set_melds?: TilesSetData;\n  set_wildcard?: Index | null;\n}\n\nexport enum Move {\n  WIN,\n  KONG,\n  PONG,\n  DEAL,\n  HIT,\n  NONE,\n}\n\nexport type ClientMessage = {\n  move: Move;\n  tiles: Index[];\n}\n\n","import {UI} from './UI';\nimport {openSocket} from './socket';\nimport {ClientMessage, Move, ServerMessage, TilesSetData} from '../server/src/events';\nimport {Index} from '../server/src/shared/types';\nimport {cleanInput} from './utils';\n\nclass GameLogic {\n  private readonly ui: UI;\n  private readonly server: WebSocket;\n\n  constructor(ui: UI, server: WebSocket) {\n    this.ui = ui;\n    this.server = server;\n  }\n\n  private send(message: ClientMessage) {\n    this.server.send(JSON.stringify(message));\n  }\n\n  private onAlert(message?: string) {\n    if (message === undefined) return;\n    alert(`SERVER: ${message}`);\n  }\n\n  private setTiles(data?: TilesSetData) {\n    if (data === undefined) return;\n    for (let i = 0; i < data.length; ++i) {\n      const e = data[i];\n      if (e !== null) {\n        this.ui.handTiles[i].setTiles(e);\n      }\n    }\n  }\n\n  private setMelds(data?: TilesSetData) {\n    if (data === undefined) return;\n    for (let i = 0; i < data.length; ++i) {\n      const e = data[i];\n      if (e !== null) {\n        this.ui.meldTiles[i].setTiles(e, true);\n      }\n    }\n  }\n\n  private discardTile(tile?: Index | null) {\n    if (tile === undefined) return;\n    if (tile === null) {\n      this.ui.discard.clear();\n    } else if (tile === -1) {\n      this.ui.discard.pop();\n    } else {\n      this.ui.discard.push(tile);\n    }\n  }\n\n  private setWildcard(tile?: Index | null) {\n    if (tile === undefined) return;\n    this.ui.wildcard.set(tile);\n  }\n\n  private sendMove(move: Move) {\n    this.send({\n      move,\n      tiles: this.ui.handTiles[0].getSelected(),\n    });\n  }\n\n  run(): Promise<void> {\n    this.ui.clearTiles();\n    this.ui.menu.setButtons([\n      {\n        text: '和',\n        color: '#FFD700\\n',\n        handler: () => this.sendMove(Move.WIN),\n      },\n      {\n        text: '碰',\n        color: 'blue',\n        handler: () => this.sendMove(Move.PONG),\n      },\n      {\n        text: '杠',\n        color: 'green',\n        handler: () => this.sendMove(Move.KONG),\n      },\n      {\n        text: '摸',\n        color: 'black',\n        handler: () => this.sendMove(Move.DEAL),\n      },\n      {\n        text: '打',\n        color: 'black',\n        handler: () => this.sendMove(Move.HIT),\n      },\n    ]);\n    return new Promise((_resolve, reject) => {\n      this.server.onclose = () => reject('Connection closed');\n      this.server.onerror = () => this.server.close();\n      this.server.onmessage = (event) => {\n        try {\n          const message: ServerMessage = JSON.parse(event.data);\n          if (message.full) {\n            this.onAlert('Server Full');\n          }\n          this.setTiles(message.set_tiles);\n          this.discardTile(message.discard);\n          this.setWildcard(message.set_wildcard);\n          if (message.message) {\n            this.ui.menu.showMessage(message.message);\n          }\n          this.ui.setNames(message.names);\n          this.setMelds(message.set_melds);\n        } catch {\n          console.error('could not parse:', event.data);\n        }\n        console.debug('Received:', event.data);\n      };\n    });\n  }\n}\n\n(async () => {\n  const ui = await UI.create('container');\n  // @ts-ignore\n  const modal = new bootstrap.Modal(document.getElementById('joinModal'), {\n    keyboard: false,\n    backdrop: 'static',\n  });\n  modal.show();\n  const form = <HTMLFormElement>document.querySelector('form');\n  form.onsubmit = (e) => {\n    e.preventDefault();\n    const data = new FormData(form);\n    const name = cleanInput(<string>data.get('name'));\n    const url = <string>data.get('url');\n    if (!name || !url) {\n      return;\n    }\n    openSocket(url, name).then((ws) => {\n      modal.hide();\n      return (new GameLogic(ui, ws)).run();\n    }).catch((reason) => {\n      if (reason) {\n        alert(reason);\n      }\n    }).finally(() => {\n      modal.show();\n    });\n  };\n  // Exposed for debugging\n  (<any>window).ui = ui;\n})();\n\n","export const openSocket = (url: string, name: string): Promise<WebSocket> => {\n  return new Promise((resolve, reject) => {\n    const socket = new WebSocket(url, name);\n    socket.onopen = () => resolve(socket);\n    socket.onclose = () => reject();\n  });\n}\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$interopDefault","a","__esModule","default","$7d806a7a603c235ec027b73d847f4d95$var$mapping","id","resolved","Error","pairs","keys","Object","i","length","JSON","parse","defineProperty","value","Konva","$fad20209c44cce3fff6424b42320ce82$exports","_parseUA","glob","_NODES_REGISTRY","_registerNode","$fad20209c44cce3fff6424b42320ce82$var$PI_OVER_180","Math","PI","$fad20209c44cce3fff6424b42320ce82$var$_detectIE","ua","msie","indexOf","parseInt","substring","rv","edge","userAgent","toLowerCase","match","exec","mobile","ieMobile","browser","version","isIE","WorkerGlobalScope","_global","isBrowser","toString","call","isUnminified","test","param","dblClickWindow","getAngle","angle","angleDeg","enableTrace","_pointerEventsEnabled","hitOnDragEnabled","captureTouchEventsEnabled","listenClickTap","inDblClickWindow","pixelRatio","undefined","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","node","UA","navigator","document","_injectGlobal","NodeClass","prototype","getClassName","$f146af2e5b07a49d1e8a5145e6468c42$exports","Collection","Transform","Util","$f146af2e5b07a49d1e8a5145e6468c42$var$Collection","toCollection","arr","n","collection","len","push","_mapMethod","methodName","this","args","slice","arguments","apply","mapMethods","constructor","prot","each","func","toArray","$f146af2e5b07a49d1e8a5145e6468c42$var$Transform","m","dirty","reset","copy","copyInto","tr","point","x","y","translate","scale","sx","sy","rotate","rad","c","cos","s","sin","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dx","dy","invert","d","m0","m1","m2","m3","m4","m5","getMatrix","setAbsolutePosition","yt","xt","decompose","b","delta","result","rotation","scaleX","scaleY","skewX","skewY","r","sqrt","acos","_getRotation","$f146af2e5b07a49d1e8a5145e6468c42$var$PI_OVER_DEG180","$f146af2e5b07a49d1e8a5145e6468c42$var$DEG180_OVER_PI","$f146af2e5b07a49d1e8a5145e6468c42$var$KONVA_ERROR","$f146af2e5b07a49d1e8a5145e6468c42$var$COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$f146af2e5b07a49d1e8a5145e6468c42$var$RGB_REGEX","$f146af2e5b07a49d1e8a5145e6468c42$var$animQueue","_isElement","obj","nodeType","_isFunction","_isPlainObject","_isArray","_isNumber","isNaN","isFinite","_isString","_isBoolean","isObject","val","isValidSelector","selector","firstChar","toUpperCase","_sign","number","requestAnimFrame","callback","requestAnimationFrame","queue","forEach","cb","createCanvasElement","canvas","createElement","style","e","createImageElement","_isInDocument","el","parentNode","_simplifyArray","retArr","util","round","_urlToImage","url","imageObj","Image","onload","src","_rgbToHex","g","_hexToRgb","hex","replace","bigint","getRandomColor","randColor","random","get","def","getRGB","color","rgb","substr","colorToRGBA","str","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","parts","split","map","Number","_a","hsl","h","l","t2","t3","t1","haveIntersection","r1","r2","width","height","cloneObject","retObj","key","cloneArray","_degToRad","deg","_radToDeg","radians","_capitalize","charAt","throw","error","console","warn","extend","child","parent","Ctor","oldProto","hasOwnProperty","__super__","super","_getControlPoints","x0","y0","x1","y1","x2","y2","t","d01","pow","d12","fa","fb","_expandPoints","p","tension","cp","allPoints","_inRange","left","right","_getProjectionToSegment","x3","y3","dist","pd2","u","_getProjectionToLine","pt","line","isClosed","pc","MAX_VALUE","p1","p2","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","start","end","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","getOwnPropertyDescriptor","configurable","_assign","target","source","_getFirstPointerId","evt","touches","changedTouches","identifier","$dc7b58adb92c5e124c3a4b1bc14a775c$exports","ids","names","_removeId","_addName","_removeName","Node","Factory","$34d985fa61784ad11310545d36b4db7c$exports","RGBComponent","alphaComponent","getNumberValidator","getNumberOrArrayOfNumbersValidator","getNumberOrAutoValidator","getStringValidator","getStringOrGradientValidator","getFunctionValidator","getNumberArrayValidator","getBooleanValidator","$34d985fa61784ad11310545d36b4db7c$var$_formatValue","getComponentValidator","attr","noOfElements","isNumber","isValidArray","isString","isGradient","item","components","$ccc4203bd5221eed728be127efa6e067$var$GET","$ccc4203bd5221eed728be127efa6e067$var$SET","addGetterSetter","validator","after","addGetter","addSetter","addOverloadedGetterSetter","method","attrs","overWriteSetter","_setAttr","addComponentsGetterSetter","component","capitalize","getter","setter","ret","getAttr","basicValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","message","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","extendStatics","$4ede0b27ba6c48c02bf1b6ffac35a164$var$__extends","setPrototypeOf","__proto__","Array","__","create","$4ede0b27ba6c48c02bf1b6ffac35a164$exports","Canvas","SceneCanvas","HitCanvas","$b57ed8d8858cfc0a410941508f46d012$var$__extends","$b57ed8d8858cfc0a410941508f46d012$exports","Context","SceneContext","HitContext","$b57ed8d8858cfc0a410941508f46d012$var$CONTEXT_METHODS","$b57ed8d8858cfc0a410941508f46d012$var$Context","_context","_canvas","getContext","traceArr","_enableTrace","fillShape","shape","fillEnabled","_fill","strokeShape","hasStroke","_stroke","fillStrokeShape","fillAfterStrokeEnabled","getTrace","relaxed","trace","join","property","clearTrace","_trace","shift","getCanvas","getPixelRatio","setTransform","clear","bounds","clearRect","getWidth","getHeight","_applyLineCap","lineCap","getLineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","lineJoin","arc","a0","a1","a2","a3","a4","a5","arcTo","beginPath","bezierCurveTo","clip","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","drawImage","a6","a7","a8","ellipse","isPointInPath","fill","fillRect","strokeRect","fillText","measureText","text","getImageData","lineTo","moveTo","rect","putImageData","quadraticCurveTo","restore","save","setLineDash","getLineDash","stroke","strokeText","transform","that","origSetter","origMethod","prop","_applyGlobalCompositeOperation","globalCompositeOperation","getGlobalCompositeOperation","$b57ed8d8858cfc0a410941508f46d012$var$CONTEXT_PROPERTIES","set","$4ede0b27ba6c48c02bf1b6ffac35a164$var$_pixelRatio","$b57ed8d8858cfc0a410941508f46d012$var$SceneContext","_super","_fillColor","_fillFunc","_fillPattern","fillPatternX","getFillPatternX","fillPatternY","getFillPatternY","fillPatternRotation","getFillPatternRotation","fillPatternOffsetX","getFillPatternOffsetX","fillPatternOffsetY","getFillPatternOffsetY","getFillPatternScaleX","getFillPatternScaleY","_getFillPattern","_fillLinearGradient","grd","_getLinearGradient","_fillRadialGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","addColorStop","dash","strokeScaleEnabled","getStrokeScaleEnabled","dashEnabled","dashOffset","strokeWidth","getShadowForStrokeEnabled","_strokeFunc","_applyShadow","getShadowRGBA","blur","getShadowBlur","offset","getShadowOffset","getAbsoluteScale","ratio","min","abs","$b57ed8d8858cfc0a410941508f46d012$var$HitContext","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","$4ede0b27ba6c48c02bf1b6ffac35a164$var$Canvas","config","isCache","context","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","$4ede0b27ba6c48c02bf1b6ffac35a164$var$getDevicePixelRatio","padding","margin","border","background","position","top","setPixelRatio","previousRatio","setSize","setWidth","setHeight","toDataURL","mimeType","quality","err","$4ede0b27ba6c48c02bf1b6ffac35a164$var$SceneCanvas","_this","$4ede0b27ba6c48c02bf1b6ffac35a164$var$HitCanvas","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","Map","_drag","nodesToFireEvents","stage","getStage","setPointersPositions","pointerId","pos","_changedPointerPositions","find","max","startPointerPos","startDrag","_setDragPosition","fire","type","_endDragBefore","drawNode","getLayer","batchDraw","_endDragAfter","delete","addEventListener","$d4845f0df9f2d983480e8a9998629859$export$DD","name","_id","nodes","splice","$dc7b58adb92c5e124c3a4b1bc14a775c$var$ABSOLUTE_OPACITY","$dc7b58adb92c5e124c3a4b1bc14a775c$var$ALL_LISTENERS","$dc7b58adb92c5e124c3a4b1bc14a775c$var$ABSOLUTE_TRANSFORM","$dc7b58adb92c5e124c3a4b1bc14a775c$var$ABSOLUTE_SCALE","$dc7b58adb92c5e124c3a4b1bc14a775c$var$CANVAS","$dc7b58adb92c5e124c3a4b1bc14a775c$var$LISTENING","$dc7b58adb92c5e124c3a4b1bc14a775c$var$MOUSEENTER","$dc7b58adb92c5e124c3a4b1bc14a775c$var$MOUSELEAVE","$dc7b58adb92c5e124c3a4b1bc14a775c$var$SHAPE","$dc7b58adb92c5e124c3a4b1bc14a775c$var$SPACE","$dc7b58adb92c5e124c3a4b1bc14a775c$var$STAGE","$dc7b58adb92c5e124c3a4b1bc14a775c$var$TRANSFORM","$dc7b58adb92c5e124c3a4b1bc14a775c$var$VISIBLE","$dc7b58adb92c5e124c3a4b1bc14a775c$var$TRANSFORM_CHANGE_STR","$dc7b58adb92c5e124c3a4b1bc14a775c$var$emptyChildren","$dc7b58adb92c5e124c3a4b1bc14a775c$var$SCALE_CHANGE_STR","$dc7b58adb92c5e124c3a4b1bc14a775c$var$idCounter","$dc7b58adb92c5e124c3a4b1bc14a775c$var$Node","eventListeners","index","_allEventListeners","_cache","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","children","_dragEventId","_shouldFireChangeEvents","setAttrs","hasChildren","getChildren","_clearCache","_getCache","privateGetter","cache","_calculate","deps","depsString","dep","on","_getCanvasCache","_clearSelfAndDescendantCache","forceEvent","isCached","clearCache","conf","getClientRect","skipTransform","relativeTo","getParent","ceil","drawBorder","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","scene","filter","hit","has","_transformedRect","minX","minY","maxX","maxY","points","trans","getAbsoluteTransform","transformed","_drawCachedSceneCanvas","canvasCache","cacheCanvas","_getCachedSceneCanvas","_drawCachedHitCanvas","imageData","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","handler","_delegate","baseEvent","events","off","_off","dispatchEvent","removeEventListener","event","stopNode","targets","findAncestors","currentTarget","remove","stopDrag","_remove","_clearCaches","_setChildrenIndices","destroy","subname","getAncestors","ancestors","getAttrs","_batchTransformChanges","$dc7b58adb92c5e124c3a4b1bc14a775c$var$SET","isListening","_isListening","listening","isVisible","_isVisible","visible","shouldDrawHit","skipDragCheck","layer","layerUnderDrag","dragSkip","show","hide","getZIndex","getAbsoluteZIndex","depth","getDepth","addChildren","concat","setPosition","getPosition","getAbsolutePosition","haveCachedParent","absoluteMatrix","absoluteTransform","origTrans","_clearTransform","it","_getAbsoluteTransform","_setTransform","offsetX","offsetY","move","change","changeX","changeY","_eachAncestorReverse","family","unshift","theta","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","opacity","newContainer","add","toObject","defaultValue","nonPlainObject","className","toJSON","stringify","includeSelf","res","_isMatch","ancestor","isAncestorOf","findAncestor","sel","selectorArr","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","transformsEnabled","getTransform","getAbsoluteRotation","_getTransform","_b","clone","allListeners","listener","_toKonvaCanvas","box","toCanvas","toImage","img","size","getSize","getType","getDragDistance","evtName","evtListeners","newVal","$dc7b58adb92c5e124c3a4b1bc14a775c$var$CHANGE","setId","oldId","$dc7b58adb92c5e124c3a4b1bc14a775c$var$_addId","setName","oldNames","newNames","addName","oldName","newName","fullName","removeName","skipFire","_setComponentAttr","compareShape","shouldStop","stopBubble","cancelBubble","_getProtoListeners","listeners","getPrototypeOf","newEvents","oldEvents","topListeners","selfListeners","draw","_createDragElement","ap","_getPointerById","bubbleEvent","newNodePos","dbf","dragBoundFunc","bounded","setDraggable","draggable","_dragChange","_listenDrag","_dragCleanup","shouldCheckButton","hasDraggingChild","dragElement","isReady","data","container","_createNode","no","Class","_attrsAffectingSize","$dc7b58adb92c5e124c3a4b1bc14a775c$var$addGetterSetter","rotateDeg","setRotationDeg","getRotationDeg","$f0e511bcbed5e8471d4fd48220381c5b$var$__extends","Container","$f0e511bcbed5e8471d4fd48220381c5b$var$Container","filterFunc","results","removeChildren","destroyChildren","_i","_children","_validateAdd","_generalFind","findOne","_descendants","valid","fn","getAllIntersections","intersects","can","caching","_drawChildren","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","clipY","hasComposition","selfRect","Infinity","skipShadow","skipStroke","shapes","hasVisible","$dd9dfe89c8f77dbd7cab514ada84163f$var$__extends","$dd9dfe89c8f77dbd7cab514ada84163f$exports","stages","Stage","$841653b3239db26f2821abb0f3dd822b$exports","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","$841653b3239db26f2821abb0f3dd822b$var$Captures","$841653b3239db26f2821abb0f3dd822b$var$SUPPORT_POINTER_EVENTS","$841653b3239db26f2821abb0f3dd822b$var$createEvent","$841653b3239db26f2821abb0f3dd822b$var$releaseCapture","PointerEvent","content","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSEOUT","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSELEAVE","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSEOVER","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSEENTER","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSEMOVE","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSEDOWN","$dd9dfe89c8f77dbd7cab514ada84163f$var$MOUSEUP","$dd9dfe89c8f77dbd7cab514ada84163f$var$POINTERMOVE","$dd9dfe89c8f77dbd7cab514ada84163f$var$POINTERDOWN","$dd9dfe89c8f77dbd7cab514ada84163f$var$POINTERUP","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTEXTMENU","$dd9dfe89c8f77dbd7cab514ada84163f$var$CLICK","$dd9dfe89c8f77dbd7cab514ada84163f$var$DBL_CLICK","$dd9dfe89c8f77dbd7cab514ada84163f$var$TOUCHSTART","$dd9dfe89c8f77dbd7cab514ada84163f$var$TOUCHEND","$dd9dfe89c8f77dbd7cab514ada84163f$var$DBL_TAP","$dd9dfe89c8f77dbd7cab514ada84163f$var$TOUCHMOVE","$dd9dfe89c8f77dbd7cab514ada84163f$var$WHEEL","$dd9dfe89c8f77dbd7cab514ada84163f$var$EVENTS","$dd9dfe89c8f77dbd7cab514ada84163f$var$eventsLength","$dd9dfe89c8f77dbd7cab514ada84163f$var$addEvent","ctx","eventName","$dd9dfe89c8f77dbd7cab514ada84163f$var$checkNoClip","$dd9dfe89c8f77dbd7cab514ada84163f$var$Stage","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","isFastLayer","display","setContainer","$dd9dfe89c8f77dbd7cab514ada84163f$var$STRING","getElementsByClassName","getElementById","parentElement","removeChild","appendChild","layers","getPointerPosition","getPointersPositions","getContent","layerCanvas","getIntersection","bufferCanvas","bufferHitCanvas","getLayers","_mouseenter","_mouseover","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_MOUSEOVER","_mouseleave","targetShape","eventsEnabled","pointerPos","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_MOUSEOUT","_mousemove","_touchmove","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_MOUSEMOVE","cancelable","preventDefault","_mousedown","_touchstart","clickStartShape","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_MOUSEDOWN","_mouseup","_touchend","clickEndShape","fireDblClick","clearTimeout","dblTimeout","setTimeout","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_MOUSEUP","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_CLICK","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_DBL_CLICK","_contextmenu","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_CONTEXTMENU","triggeredOnShape","tapStartShape","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_TOUCHSTART","processedShapesIds","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_TOUCHMOVE","tapEndShape","tapTriggered","dblTapTriggered","$dd9dfe89c8f77dbd7cab514ada84163f$var$TAP","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_TOUCHEND","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_TAP","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_DBL_TAP","_wheel","$dd9dfe89c8f77dbd7cab514ada84163f$var$CONTENT_WHEEL","_pointerdown","_pointermove","_pointerup","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","touch","clientX","clientY","_setPointerPosition","getBoundingClientRect","clientWidth","clientHeight","innerHTML","userSelect","setAttribute","$2fc5b8e6bb1c83ee9aa2f598e6eca6d2$var$__extends","Layer","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$__extends","$ce6ca4050726e94c9fe65bb5d6ebdfda$exports","Shape","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$dummyContext","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$HAS_SHADOW","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$SHADOW_RGBA","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$patternImage","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$linearGradient","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$radialGradient","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$getDummyContext","$ce6ca4050726e94c9fe65bb5d6ebdfda$var$Shape","getSceneFunc","sceneFunc","getHitFunc","hitFunc","hasShadow","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","pattern","fillPatternRepeat","fillPatternScaleX","fillPatternScaleY","f","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","rgba","hasFill","strokeEnabled","strokeLinearGradientColorStops","_useBufferCanvas","forceFill","perfectDrawEnabled","isTransparent","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","getStrokeHitEnabled","getSelfRect","_centroid","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","roundingOffset","bufferContext","drawFunc","skipBuffer","cachingSelf","o","log","drawHitFromCache","alphaThreshold","hitImageData","hitData","rgbColorKey","hitWidth","hitHeight","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","$2fc5b8e6bb1c83ee9aa2f598e6eca6d2$var$INTERSECTION_OFFSETS","$2fc5b8e6bb1c83ee9aa2f598e6eca6d2$var$INTERSECTION_OFFSETS_LEN","$2fc5b8e6bb1c83ee9aa2f598e6eca6d2$var$Layer","_waitingForDraw","_setSmoothEnabled","createPNGStream","getHitCanvas","insertBefore","moved","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","$2fc5b8e6bb1c83ee9aa2f598e6eca6d2$var$BEFORE_DRAW","clearBeforeDraw","$2fc5b8e6bb1c83ee9aa2f598e6eca6d2$var$DRAW","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","getHitGraphEnabled","toggleHitCanvas","$945359d4dbf367ebaebb0f3b770a8b22$var$__extends","FastLayer","$945359d4dbf367ebaebb0f3b770a8b22$var$FastLayer","$4792a14ffea66bc6140cf9dfdd3ed6bd$var$__extends","Group","$4792a14ffea66bc6140cf9dfdd3ed6bd$var$Group","Animation","$d4ad2d5f159031b30521d7f36b4568c0$var$now","performance","now","Date","getTime","$d4ad2d5f159031b30521d7f36b4568c0$var$Animation","animIdCounter","frame","time","timeDiff","lastTime","frameRate","setLayers","lays","addLayer","isRunning","animations","stop","_addAnimation","_removeAnimation","_updateFrameObject","anim","_handleAnimation","_runFrames","layersLen","layerHash","_animationLoop","Anim","animRunning","$aed6b3b9660367b8de84b97e0c075166$exports","Tween","Easings","$aed6b3b9660367b8de84b97e0c075166$var$blacklist","duration","easing","onFinish","yoyo","$aed6b3b9660367b8de84b97e0c075166$var$idCounter","$aed6b3b9660367b8de84b97e0c075166$var$colorAttrs","$aed6b3b9660367b8de84b97e0c075166$var$TweenEngine","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","setTime","reverse","play","update","state","getTimer","onEnterFrame","seek","$aed6b3b9660367b8de84b97e0c075166$var$Tween","nodeId","Linear","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","diff","tweenId","trueEnd","trueStart","endRGBA","closed","startRGBA","onPlay","onReverse","onPause","thisId","to","params","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","asin","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","$992d2c5fe1c85b1eb95467d2e90c1e82$var$__extends","Arc","$992d2c5fe1c85b1eb95467d2e90c1e82$var$Arc","_sceneFunc","clockwise","outerRadius","innerRadius","$dd8aac601c45f22bb340af8299a423c7$var$__extends","Arrow","$f697d9069eb7312f193c39991e7bc83a$var$__extends","$f697d9069eb7312f193c39991e7bc83a$var$__spreadArrays","il","k","j","jl","Line","$f697d9069eb7312f193c39991e7bc83a$var$Line","tp","bezier","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","middle","$dd8aac601c45f22bb340af8299a423c7$var$Arrow","PI2","fromTension","atan2","pointerLength","pointerWidth","pointerAtBeginning","isDashEnabled","lineRect","$3470de75633c8e82043a2a9ecad7ba1c$var$__extends","Circle","$3470de75633c8e82043a2a9ecad7ba1c$var$Circle","radius","$764606ae669c7c4e02f0354a796c85f5$var$__extends","Ellipse","$764606ae669c7c4e02f0354a796c85f5$var$Ellipse","rx","radiusX","ry","radiusY","$be063b48cbadee563d6c0e87c8e5608b$var$__extends","$be063b48cbadee563d6c0e87c8e5608b$var$Image","image","cropWidth","cropHeight","cropX","cropY","_hitFunc","fromURL","crossOrigin","$e27cc842ab167df27c29af6953007927$var$__extends","$e27cc842ab167df27c29af6953007927$exports","Label","Tag","$e27cc842ab167df27c29af6953007927$var$ATTR_CHANGE_LIST","$e27cc842ab167df27c29af6953007927$var$UP","$e27cc842ab167df27c29af6953007927$var$RIGHT","$e27cc842ab167df27c29af6953007927$var$DOWN","$e27cc842ab167df27c29af6953007927$var$LEFT","$e27cc842ab167df27c29af6953007927$var$attrChangeListLen","$e27cc842ab167df27c29af6953007927$var$Label","_sync","getText","getTag","pointerDirection","pointerHeight","tag","$e27cc842ab167df27c29af6953007927$var$Tag","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","direction","$a59a728ecaed0d844ae1b1de2934fc4d$var$__extends","Path","$a59a728ecaed0d844ae1b1de2934fc4d$var$Path","dataArray","pathLength","parsePathData","ca","command","cx","cy","dTheta","psi","fs","inc","getPointOnEllipticalArc","getPointOnCubicBezier","getLength","getPointAtLength","ii","getPointOnLine","getPointOnQuadraticBezier","getLineLength","P1x","P1y","P2x","P2y","fromX","fromY","run","rise","ix","iy","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","cc","RegExp","coords","cpx","cpy","re","jlen","parsed","parseFloat","prevCmd","ctlPtx","ctlPty","cmd","startX","startY","idx","convertEndpointToCenterParameterization","calcLength","path","psiDeg","xp","yp","lambda","cxp","cyp","vMag","v","vRatio","vAngle","$133a97e8d81fe4a2878fc94964d0870c$var$__extends","Rect","$133a97e8d81fe4a2878fc94964d0870c$var$Rect","$41b527934c5fade5bc76be72e76c68c7$var$__extends","RegularPolygon","$41b527934c5fade5bc76be72e76c68c7$var$RegularPolygon","_getPoints","sides","$82416fb80a61ecc172fd0281e513afcd$var$__extends","Ring","$82416fb80a61ecc172fd0281e513afcd$var$PIx2","$82416fb80a61ecc172fd0281e513afcd$var$Ring","$12fbc046477aa5ed87c743290ba8c432$var$__extends","Sprite","$12fbc046477aa5ed87c743290ba8c432$var$Sprite","_updated","updated","frameIndex","clearInterval","interval","_setInterval","animation","ix4","offsets","frameOffsets","ix2","setInterval","_updateIndex","getIndex","setIndex","$1adc2aa817f91aa746361ebab2f22dbf$var$__extends","Star","$1adc2aa817f91aa746361ebab2f22dbf$var$Star","numPoints","$8035c8c87f7067906b276189434fa2d5$var$__extends","$8035c8c87f7067906b276189434fa2d5$exports","stringToArray","$8035c8c87f7067906b276189434fa2d5$var$stringToArray","string","from","Text","$8035c8c87f7067906b276189434fa2d5$var$dummyContext","$8035c8c87f7067906b276189434fa2d5$var$AUTO","$8035c8c87f7067906b276189434fa2d5$var$JUSTIFY","$8035c8c87f7067906b276189434fa2d5$var$LEFT","$8035c8c87f7067906b276189434fa2d5$var$MIDDLE","$8035c8c87f7067906b276189434fa2d5$var$NORMAL","$8035c8c87f7067906b276189434fa2d5$var$SPACE","$8035c8c87f7067906b276189434fa2d5$var$ATTR_CHANGE_LIST","$8035c8c87f7067906b276189434fa2d5$var$attrChangeListLen","$8035c8c87f7067906b276189434fa2d5$var$getDummyContext","$8035c8c87f7067906b276189434fa2d5$var$Text","$8035c8c87f7067906b276189434fa2d5$var$checkDefaultFill","_partialTextX","_partialTextY","_setTextData","textArr","textArrLen","fontSize","lineHeightPx","lineHeight","verticalAlign","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","spacesNumber","oneWord","lineWidth","lastLine","strokeStyle","array","li","letter","_partialText","measureSize","setText","getTextWidth","textWidth","getTextHeight","textHeight","metrics","font","fontStyle","fontFamily","fontVariant","hasSpace","trim","hasQuotes","_addTextLine","_getTextWidth","lines","fixedWidth","fixedHeight","maxWidth","maxHeightPx","currentHeightPx","wrap","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","substrWidth","wrapIndex","nextChar","lastIndexOf","trimRight","trimLeft","$fe397886a366f3995b5ce59a5702c441$var$__extends","TextPath","$fe397886a366f3995b5ce59a5702c441$var$NORMAL","$fe397886a366f3995b5ce59a5702c441$var$_fillFunc","partialText","$fe397886a366f3995b5ce59a5702c441$var$_strokeFunc","$fe397886a366f3995b5ce59a5702c441$var$TextPath","dummyCanvas","kerningFunc","textBaseline","glyphInfo","p0","_getTextSize","textFullWidth","fullPathWidth","pathCmd","charArr","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","lettersInOffset","kern","midpoint","transposeX","transposeY","info","$eb2d550f88ad24bcbc80c4a1e37652b7$var$__extends","$eb2d550f88ad24bcbc80c4a1e37652b7$var$__assign","assign","Transformer","$eb2d550f88ad24bcbc80c4a1e37652b7$var$EVENTS_NAME","$eb2d550f88ad24bcbc80c4a1e37652b7$var$ATTR_CHANGE_LIST","$eb2d550f88ad24bcbc80c4a1e37652b7$var$NODES_RECT","$eb2d550f88ad24bcbc80c4a1e37652b7$var$TRANSFORM_CHANGE_STR","$eb2d550f88ad24bcbc80c4a1e37652b7$var$ANGLES","top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right","$eb2d550f88ad24bcbc80c4a1e37652b7$var$TOUCH_DEVICE","$eb2d550f88ad24bcbc80c4a1e37652b7$var$ANCHORS_NAMES","$eb2d550f88ad24bcbc80c4a1e37652b7$var$rotateAroundPoint","angleRad","$eb2d550f88ad24bcbc80c4a1e37652b7$var$rotateAroundCenter","deltaRad","$eb2d550f88ad24bcbc80c4a1e37652b7$var$getCenter","$eb2d550f88ad24bcbc80c4a1e37652b7$var$Transformer","_transforming","_createElements","_handleMouseMove","bind","_handleMouseUp","getNode","attachTo","setNode","setNodes","_nodes","detach","additionalEvents","onChange","_resetTransformCache","_proxyDrag","lastPos","otherNode","otherAbs","getNodes","getActiveAnchor","_movingAnchorName","_getNodeRect","__getNodeRect","__getNodeShape","rot","relative","ignoreStroke","absScale","absPos","totalPoints","getX","getY","_createBack","_createAnchor","anchor","_handleMouseDown","cursor","anchorName","$eb2d550f88ad24bcbc80c4a1e37652b7$var$getCursor","_cursorChange","back","rotateEnabled","rotateAnchorOffset","shouldOverdrawWholeArea","hypotenuse","_anchorDragOffset","newHypotenuse","anchorNode","pp","oldAbs","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","_fitNodesInto","newRotation","oldRotation","tol","rotationSnapTolerance","snaps","newRotationRad","snapped","absDiff","$eb2d550f88ad24bcbc80c4a1e37652b7$var$getSnap","rotationSnaps","_removeEvents","newAttrs","oldAttrs","boundBoxFunc","baseSize","oldTr","newTr","parentTransform","localTransform","newLocalTransform","forceUpdate","_batchChangeChild","enabledAnchors","resizeEnabled","anchorSize","anchorStroke","anchorStrokeWidth","anchorFill","anchorCornerRadius","borderEnabled","borderStroke","borderStrokeWidth","borderDash","isTransforming","stopTransform","lineEnabled","rotateHandlerOffset","enabledHandlers","$84828c9de4de2ee69577a47368da4ff2$var$__extends","Wedge","$84828c9de4de2ee69577a47368da4ff2$var$Wedge","getAngleDeg","setAngleDeg","$2fe761bc236379c275931fd3760f4f23$var$BlurStack","next","Blur","$2fe761bc236379c275931fd3760f4f23$var$mul_table","$2fe761bc236379c275931fd3760f4f23$var$shg_table","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pg","pb","pa","rbs","pixels","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stack","stackIn","stackOut","mul_sum","shg_sum","$2fe761bc236379c275931fd3760f4f23$var$filterGaussBlurRGBA","$ccc4203bd5221eed728be127efa6e067$exports","Brighten","brightness","Contrast","adjust","contrast","nPixels","Emboss","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","dif","absDif","$ae34f86f1e2d48461d51fe0b78602965$var$remap","fromValue","fromMin","fromMax","toMin","toMax","fromRange","toRange","Enhance","nSubPixels","rMin","rMax","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","Grayscale","HSL","saturation","hue","luminance","vsu","vsw","rr","rg","rb","gr","gg","gb","br","bg","bb","HSV","Invert","Kaleidoscope","srcPos","dstPos","xSize","ySize","power","kaleidoscopePower","kaleidoscopeAngle","floor","tempCanvas","scratchData","dst","opt","srcPixels","dstPixels","xMid","polarCenterX","yMid","polarCenterY","rSize","tSize","conversion","$46fb2594fff247d6277c570e773919a3$var$ToPolar","minSectionSize","sectionSize","xStart","xEnd","xDelta","phaseShift","polarRotation","$46fb2594fff247d6277c570e773919a3$var$FromPolar","$67cc522d5ddb0c2f2afba37286788037$var$pixelAt","idata","$67cc522d5ddb0c2f2afba37286788037$var$rgbDistance","Mask","mask","threshold","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","pTab","$67cc522d5ddb0c2f2afba37286788037$var$rgbMean","$67cc522d5ddb0c2f2afba37286788037$var$backgroundMask","$67cc522d5ddb0c2f2afba37286788037$var$applyMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","wt","$67cc522d5ddb0c2f2afba37286788037$var$smoothEdgeMask","$67cc522d5ddb0c2f2afba37286788037$var$dilateMask","$67cc522d5ddb0c2f2afba37286788037$var$erodeMask","Noise","amount","noise","half","Pixelate","alpha","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","Posterize","levels","RGB","RGBA","ia","Sepia","Solarize","Threshold","level","Filters","$936e22b1ebb0a45c0f92b3dcc4717967$var$Konva","$936e22b1ebb0a45c0f92b3dcc4717967$export$default","$1cf8ac13d6ee2f8950e143d3b88e2999$export$clamp","$1cf8ac13d6ee2f8950e143d3b88e2999$export$centerShapeHorizontal","$ced0bc7c003dec74be79941a115e4a4d$export$TileType","TileType","$ced0bc7c003dec74be79941a115e4a4d$export$TileGroup","TileGroup","DOTS","WINDS","FLOWERS","$ced0bc7c003dec74be79941a115e4a4d$export$Tiles","BAMBOO","CHARACTERS","DRAGONS","SEASONS","tile","getValue","BONUS","HONORS","SIMPLES","NUM_TILES","tiles","have","Set","exclude","include","includes","$a69cc86030df264081a9058253eec57b$var$HAND_TILE_SPACING","$a69cc86030df264081a9058253eec57b$var$ATTR_INDEX","$a69cc86030df264081a9058253eec57b$var$ATTR_TILE","$a69cc86030df264081a9058253eec57b$var$ATTR_SELECTED","$a69cc86030df264081a9058253eec57b$export$TilesUI","tileImages","selectable","rest","group","initDragEvents","initSelectEvents","initHoverEvents","setTiles","exact","BACK","tileSet","remIndices","removeTiles","addTile","redraw","getCount","indices","sort","rem","tIdx","moveHandTile","getSelected","body","dIndex","nIndex","posToIndex","xPos","setZ","$c8f04f5205fd8fbedacc27d54f88fbe8$var$BUTTON_BG_COLOR","$c8f04f5205fd8fbedacc27d54f88fbe8$var$makeButton","kLabel","kTag","kText","$c8f04f5205fd8fbedacc27d54f88fbe8$export$Menu","btnGroup","setButtons","buttons","button","showMessage","$2ad967d4b05524ad31572d86ce21c9a9$var$LAST_SCALE","$2ad967d4b05524ad31572d86ce21c9a9$var$SCALE","$2ad967d4b05524ad31572d86ce21c9a9$export$Discard","images","prevImage","pop","$634f916bc30b7d6650877f3f4b6a8b3a$var$bundleURL","matches","$634f916bc30b7d6650877f3f4b6a8b3a$var$getBundleURL","$824bc590bf0a3702ac7bd27152cb0639$var$resolve","$824bc590bf0a3702ac7bd27152cb0639$var$dirname","_filePath","filePath","slashIndex","$824bc590bf0a3702ac7bd27152cb0639$var$relative","fromParts","divergeIndex","toParts","fromId","toId","_dirname","_relative","$93a2bfc4be0f527ed891d2db598275ec$var$URLS","$93a2bfc4be0f527ed891d2db598275ec$export$TileImages","Promise","all","resolve","then","$71c3d7140d8c6875f41949d7810a5b28$export$default","imageScale","$c688a5536812a660dcb99a40abca0df5$var$WIDTH","$c688a5536812a660dcb99a40abca0df5$var$HEIGHT","$c688a5536812a660dcb99a40abca0df5$var$PAD","$c688a5536812a660dcb99a40abca0df5$export$UI","containerId","backgroundLayer","tilesLayer","handLayer","menuLayer","tileWidth","tileHeight","scaleOther","configOther","PAD_TB","PAD_LR","meldTiles","handTiles","menuY","menu","wildcard","discard","innerWidth","innerHeight","load","clearTiles","setNames","props","$be9a4d9a71ee9fcfc314b5ec332f4c3a$export$Move","Move","$796d9e83ef7db6deee3f36d70179bd70$var$GameLogic","ui","server","send","onAlert","alert","setMelds","discardTile","setWildcard","sendMove","WIN","PONG","KONG","DEAL","HIT","_resolve","reject","onclose","onerror","close","onmessage","full","set_tiles","set_wildcard","set_melds","debug","modal","bootstrap","Modal","keyboard","backdrop","form","querySelector","onsubmit","FormData","socket","WebSocket","onopen","ws","catch","reason","finally"],"version":3,"file":"index.0456df22.js.map"}